<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Module Map Plugin</title>
  
  <script type="text/javascript" src="../scripts/highlight.js"></script>
  <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
  <div id="sidebar" class="interface"><ul><li class="header"><a href="index.html">Plugins</a><ul class="sub"><li><a href="../plugins/conditional.html">Conditional Plugin</a></li><li><a href="../plugins/inline-styles.html">Inline Styles Plugin</a></li><li><a href="../plugins/module-map.html">Module Map Plugin</a></li><li><a href="../plugins/package-config.html">Package Config Plugin</a></li><li><a href="../plugins/router.html">Router Plugin</a></li><li><a href="../plugins/scope.html">Scope Plugin</a></li><li><a href="../plugins/static-resources.html">Static Resources Plugin</a></li><li><a href="../plugins/stylus.html">Stylus Plugin</a></li><li><a href="../plugins/template.html">Template Plugin</a></li><li><a href="../plugins/update-externals.html">Update Externals Plugin</a></li></ul></li><li class="header"><a href="../">Home</a></li></ul></div>
  <div class="container"><div class="page">
    <h1>Module Map Plugin</h1>

<h2 id="introduction">Introduction</h2>

<p>This plugin will write the lumbar module mapping code used to load modules in a
meaningful way.  The easiest way to use the module loader is with a backbone
application however it is possible to create a custom module loader.</p>

<p>To output the module mapping javascript code in your project, you need to add a
resource reference in the <code>files</code> data.  This reference should be in the base
module after the <code>lumbar-loader.js</code> reference but before an loader implementation
references.  See <a href="https://github.com/walmartlabs/lumbar-loader">lumbar-loader</a> for more details.</p>

<h2 id="preload-and-depends">Preload and Depends</h2>

<p>As of 2.0 the module-map plugin supports <code>preload</code> and <code>depends</code> flags defined on individual modules. When defined these will either background or blocking load, respectively.</p>

<h2 id="example">Example</h2>

<p>This example is from the <a href="https://github.com/walmartlabs/thorax-todos">sample todos app</a></p>

<pre><code>"modules": {
  "base": [
    ...
    {"src": "lib/backbone.js", "global": true},
    {"src": "lib/thorax.js", "global": true},
    {"src": "lib/lumbar-loader.js"},
    {"module-map": true},
    {"src": "lib/lumbar-loader-standard.js"},
    {"src": "lib/lumbar-loader-backbone.js"},
    ...
  ],</code></pre>

<p>The code produced from the module map with the <a href="https://github.com/walmartlabs/thorax-todos/blob/master/lumbar.json">sample todos app lumbar file</a></p>

<pre><code>module.exports.moduleMap({"modules":{"todo":{"js":"todo.js"}},"routes":{"":"todo","todo":"todo"},"base":{"js":"base.js"}}, './');</code></pre>
  </div></div>
  <a href="http://github.com/walmartlabs/lumbar">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub">
  </a>
</body>
</html>
