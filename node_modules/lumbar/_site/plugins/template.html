<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Template Plugin</title>
  
  <script type="text/javascript" src="../scripts/highlight.js"></script>
  <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
  <div id="sidebar" class="interface"><ul><li class="header"><a href="index.html">Plugins</a><ul class="sub"><li><a href="../plugins/conditional.html">Conditional Plugin</a></li><li><a href="../plugins/inline-styles.html">Inline Styles Plugin</a></li><li><a href="../plugins/module-map.html">Module Map Plugin</a></li><li><a href="../plugins/package-config.html">Package Config Plugin</a></li><li><a href="../plugins/router.html">Router Plugin</a></li><li><a href="../plugins/scope.html">Scope Plugin</a></li><li><a href="../plugins/static-resources.html">Static Resources Plugin</a></li><li><a href="../plugins/stylus.html">Stylus Plugin</a></li><li><a href="../plugins/template.html">Template Plugin</a></li><li><a href="../plugins/update-externals.html">Update Externals Plugin</a></li></ul></li><li class="header"><a href="../">Home</a></li></ul></div>
  <div class="container"><div class="page">
    <h1>Template Plugin</h1>

<h2 id="introduction">Introduction</h2>

<p>The template plugin provides allows for bundling of handlebars templates with the dependent javascript
code, allowing templates to be kept in separate files and removing any need for additional requests to
load the templates required by a given module.</p>

<h2 id="usage">Usage</h2>

<p>The template plugin looks for a <code>template</code> configuration object defined on the root lumbar config.
This object should be a hash of javascript pathnames whose values are arrays of template files. on build,
each module that includes a file listed in this hash will have the associated templates defined at least
once in the output.</p>

<h3 id="configuration">Configuration</h3>

<ul><li><code>precompile</code> : Options to pass to handlebars precompile method if precompilation is desired. Leave
    falsy or undefined to load the templates through client-side compilation.
&amp; <code>precompile.template</code> : An optional string for the code to be generated when a compiled template
    is inserted into the module source. The template will recieve three variables: <code>data</code>, 
    <code>templateCache</code> and <code>name</code>. It may be a string handlbars template or a path to a file ending in <code>.handlebars</code></li><li><code>templateCache</code> : Object that templates will be assigned to. This field is defined on the root 
    and defaults to <code>{AppModule}.templates</code> where {AppModule} is the name of the application module.
    This instance can be any object and should be manually defined by the client code.</li><li><code>templates.template</code> : An optional string for the code to be generated when a template is inserted into
    the module source. The template will recieve three variables: <code>data</code>, <code>templateCache</code> and <code>name</code>. It may be a string handlbars template or a path to a file ending in <code>.handlebars</code></li></ul>

<h2 id="example">Example</h2>

<pre><code>{
  "modules": {
    "base": [
      {"src": "js/base.js"}
    ]
  },
  "templates": {
    "js/base.js": [
      "templates/home.handlebars",
      "templates/footer.handlebars"
    ],

    "precompile": {
      "knownHelpers": [
        "template",
        "view"
      ],
      "knownHelpersOnly": true
    }
  },

  "templateCache": "TemplateCache",
  "templateTemplate": "{{{templateCache}}}['{{{name}}}'] = Handlebars.compile('{{{data}}}');",
  "precompiledTemplate": "{{{templateCache}}}['{{{name}}}'] = Handlebars.template({{{data}}});"
}</code></pre>
  </div></div>
  <a href="http://github.com/walmartlabs/lumbar">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub">
  </a>
</body>
</html>
