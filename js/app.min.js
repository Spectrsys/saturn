/*! saturn - v0.0.1
* 2013-08-04
* http://www.saturn.com
* Copyright (c) 2013 - saturn */ 
function createHttpBackendMock(t,e,n){function a(t,e,n){return angular.isFunction(t)?t:function(){return angular.isNumber(t)?[t,e,n]:[200,t,e]}}function i(t,a,i,r,u,d){function f(t){return angular.isString(t)||angular.isFunction(t)||t instanceof RegExp?t:angular.toJson(t)}function h(e){function o(){var n=e.response(t,a,i,u);p.$$respHeaders=n[2],r(n[0],n[1],p.getAllResponseHeaders())}function s(){for(var t=0,e=l.length;e>t;t++)if(l[t]===o){l.splice(t,1),r(-1,void 0,"");break}}return!n&&d&&d.then&&d.then(s),o}var p=new MockXhr,g=s[0],m=!1;if(g&&g.match(t,a)){if(!g.matchData(i))throw Error("Expected "+g+" with different data\n"+"EXPECTED: "+f(g.data)+"\nGOT:      "+i);if(!g.matchHeaders(u))throw Error("Expected "+g+" with different headers\n"+"EXPECTED: "+f(g.headers)+"\nGOT:      "+f(u));if(s.shift(),g.response)return l.push(h(g)),void 0;m=!0}for(var v,b=-1;v=o[++b];)if(v.match(t,a,i,u||{})){if(v.response)(n?n.defer:c)(h(v));else{if(!v.passThrough)throw Error("No response defined !");e(t,a,i,r,u,d)}return}throw m?Error("No response defined !"):Error("Unexpected request: "+t+" "+a+"\n"+(g?"Expected "+g:"No more request expected"))}function r(t){angular.forEach(["GET","DELETE","JSONP"],function(e){i[t+e]=function(n,a){return i[t](e,n,void 0,a)}}),angular.forEach(["PUT","POST","PATCH"],function(e){i[t+e]=function(n,a,r){return i[t](e,n,a,r)}})}var o=[],s=[],l=[],c=angular.bind(l,l.push);return i.when=function(t,e,i,r){var s=new MockHttpExpectation(t,e,i,r),l={respond:function(t,e,n){s.response=a(t,e,n)}};return n&&(l.passThrough=function(){s.passThrough=!0}),o.push(s),l},r("when"),i.expect=function(t,e,n,i){var r=new MockHttpExpectation(t,e,n,i);return s.push(r),{respond:function(t,e,n){r.response=a(t,e,n)}}},r("expect"),i.flush=function(e){if(t.$digest(),!l.length)throw Error("No pending request to flush !");if(angular.isDefined(e))for(;e--;){if(!l.length)throw Error("No more pending request to flush !");l.shift()()}else for(;l.length;)l.shift()();i.verifyNoOutstandingExpectation()},i.verifyNoOutstandingExpectation=function(){if(t.$digest(),s.length)throw Error("Unsatisfied requests: "+s.join(", "))},i.verifyNoOutstandingRequest=function(){if(l.length)throw Error("Unflushed requests: "+l.length)},i.resetExpectations=function(){s.length=0,l.length=0},i}function MockHttpExpectation(t,e,n,a){this.data=n,this.headers=a,this.match=function(e,n,a,i){return t!=e?!1:this.matchUrl(n)?angular.isDefined(a)&&!this.matchData(a)?!1:angular.isDefined(i)&&!this.matchHeaders(i)?!1:!0:!1},this.matchUrl=function(t){return e?angular.isFunction(e.test)?e.test(t):e==t:!0},this.matchHeaders=function(t){return angular.isUndefined(a)?!0:angular.isFunction(a)?a(t):angular.equals(a,t)},this.matchData=function(t){return angular.isUndefined(n)?!0:n&&angular.isFunction(n.test)?n.test(t):n&&!angular.isString(n)?angular.toJson(n)==t:n==t},this.toString=function(){return t+" "+e}}function MockXhr(){MockXhr.$$lastInstance=this,this.open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var e=this.$$respHeaders[t];return e?e:(t=angular.lowercase(t),(e=this.$$respHeaders[t])?e:(e=void 0,angular.forEach(this.$$respHeaders,function(n,a){e||angular.lowercase(a)!=t||(e=n)}),e))},this.getAllResponseHeaders=function(){var t=[];return angular.forEach(this.$$respHeaders,function(e,n){t.push(n+": "+e)}),t.join("\n")},this.abort=angular.noop}angular.mock={},angular.mock.$BrowserProvider=function(){this.$get=function(){return new angular.mock.$Browser}},angular.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[],t.$$completeOutstandingRequest=angular.noop,t.$$incOutstandingRequestCount=angular.noop,t.onUrlChange=function(e){return t.pollFns.push(function(){t.$$lastUrl!=t.$$url&&(t.$$lastUrl=t.$$url,e(t.$$url))}),e},t.cookieHash={},t.lastCookieHash={},t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,n){return n=n||0,t.deferredFns.push({time:t.defer.now+n,fn:e,id:t.deferredNextId}),t.deferredFns.sort(function(t,e){return t.time-e.time}),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(e){var n;return angular.forEach(t.deferredFns,function(t,a){t.id===e&&(n=a)}),void 0!==n?(t.deferredFns.splice(n,1),!0):!1},t.defer.flush=function(e){if(angular.isDefined(e))t.defer.now+=e;else{if(!t.deferredFns.length)throw Error("No deferred tasks to be flushed");t.defer.now=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=t.defer.now;)t.deferredFns.shift().fn()},t.$$baseHref="",t.baseHref=function(){return this.$$baseHref}},angular.mock.$Browser.prototype={poll:function(){angular.forEach(this.pollFns,function(t){t()})},addPollFn:function(t){return this.pollFns.push(t),t},url:function(t){return t?(this.$$url=t,this):this.$$url},cookies:function(t,e){return t?(void 0==e?delete this.cookieHash[t]:angular.isString(e)&&4096>=e.length&&(this.cookieHash[t]=e),void 0):(angular.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=angular.copy(this.cookieHash),this.cookieHash=angular.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(t){t()}},angular.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"rethrow":t=function(t){throw t};break;case"log":var n=[];t=function(t){1==arguments.length?n.push(t):n.push([].slice.call(arguments,0))},t.errors=n;break;default:throw Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},angular.mock.$LogProvider=function(){function t(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}this.$get=function(){var e={log:function(){e.log.logs.push(t([],arguments,0))},warn:function(){e.warn.logs.push(t([],arguments,0))},info:function(){e.info.logs.push(t([],arguments,0))},error:function(){e.error.logs.push(t([],arguments,0))}};return e.reset=function(){e.log.logs=[],e.warn.logs=[],e.info.logs=[],e.error.logs=[]},e.assertEmpty=function(){var t=[];if(angular.forEach(["error","warn","info","log"],function(n){angular.forEach(e[n].logs,function(e){angular.forEach(e,function(e){t.push("MOCK $log ("+n+"): "+(e+"")+"\n"+(e.stack||""))})})}),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),Error(t.join("\n---------\n"))},e.reset(),e}},function(){function t(t){var n;if(n=t.match(a)){var i=new Date(0),r=0,o=0;return n[9]&&(r=e(n[9]+n[10]),o=e(n[9]+n[11])),i.setUTCFullYear(e(n[1]),e(n[2])-1,e(n[3])),i.setUTCHours(e(n[4]||0)-r,e(n[5]||0)-o,e(n[6]||0),e(n[7]||0)),i}return t}function e(t){return parseInt(t,10)}function n(t,e,n){var a="";for(0>t&&(a="-",t=-t),t=""+t;e>t.length;)t="0"+t;return n&&(t=t.substr(t.length-e)),a+t}var a=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;angular.mock.TzDate=function(e,a){var i=new Date(0);if(angular.isString(a)){var r=a;if(i.origDate=t(a),a=i.origDate.getTime(),isNaN(a))throw{name:"Illegal Argument",message:"Arg '"+r+"' passed into TzDate constructor is not a valid date string"}}else i.origDate=new Date(a);var o=new Date(a).getTimezoneOffset();i.offsetDiff=1e3*60*o-60*60*1e3*e,i.date=new Date(a+i.offsetDiff),i.getTime=function(){return i.date.getTime()-i.offsetDiff},i.toLocaleDateString=function(){return i.date.toLocaleDateString()},i.getFullYear=function(){return i.date.getFullYear()},i.getMonth=function(){return i.date.getMonth()},i.getDate=function(){return i.date.getDate()},i.getHours=function(){return i.date.getHours()},i.getMinutes=function(){return i.date.getMinutes()},i.getSeconds=function(){return i.date.getSeconds()},i.getMilliseconds=function(){return i.date.getMilliseconds()},i.getTimezoneOffset=function(){return 60*e},i.getUTCFullYear=function(){return i.origDate.getUTCFullYear()},i.getUTCMonth=function(){return i.origDate.getUTCMonth()},i.getUTCDate=function(){return i.origDate.getUTCDate()},i.getUTCHours=function(){return i.origDate.getUTCHours()},i.getUTCMinutes=function(){return i.origDate.getUTCMinutes()},i.getUTCSeconds=function(){return i.origDate.getUTCSeconds()},i.getUTCMilliseconds=function(){return i.origDate.getUTCMilliseconds()},i.getDay=function(){return i.date.getDay()},i.toISOString&&(i.toISOString=function(){return n(i.origDate.getUTCFullYear(),4)+"-"+n(i.origDate.getUTCMonth()+1,2)+"-"+n(i.origDate.getUTCDate(),2)+"T"+n(i.origDate.getUTCHours(),2)+":"+n(i.origDate.getUTCMinutes(),2)+":"+n(i.origDate.getUTCSeconds(),2)+"."+n(i.origDate.getUTCMilliseconds(),3)+"Z"});var s=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return angular.forEach(s,function(t){i[t]=function(){throw Error("Method '"+t+"' is not implemented in the TzDate mock")}}),i},angular.mock.TzDate.prototype=Date.prototype}(),angular.mock.createMockWindow=function(){var t={},e=[];return t.document=window.document,t.getComputedStyle=angular.bind(window,window.getComputedStyle),t.scrollTo=angular.bind(window,window.scrollTo),t.navigator=window.navigator,t.setTimeout=function(t,n){e.push({fn:t,delay:n})},t.setTimeout.queue=e,t.setTimeout.expect=function(t){return e.length>0?{process:function(){var n=e.shift();expect(n.delay).toEqual(t),n.fn()}}:(expect("SetTimoutQueue empty. Expecting delay of ").toEqual(t),void 0)},t},angular.mock.dump=function(t){function e(t){var a;return angular.isElement(t)?(t=angular.element(t),a=angular.element("<div></div>"),angular.forEach(t,function(t){a.append(angular.element(t).clone())}),a=a.html()):angular.isArray(t)?(a=[],angular.forEach(t,function(t){a.push(e(t))}),a="[ "+a.join(", ")+" ]"):a=angular.isObject(t)?angular.isFunction(t.$eval)&&angular.isFunction(t.$apply)?n(t):t instanceof Error?t.stack||""+t.name+": "+t.message:angular.toJson(t,!0):t+"",a}function n(t,e){e=e||"  ";var a=[e+"Scope("+t.$id+"): {"];for(var i in t)t.hasOwnProperty(i)&&!i.match(/^(\$|this)/)&&a.push("  "+i+": "+angular.toJson(t[i]));for(var r=t.$$childHead;r;)a.push(n(r,e+"  ")),r=r.$$nextSibling;return a.push("}"),a.join("\n"+e)}return e(t)},angular.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",createHttpBackendMock]},angular.mock.$TimeoutDecorator=function(t,e){function n(t){var e=[];return angular.forEach(t,function(t){e.push("{id: "+t.id+", "+"time: "+t.time+"}")}),e.join(", ")}return t.flush=function(){e.defer.flush()},t.verifyNoPendingTasks=function(){if(e.deferredFns.length)throw Error("Deferred tasks to flush ("+e.deferredFns.length+"): "+n(e.deferredFns))},t},angular.mock.$RootElementProvider=function(){this.$get=function(){return angular.element("<div ng-app></div>")}},angular.module("ngMock",["ng"]).provider({$browser:angular.mock.$BrowserProvider,$exceptionHandler:angular.mock.$ExceptionHandlerProvider,$log:angular.mock.$LogProvider,$httpBackend:angular.mock.$HttpBackendProvider,$rootElement:angular.mock.$RootElementProvider}).config(function(t){t.decorator("$timeout",angular.mock.$TimeoutDecorator)}),angular.module("ngMockE2E",["ng"]).config(function(t){t.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator)}),angular.mock.e2e={},angular.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",createHttpBackendMock],angular.mock.clearDataCache=function(){var t,e=angular.element.cache;for(t in e)if(e.hasOwnProperty(t)){var n=e[t].handle;n&&angular.element(n.elem).unbind(),delete e[t]}},window.jstestdriver&&function(t){t.dump=function(){var e=[];angular.forEach(arguments,function(t){e.push(angular.mock.dump(t))}),jstestdriver.console.log.apply(jstestdriver.console,e),t.console&&t.console.log.apply(t.console,e)}}(window),(window.jasmine||window.mocha)&&function(t){function e(){return n&&(t.mocha||n.queue.running)}var n=null;beforeEach(function(){n=this}),afterEach(function(){var t=n.$injector;n.$injector=null,n.$modules=null,n=null,t&&(t.get("$rootElement").unbind(),t.get("$browser").pollFns.length=0),angular.mock.clearDataCache(),angular.forEach(angular.element.fragments,function(t,e){delete angular.element.fragments[e]}),MockXhr.$$lastInstance=null,angular.forEach(angular.callbacks,function(t,e){delete angular.callbacks[e]}),angular.callbacks.counter=0}),t.module=angular.mock.module=function(){function t(){if(n.$injector)throw Error("Injector already created, can not register a module!");var t=n.$modules||(n.$modules=[]);angular.forEach(a,function(e){t.push(e)})}var a=Array.prototype.slice.call(arguments,0);return e()?t():t},t.inject=angular.mock.inject=function(){function t(){var t=n.$modules||[];t.unshift("ngMock"),t.unshift("ng");var e=n.$injector;e||(e=n.$injector=angular.injector(t));for(var r=0,o=a.length;o>r;r++)try{e.invoke(a[r]||angular.noop,this)}catch(s){throw s.stack&&i&&(s.stack+="\n"+i.stack),s}finally{i=null}}var a=Array.prototype.slice.call(arguments,0),i=Error("Declaration Location");return e()?t():t}}(window),function(t,e,n){"use strict";e.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(t,a){function i(t){return r(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function r(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function o(t,e){this.template=t,this.defaults=e||{},this.urlParams={}}function s(a,i,r){function g(t,e){var n={};return e=d({},i,e),u(e,function(e,a){h(e)&&(e=e()),n[a]=e&&e.charAt&&"@"==e.charAt(0)?p(t,e.substr(1)):e}),n}function m(t){f(t||{},this)}var v=new o(a);return r=d({},l,r),u(r,function(a,i){a.method=e.uppercase(a.method);var r="POST"==a.method||"PUT"==a.method||"PATCH"==a.method;m[i]=function(e,n,i,o){function s(){$.$resolved=!0}var l,p,b={},y=c,w=null;switch(arguments.length){case 4:w=o,y=i;case 3:case 2:if(!h(n)){b=e,l=n,y=i;break}if(h(e)){y=e,w=n;break}y=n,w=i;case 1:h(e)?y=e:r?l=e:b=e;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var p,$=this instanceof m?this:a.isArray?[]:new m(l),k={};return u(a,function(t,e){"params"!=e&&"isArray"!=e&&(k[e]=f(t))}),k.data=l,v.setUrlParams(k,d({},g(l,a.params||{}),b),a.url),p=t(k),$.$resolved=!1,p.then(s,s),$.$then=p.then(function(t){var e=t.data,n=$.$then,i=$.$resolved;return e&&(a.isArray?($.length=0,u(e,function(t){$.push(new m(t))})):(f(e,$),$.$then=n,$.$resolved=i)),(y||c)($,t.headers),t.resource=$,t},w).then,$},m.prototype["$"+i]=function(t,e,a){var o,s=g(this),l=c;switch(arguments.length){case 3:s=t,l=e,o=a;break;case 2:case 1:h(t)?(l=t,o=e):(s=t,l=e||c);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var u=r?this:n;m[i].call(this,s,u,l,o)}}),m.bind=function(t){return s(a,d({},i,t),r)},m}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},c=e.noop,u=e.forEach,d=e.extend,f=e.copy,h=e.isFunction,p=function(t,e){return a(e)(t)};return o.prototype={setUrlParams:function(t,n,a){var r,o,s=this,l=a||s.template,c=s.urlParams={};u(l.split(/\W/),function(t){t&&RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(c[t]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},u(s.urlParams,function(t,a){r=n.hasOwnProperty(a)?n[a]:s.defaults[a],e.isDefined(r)&&null!==r?(o=i(r),l=l.replace(RegExp(":"+a+"(\\W|$)","g"),o+"$1")):l=l.replace(RegExp("(/?):"+a+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),l=l.replace(/\/+$/,""),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=l.replace(/\/\\\./,"/."),u(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},s}])}(window,window.angular),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(t,e){var n={};return angular.isString(t.animate)?n["class"]=t.animate:t.animate&&(n=t.animate),{restrict:"A",link:function(t,a,i){var r={};i.uiAnimate&&(r=t.$eval(i.uiAnimate),angular.isString(r)&&(r={"class":r})),r=angular.extend({"class":"ui-animate"},n,r),a.addClass(r["class"]),e(function(){a.removeClass(r["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(t){return t.uiCalendar=t.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(e,n,a){function i(){e.calendar=n.html("");var i=e.calendar.fullCalendar("getView");i&&(i=i.name);var o,s={defaultView:i,eventSources:r};o=a.uiCalendar?e.$eval(a.uiCalendar):{},angular.extend(s,t.uiCalendar,o),e.calendar.fullCalendar(s)}var r=e.$eval(a.ngModel),o=0,s=function(){var t=e.$eval(a.equalsTracker);return o=0,angular.forEach(r,function(t){angular.isArray(t)&&(o+=t.length)}),angular.isNumber(t)?o+r.length+t:o+r.length};i(),e.$watch(s,function(){i()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(t,e){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(a,i,r,o){var s,l,c,u,d;if("textarea"!==i[0].type)throw Error("uiCodemirror3 can only be applied to a textarea element");s=t.codemirror||{},l=angular.extend({},s,a.$eval(r.uiCodemirror)),c=function(t){return function(e,n){var i=e.getValue();i!==o.$viewValue&&(o.$setViewValue(i),a.$apply()),"function"==typeof t&&t(e,n)}},u=function(){d=CodeMirror.fromTextArea(i[0],l),d.on("change",c(l.onChange));for(var t,s=0,u=n.length;u>s;++s)t=l["on"+n[s].charAt(0).toUpperCase()+n[s].slice(1)],void 0!==t&&"function"==typeof t&&d.on(n[s],t);o.$formatters.push(function(t){if(angular.isUndefined(t)||null===t)return"";if(angular.isObject(t)||angular.isArray(t))throw Error("ui-codemirror cannot use an object or an array as a model");return t}),o.$render=function(){d.setValue(o.$viewValue)},r.uiRefresh&&a.$watch(r.uiRefresh,function(t,n){t!==n&&e(d.refresh)})},e(u)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(t,e){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return t.currency&&angular.extend(n,t.currency),{restrict:"EAC",require:"ngModel",link:function(t,a,i,r){var o,s,l;o=angular.extend({},n,t.$eval(i.uiCurrency)),s=function(t){var n;return n=1*t,a.toggleClass(o.pos,n>0),a.toggleClass(o.neg,0>n),a.toggleClass(o.zero,0===n),""===t?a.text(""):a.text(e(n,o.symbol)),!0},r.$render=function(){l=r.$viewValue,a.val(l),s(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(t){"use strict";var e;return e={},angular.isObject(t.date)&&angular.extend(e,t.date),{require:"?ngModel",link:function(e,n,a,i){var r=function(){return angular.extend({},t.date,e.$eval(a.uiDate))},o=function(){var t=r();if(i){var a=function(){e.$apply(function(){var t=n.datepicker("getDate");n.datepicker("setDate",n.val()),i.$setViewValue(t),n.blur()})};if(t.onSelect){var o=t.onSelect;t.onSelect=function(t,n){a(),e.$apply(function(){o(t,n)})}}else t.onSelect=a;n.bind("change",a),i.$render=function(){var t=i.$viewValue;if(angular.isDefined(t)&&null!==t&&!angular.isDate(t))throw Error("ng-Model value must be a Date object - currently it is a "+typeof t+" - use ui-date-format to convert it from a string");n.datepicker("setDate",t)}}n.datepicker("destroy"),n.datepicker(t),i&&i.$render()};e.$watch(r,o,!0)}}}]).directive("uiDateFormat",["ui.config",function(t){var e={require:"ngModel",link:function(e,n,a,i){var r=a.uiDateFormat||t.dateFormat;r?(i.$formatters.push(function(t){return angular.isString(t)?$.datepicker.parseDate(r,t):void 0}),i.$parsers.push(function(t){return t?$.datepicker.formatDate(r,t):void 0})):(i.$formatters.push(function(t){return angular.isString(t)?new Date(t):void 0}),i.$parsers.push(function(t){return t?t.toISOString():void 0}))}};return e}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(t){return function(e,n,a){var i=e.$eval(a.uiEvent);angular.forEach(i,function(a,i){var r=t(a);n.bind(i,function(t){var n=Array.prototype.slice.call(arguments);n=n.splice(1),e.$apply(function(){r(e,{$event:t,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(t,e,n){return function(t,e,a){var i,r;t.$watch(a.uiIf,function(a){i&&(i.remove(),i=void 0),r&&(r.$destroy(),r=void 0),a&&(r=t.$new(),n(r,function(t){i=t,e.after(t)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(t,e){return{restrict:"A",compile:function(n,a){if(!angular.isFunction(n[a.uiJq]))throw Error('ui-jq: The "'+a.uiJq+'" function does not exist');var i=t.jq&&t.jq[a.uiJq];return function(t,n,a){function r(){e(function(){n[a.uiJq].apply(n,o)},0,!1)}var o=[];a.uiOptions?(o=t.$eval("["+a.uiOptions+"]"),angular.isObject(i)&&angular.isObject(o[0])&&(o[0]=angular.extend({},i,o[0]))):i&&(o=[i]),a.ngModel&&n.is("select,input,textarea")&&n.on("change",function(){n.trigger("input")}),a.uiRefresh&&t.$watch(a.uiRefresh,function(){r()}),r()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(t){var e={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};return function(a,i,r,o){var s,l=[];s=i.$eval(o["ui"+n(a)]),angular.forEach(s,function(e,n){var a,i;i=t(e),angular.forEach(n.split(" "),function(t){a={expression:i,keys:{}},angular.forEach(t.split("-"),function(t){a.keys[t]=!0}),l.push(a)})}),r.bind(a,function(t){var n=t.metaKey||t.altKey,r=t.ctrlKey,o=t.shiftKey,s=t.keyCode;"keypress"===a&&!o&&s>=97&&122>=s&&(s-=32),angular.forEach(l,function(a){var s=a.keys[e[t.keyCode]]||a.keys[""+t.keyCode]||!1,l=a.keys.alt||!1,c=a.keys.ctrl||!1,u=a.keys.shift||!1;s&&l==n&&c==r&&u==o&&i.$apply(function(){a.expression(i,{$event:t})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(t){return{link:function(e,n,a){t("keydown",e,n,a)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(t){return{link:function(e,n,a){t("keypress",e,n,a)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(t){return{link:function(e,n,a){t("keyup",e,n,a)}}}]),function(){function t(t,e,n,a){angular.forEach(e.split(" "),function(e){var i={type:"map-"+e};google.maps.event.addListener(n,e,function(e){a.triggerHandler(angular.extend({},i,e)),t.$$phase||t.$apply()})})}function e(e,a){n.directive(e,[function(){return{restrict:"A",link:function(n,i,r){n.$watch(r[e],function(e){t(n,a,e,i)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(e,n){var a="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",i=e.map||{};return{restrict:"A",link:function(e,r,o){var s=angular.extend({},i,e.$eval(o.uiOptions)),l=new google.maps.Map(r[0],s),c=n(o.uiMap);c.assign(e,l),t(e,a,l,r)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(e,n,a){var i="closeclick content_change domready position_changed zindex_changed",r=e.mapInfoWindow||{};return{link:function(e,o,s){var l=angular.extend({},r,e.$eval(s.uiOptions));l.content=o[0];var c=n(s.uiMapInfoWindow),u=c(e);u||(u=new google.maps.InfoWindow(l),c.assign(e,u)),t(e,i,u,o),o.replaceWith("<div></div>");var d=u.open;u.open=function(t,n,i,r,s,l){a(o.contents())(e),d.call(u,t,n,i,r,s,l)}}}}]),e("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),e("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),e("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),e("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),e("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),e("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(t,e,n,a){a.$render=function(){var i=a.$viewValue||"";e.val(i),e.mask(t.$eval(n.uiMask))},a.$parsers.push(function(t){var n=e.isMaskValid()||angular.isUndefined(e.isMaskValid())&&e.val().length>0;return a.$setValidity("mask",n),n?t:void 0}),e.bind("keyup",function(){t.$apply(function(){a.$setViewValue(e.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(t){var e=null;return void 0!==t.reset&&(e=t.reset),{require:"ngModel",link:function(t,n,a,i){var r;r=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(r),r.bind("click",function(n){n.preventDefault(),t.$apply(function(){a.uiReset?i.$setViewValue(t.$eval(a.uiReset)):i.$setViewValue(e),i.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(t,e){return{restrict:"AC",compile:function(n,a){var i;if(a.uiRoute)i="uiRoute";else if(a.ngHref)i="ngHref";else{if(!a.href)throw Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,a,r){function o(e){(hash=e.indexOf("#"))>-1&&(e=e.substr(hash+1)),c=function(){l(n,t.path().indexOf(e)>-1)},c()}function s(e){(hash=e.indexOf("#"))>-1&&(e=e.substr(hash+1)),c=function(){var a=RegExp("^"+e+"$",["i"]);l(n,a.test(t.path()))},c()}var l=e(r.ngModel||r.routeModel||"$uiRoute").assign,c=angular.noop;switch(i){case"uiRoute":r.uiRoute?s(r.uiRoute):r.$observe("uiRoute",s);break;case"ngHref":r.ngHref?o(r.ngHref):r.$observe("ngHref",o);break;case"href":o(r.href)}n.$on("$routeChangeSuccess",function(){c()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(t){"use strict";return{link:function(e,n,a){var i=n.offset().top;a.uiScrollfix?"-"===a.uiScrollfix.charAt(0)?a.uiScrollfix=i-a.uiScrollfix.substr(1):"+"===a.uiScrollfix.charAt(0)&&(a.uiScrollfix=i+parseFloat(a.uiScrollfix.substr(1))):a.uiScrollfix=i,angular.element(t).on("scroll.ui-scrollfix",function(){var e;if(angular.isDefined(t.pageYOffset))e=t.pageYOffset;else{var i=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;e=i.scrollTop}!n.hasClass("ui-scrollfix")&&e>a.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&a.uiScrollfix>e&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(t,e){var n={};return t.select2&&angular.extend(n,t.select2),{require:"?ngModel",compile:function(t,a){var i,r,o,s=t.is("select"),l=void 0!==a.multiple;return t.is("select")&&(r=t.find("option[ng-repeat], option[data-ng-repeat]"),r.length&&(o=r.attr("ng-repeat")||r.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(t,a,r,o){var c=angular.extend({},n,t.$eval(r.uiSelect2));if(s?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),o&&(o.$render=function(){s?a.select2("val",o.$modelValue):l?o.$modelValue?angular.isArray(o.$modelValue)?a.select2("data",o.$modelValue):a.select2("val",o.$modelValue):a.select2("data",[]):angular.isObject(o.$modelValue)?a.select2("data",o.$modelValue):a.select2("val",o.$modelValue)},i&&t.$watch(i,function(t){t&&e(function(){a.select2("val",o.$viewValue),a.trigger("change")})}),!s&&(a.bind("change",function(){t.$apply(function(){o.$setViewValue(a.select2("data"))})}),c.initSelection))){var u=c.initSelection;c.initSelection=function(t,e){u(t,function(t){o.$setViewValue(t),e(t)})}}r.$observe("disabled",function(t){a.select2(t&&"disable"||"enable")}),r.ngMultiple&&t.$watch(r.ngMultiple,function(){a.select2(c)}),a.val(t.$eval(r.ngModel)),e(function(){a.select2(c),c.initSelection||s||o.$setViewValue(a.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(t,e,n){t.$watch(n.uiShow,function(t){t?e.addClass("ui-show"):e.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(t,e,n){t.$watch(n.uiHide,function(t){t?e.addClass("ui-hide"):e.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(t,e,n){t.$watch(n.uiToggle,function(t){t?e.removeClass("ui-hide").addClass("ui-show"):e.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(t){return{require:"?ngModel",link:function(e,n,a,i){var r,o,s,l,c,u,d,f,h;c=angular.extend({},t.sortable,e.$eval(a.uiSortable)),i&&(i.$render=function(){n.sortable("refresh")},s=function(t,e){e.item.sortable={index:e.item.index()}},l=function(t,e){e.item.sortable.resort=i},r=function(t,e){e.item.sortable.relocate=!0,i.$modelValue.splice(e.item.index(),0,e.item.sortable.moved)},o=function(t,e){e.item.sortable.moved=1===i.$modelValue.length?i.$modelValue.splice(0,1)[0]:i.$modelValue.splice(e.item.sortable.index,1)[0]},onStop=function(t,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var a,i;i=n.item.sortable.index,a=n.item.index(),a>i&&a--,n.item.sortable.resort.$modelValue.splice(a,0,n.item.sortable.resort.$modelValue.splice(i,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&e.$apply()},f=c.start,c.start=function(t,e){s(t,e),"function"==typeof f&&f(t,e)},_stop=c.stop,c.stop=function(t,e){onStop(t,e),"function"==typeof _stop&&_stop(t,e)},h=c.update,c.update=function(t,e){l(t,e),"function"==typeof h&&h(t,e)},u=c.receive,c.receive=function(t,e){r(t,e),"function"==typeof u&&u(t,e)},d=c.remove,c.remove=function(t,e){o(t,e),"function"==typeof d&&d(t,e)}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(t){return t.tinymce=t.tinymce||{},{require:"ngModel",link:function(e,n,a,i){var r,o={onchange_callback:function(t){t.isDirty()&&(t.save(),i.$setViewValue(n.val()),e.$$phase||e.$apply())},handle_event_callback:function(){return this.isDirty()&&(this.save(),i.$setViewValue(n.val()),e.$$phase||e.$apply()),!0},setup:function(t){t.onSetContent.add(function(t){t.isDirty()&&(t.save(),i.$setViewValue(n.val()),e.$$phase||e.$apply())})}};r=a.uiTinymce?e.$eval(a.uiTinymce):{},angular.extend(o,t.tinymce,r),setTimeout(function(){n.tinymce(o)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,a){var i,r,o={},s=t.$eval(n.uiValidate);s&&(angular.isString(s)&&(s={validator:s}),angular.forEach(s,function(e,n){i=function(i){return t.$eval(e,{$value:i})?(a.$setValidity(n,!0),i):(a.$setValidity(n,!1),void 0)},o[n]=i,a.$formatters.push(i),a.$parsers.push(i)}),n.uiValidateWatch&&(r=t.$eval(n.uiValidateWatch),angular.isString(r)?t.$watch(r,function(){angular.forEach(o,function(t){t(a.$modelValue)})}):angular.forEach(r,function(e,n){t.$watch(e,function(){o[n](a.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(t,e){if(!t)return t;var n,a=""+t;return void 0===e?a:angular.isArray(e)||angular.isObject(e)?(n=angular.isArray(e)&&"$"||":",angular.forEach(e,function(t,e){a=a.split(n+e).join(t)
}),a):a.split("$0").join(e)}}),angular.module("ui.filters").filter("highlight",function(){return function(t,e,n){return e||angular.isNumber(e)?(t=""+t,e=""+e,n?t.split(e).join('<span class="ui-match">'+e+"</span>"):t.replace(RegExp(e,"gi"),'<span class="ui-match">$&</span>')):t}}),angular.module("ui.filters").filter("inflector",function(){function t(t){return t.replace(/^([a-z])|\s+([a-z])/g,function(t){return t.toUpperCase()})}function e(t,e){return t.replace(/[A-Z]/g,function(t){return e+t})}var n={humanize:function(n){return t(e(n," ").split("_").join(" "))},underscore:function(t){return t.substr(0,1).toLowerCase()+e(t.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(e){return e=e.substr(0,1).toLowerCase()+t(e.split("_").join(" ")).substr(1).split(" ").join("")}};return function(t,e){return e!==!1&&angular.isString(t)?(e=e||"humanize",n[e](t)):t}}),angular.module("ui.filters").filter("unique",function(){return function(t,e){if(e===!1)return t;if((e||angular.isUndefined(e))&&angular.isArray(t)){var n=[],a=function(t){return angular.isObject(t)&&angular.isString(e)?t[e]:t};angular.forEach(t,function(t){for(var e=!1,i=0;n.length>i;i++)if(angular.equals(a(n[i]),a(t))){e=!0;break}e||n.push(t)}),t=n}return t}}),function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function(t,e){return{loginConfirmed:function(){t.$broadcast("event:auth-loginConfirmed"),e.retryAll()}}}]).config(["$httpProvider",function(t){var e=["$rootScope","$q","httpBuffer",function(t,e,n){function a(t){return t}function i(a){if(401===a.status&&!a.config.ignoreAuthModule){var i=e.defer();return n.append(a.config,i),t.$broadcast("event:auth-loginRequired"),i.promise}return e.reject(a)}return function(t){return t.then(a,i)}}];t.responseInterceptors.push(e)}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function(t){function e(e,a){n=n||t.get("$http"),n(e).then(function(t){a.resolve(t)})}var n,a=[];return{append:function(t,e){a.push({config:t,deferred:e})},retryAll:function(){for(var t=0;a.length>t;++t)e(a[t].config,a[t].deferred);a=[]}}}])}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function n(t){return decodeURIComponent(t.replace(i," "))}function a(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return r.json?JSON.parse(t):t}catch(e){}}var i=/\+/g,r=t.cookie=function(i,o,s){if(void 0!==o){if(s=t.extend({},r.defaults,s),"number"==typeof s.expires){var l=s.expires,c=s.expires=new Date;c.setDate(c.getDate()+l)}return o=r.json?JSON.stringify(o):o+"",document.cookie=[r.raw?i:encodeURIComponent(i),"=",r.raw?o:encodeURIComponent(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var u=r.raw?e:n,d=document.cookie.split("; "),f=i?void 0:{},h=0,p=d.length;p>h;h++){var g=d[h].split("="),m=u(g.shift()),v=u(g.join("="));if(i&&i===m){f=a(v);break}i||(f[m]=a(v))}return f};r.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)?(t.cookie(e,"",t.extend({},n,{expires:-1})),!0):!1}}),function(t,e){function n(e){t.extend(!0,be,e)}function a(n,a,c){function u(t){X?(x(),C(),A(),$(t)):d()}function d(){Z=a.theme?"ui":"fc",n.addClass("fc"),a.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),a.theme&&n.addClass("ui-widget"),X=t("<div class='fc-content' style='position:relative'/>").prependTo(n),Q=new i(G,a),J=Q.render(),J&&n.prepend(J),b(a.defaultView),t(window).resize(E),v()||h()}function h(){setTimeout(function(){!te.start&&v()&&$()},0)}function p(){t(window).unbind("resize",E),Q.destroy(),X.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return 0!==se.offsetWidth}function v(){return 0!==t("body")[0].offsetWidth}function b(e){if(!te||e!=te.name){ue++,U();var n,a=te;a?((a.beforeHide||_)(),F(X,X.height()),a.element.hide()):F(X,1),X.css("overflow","hidden"),te=le[e],te?te.element.show():te=le[e]=new $e[e](n=ae=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(X),G),a&&Q.deactivateButton(a.name),Q.activateButton(e),$(),X.css("overflow",""),a&&F(X,1),n||(te.afterShow||_)(),ue--}}function $(t){if(m()){ue++,U(),ne===e&&x();var a=!1;!te.start||t||te.start>de||de>=te.end?(te.render(de,t||0),D(!0),a=!0):te.sizeDirty?(te.clearEvents(),D(),a=!0):te.eventsDirty&&(te.clearEvents(),a=!0),te.sizeDirty=!1,te.eventsDirty=!1,T(a),ee=n.outerWidth(),Q.updateTitle(te.title);var i=new Date;i>=te.start&&te.end>i?Q.disableButton("today"):Q.enableButton("today"),ue--,te.trigger("viewDisplay",se)}}function k(){C(),m()&&(x(),D(),U(),te.clearEvents(),te.renderEvents(fe),te.sizeDirty=!1)}function C(){t.each(le,function(t,e){e.sizeDirty=!0})}function x(){ne=a.contentHeight?a.contentHeight:a.height?a.height-(J?J.height():0)-P(X):Math.round(X.width()/Math.max(a.aspectRatio,.5))}function D(t){ue++,te.setHeight(ne,t),ae&&(ae.css("position","relative"),ae=null),te.setWidth(X.width(),t),ue--}function E(){if(!ue)if(te.start){var t=++ce;setTimeout(function(){t==ce&&!ue&&m()&&ee!=(ee=n.outerWidth())&&(ue++,k(),te.trigger("windowResize",se),ue--)},200)}else h()}function T(t){!a.lazyFetching||re(te.visStart,te.visEnd)?S():t&&R()}function S(){oe(te.visStart,te.visEnd)}function M(t){fe=t,R()}function H(t){R(t)}function R(t){A(),m()&&(te.clearEvents(),te.renderEvents(fe,t),te.eventsDirty=!1)}function A(){t.each(le,function(t,e){e.eventsDirty=!0})}function O(t,n,a){te.select(t,n,a===e?!0:a)}function U(){te&&te.unselect()}function I(){$(-1)}function q(){$(1)}function N(){o(de,-1),$()}function z(){o(de,1),$()}function L(){de=new Date,$()}function j(t,e,n){t instanceof Date?de=f(t):g(de,t,e,n),$()}function W(t,n,a){t!==e&&o(de,t),n!==e&&s(de,n),a!==e&&l(de,a),$()}function V(){return f(de)}function B(){return te}function Y(t,n){return n===e?a[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(a[t]=n,k()),e)}function K(t,n){return a[t]?a[t].apply(n||se,Array.prototype.slice.call(arguments,2)):e}var G=this;G.options=a,G.render=u,G.destroy=p,G.refetchEvents=S,G.reportEvents=M,G.reportEventChange=H,G.rerenderEvents=R,G.changeView=b,G.select=O,G.unselect=U,G.prev=I,G.next=q,G.prevYear=N,G.nextYear=z,G.today=L,G.gotoDate=j,G.incrementDate=W,G.formatDate=function(t,e){return y(t,e,a)},G.formatDates=function(t,e,n){return w(t,e,n,a)},G.getDate=V,G.getView=B,G.option=Y,G.trigger=K,r.call(G,a,c);var Q,J,X,Z,te,ee,ne,ae,ie,re=G.isFetchNeeded,oe=G.fetchEvents,se=n[0],le={},ce=0,ue=0,de=new Date,fe=[];g(de,a.year,a.month,a.date),a.droppable&&t(document).bind("dragstart",function(e,n){var i=e.target,r=t(i);if(!r.parents(".fc").length){var o=a.dropAccept;(t.isFunction(o)?o.call(i,r):r.is(o))&&(ie=i,te.dragStart(ie,e,n))}}).bind("dragstop",function(t,e){ie&&(te.dragStop(ie,t,e),ie=null)})}function i(n,a){function i(){h=a.theme?"ui":"fc";var n=a.header;return n?p=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(o("left")).append(o("center")).append(o("right"))):e}function r(){p.remove()}function o(e){var i=t("<td class='fc-header-"+e+"'/>"),r=a.header[e];return r&&t.each(r.split(" "),function(e){e>0&&i.append("<span class='fc-header-space'/>");var r;t.each(this.split(","),function(e,o){if("title"==o)i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),r&&r.addClass(h+"-corner-right"),r=null;else{var s;if(n[o]?s=n[o]:$e[o]&&(s=function(){u.removeClass(h+"-state-hover"),n.changeView(o)}),s){var l=a.theme?N(a.buttonIcons,o):null,c=N(a.buttonText,o),u=t("<span class='fc-button fc-button-"+o+" "+h+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){u.hasClass(h+"-state-disabled")||s()}).mousedown(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){u.removeClass(h+"-state-down")}).hover(function(){u.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){u.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(i);j(u),r||u.addClass(h+"-corner-left"),r=u}}}),r&&r.addClass(h+"-corner-right")}),i}function s(t){p.find("h2").html(t)}function l(t){p.find("span.fc-button-"+t).addClass(h+"-state-active")}function c(t){p.find("span.fc-button-"+t).removeClass(h+"-state-active")}function u(t){p.find("span.fc-button-"+t).addClass(h+"-state-disabled")}function d(t){p.find("span.fc-button-"+t).removeClass(h+"-state-disabled")}var f=this;f.render=i,f.destroy=r,f.updateTitle=s,f.activateButton=l,f.deactivateButton=c,f.disableButton=u,f.enableButton=d;var h,p=t([])}function r(n,a){function i(t,e){return!x||x>t||e>D}function r(t,e){x=t,D=e,O=[];var n=++P,a=H.length;R=a;for(var i=0;a>i;i++)o(H[i],n)}function o(e,a){s(e,function(i){if(a==P){if(i){n.eventDataTransform&&(i=t.map(i,n.eventDataTransform)),e.eventDataTransform&&(i=t.map(i,e.eventDataTransform));for(var r=0;i.length>r;r++)i[r].source=e,y(i[r]);O=O.concat(i)}R--,R||S(O)}})}function s(a,i){var r,o,l=we.sourceFetchers;for(r=0;l.length>r;r++){if(o=l[r](a,x,D,i),o===!0)return;if("object"==typeof o)return s(o,i),e}var c=a.events;if(c)t.isFunction(c)?(v(),c(f(x),f(D),function(t){i(t),b()})):t.isArray(c)?i(c):i();else{var u=a.url;if(u){var d=a.success,h=a.error,p=a.complete,g=t.extend({},a.data||{}),m=Y(a.startParam,n.startParam),y=Y(a.endParam,n.endParam);m&&(g[m]=Math.round(+x/1e3)),y&&(g[y]=Math.round(+D/1e3)),v(),t.ajax(t.extend({},ke,a,{data:g,success:function(e){e=e||[];var n=B(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){B(h,this,arguments),i()},complete:function(){B(p,this,arguments),b()}}))}else i()}}function l(t){t=c(t),t&&(R++,o(t,P))}function c(n){return t.isFunction(n)||t.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),H.push(n),n):e}function u(e){H=t.grep(H,function(t){return!$(t,e)}),O=t.grep(O,function(t){return!$(t.source,e)}),S(O)}function d(t){var e,n,a=O.length,i=T().defaultEventEnd,r=t.start-t._start,o=t.end?t.end-(t._end||i(t)):0;for(e=0;a>e;e++)n=O[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+r),n.end=t.end?n.end?new Date(+n.end+o):new Date(+i(n)+o):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroundColor=t.backgroundColor,n.borderColor=t.borderColor,n.textColor=t.textColor,y(n));y(t),S(O)}function h(t,e){y(t),t.source||(e&&(M.events.push(t),t.source=M),O.push(t)),S(O)}function p(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}O=t.grep(O,e,!0);for(var a=0;H.length>a;a++)t.isArray(H[a].events)&&(H[a].events=t.grep(H[a].events,e,!0))}else{O=[];for(var a=0;H.length>a;a++)t.isArray(H[a].events)&&(H[a].events=[])}S(O)}function g(e){return t.isFunction(e)?t.grep(O,e):e?(e+="",t.grep(O,function(t){return t._id==e})):O}function v(){A++||E("loading",null,!0)}function b(){--A||E("loading",null,!1)}function y(t){var a=t.source||{},i=Y(a.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Ce++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=f(t.start=m(t.start,i)),t.end=m(t.end,i),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?f(t.end):null,t.allDay===e&&(t.allDay=Y(a.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function w(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=we.sourceNormalizers,n=0;e.length>n;n++)e[n](t)}function $(t,e){return t&&e&&k(t)==k(e)}function k(t){return("object"==typeof t?t.events||t.url:"")||t}var C=this;C.isFetchNeeded=i,C.fetchEvents=r,C.addEventSource=l,C.removeEventSource=u,C.updateEvent=d,C.renderEvent=h,C.removeEvents=p,C.clientEvents=g,C.normalizeEvent=y;for(var x,D,E=C.trigger,T=C.getView,S=C.reportEvents,M={events:[]},H=[M],P=0,R=0,A=0,O=[],F=0;a.length>F;F++)c(a[F])}function o(t,e,n){return t.setFullYear(t.getFullYear()+e),n||d(t),t}function s(t,e,n){if(+t){var a=t.getMonth()+e,i=f(t);for(i.setDate(1),i.setMonth(a),t.setMonth(a),n||d(t);t.getMonth()!=i.getMonth();)t.setDate(t.getDate()+(i>t?1:-1))}return t}function l(t,e,n){if(+t){var a=t.getDate()+e,i=f(t);i.setHours(9),i.setDate(a),t.setDate(a),n||d(t),c(t,i)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*Ee)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function d(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function f(t,e){return e?d(new Date(+t)):new Date(+t)}function h(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function p(t,e){return Math.round((f(t,!0)-f(e,!0))/De)}function g(t,n,a,i){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),a!==e&&a!=t.getMonth()&&(t.setDate(1),t.setMonth(a)),i!==e&&t.setDate(i)}function m(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),v(t,n)||(t?new Date(t):null)):null}function v(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var a=new Date(n[1],0,1);if(e||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(a.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(a.setDate(n[5]),i.setDate(n[5])),c(a,i),n[7]&&a.setHours(n[7]),n[8]&&a.setMinutes(n[8]),n[10]&&a.setSeconds(n[10]),n[12]&&a.setMilliseconds(1e3*Number("0."+n[12])),c(a,i)}else if(a.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),a.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var r=60*Number(n[16])+(n[18]?Number(n[18]):0);r*="-"==n[15]?1:-1,a=new Date(+a+6e4*r)}return a}function b(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function y(t,e,n){return w(t,null,e,n)}function w(t,e,n,a){a=a||be;var i,r,o,s,l=t,c=e,u=n.length,d="";for(i=0;u>i;i++)if(r=n.charAt(i),"'"==r){for(o=i+1;u>o;o++)if("'"==n.charAt(o)){l&&(d+=o==i+1?"'":n.substring(i+1,o),i=o);break}}else if("("==r){for(o=i+1;u>o;o++)if(")"==n.charAt(o)){var f=y(l,n.substring(i+1,o),a);parseInt(f.replace(/\D/,""),10)&&(d+=f),i=o;break}}else if("["==r){for(o=i+1;u>o;o++)if("]"==n.charAt(o)){var h=n.substring(i+1,o),f=y(l,h,a);f!=y(c,h,a)&&(d+=f),i=o;break}}else if("{"==r)l=e,c=t;else if("}"==r)l=t,c=e;else{for(o=u;o>i;o--)if(s=Se[n.substring(i,o)]){l&&(d+=s(l,a)),i=o-1;break}o==i&&l&&(d+=r)}return d}function $(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function k(t){return t.end?C(t.end,t.allDay):l(f(t.start),1)}function C(t,e){return t=f(t),e||t.getHours()||t.getMinutes()?l(t,1):d(t)}function x(n,a,i){n.unbind("mouseover").mouseover(function(n){for(var r,o,s,l=n.target;l!=this;)r=l,l=l.parentNode;(o=r._fci)!==e&&(r._fci=e,s=a[o],i(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function D(e,n,a){for(var i,r=0;e.length>r;r++)i=t(e[r]),i.width(Math.max(0,n-T(i,a)))}function E(e,n,a){for(var i,r=0;e.length>r;r++)i=t(e[r]),i.height(Math.max(0,n-P(i,a)))}function T(t,e){return S(t)+H(t)+(e?M(t):0)}function S(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function M(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function H(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function P(t,e){return R(t)+O(t)+(e?A(t):0)}function R(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function A(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function O(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function F(t,e){e="number"==typeof e?e+"px":e,t.each(function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e})}function _(){}function U(t,e){return t-e}function I(t){return Math.max.apply(Math,t)}function q(t){return(10>t?"0":"")+t}function N(t,n){if(t[n]!==e)return t[n];for(var a,i=n.split(/(?=[A-Z])/),r=i.length-1;r>=0;r--)if(a=t[i[r].toLowerCase()],a!==e)return a;return t[""]}function L(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function j(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function V(t,e){var n=t.source||{},a=t.color,i=n.color,r=e("eventColor"),o=t.backgroundColor||a||n.backgroundColor||i||e("eventBackgroundColor")||r,s=t.borderColor||a||n.borderColor||i||e("eventBorderColor")||r,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return o&&c.push("background-color:"+o),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function B(e,n,a){if(t.isFunction(e)&&(e=[e]),e){var i,r;for(i=0;e.length>i;i++)r=e[i].apply(n,a)||r;return r}}function Y(){for(var t=0;arguments.length>t;t++)if(arguments[t]!==e)return arguments[t]}function K(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n=i("firstDay"),d=f(t,!0);d.setDate(1);var h=s(f(d),1),g=f(d);l(g,-((g.getDay()-n+7)%7)),o(g);var m=f(h);l(m,(7-m.getDay()+n)%7),o(m,-1,!0);var v=c(),b=Math.round(p(m,g)/7);"fixed"==i("weekMode")&&(l(m,7*(6-b)),b=6),a.title=u(d,i("titleFormat")),a.start=d,a.end=h,a.visStart=g,a.visEnd=m,r(b,v,!0)}var a=this;a.render=n,J.call(a,t,e,"month");var i=a.opt,r=a.renderBasic,o=a.skipHiddenDays,c=a.getCellsPerWeek,u=e.formatDate}function G(t,e){function n(t,e){e&&l(t,7*e);var n=l(f(t),-((t.getDay()-i("firstDay")+7)%7)),u=l(f(n),7),d=f(n);o(d);var h=f(u);o(h,-1,!0);var p=s();a.start=n,a.end=u,a.visStart=d,a.visEnd=h,a.title=c(d,l(f(h),-1),i("titleFormat")),r(1,p,!1)}var a=this;a.render=n,J.call(a,t,e,"basicWeek");var i=a.opt,r=a.renderBasic,o=a.skipHiddenDays,s=a.getCellsPerWeek,c=e.formatDates}function Q(t,e){function n(t,e){e&&l(t,e),o(t,0>e?-1:1);var n=f(t,!0),c=l(f(n),1);a.title=s(t,i("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,r(1,1,!1)}var a=this;a.render=n,J.call(a,t,e,"basicDay");var i=a.opt,r=a.renderBasic,o=a.skipHiddenDays,s=e.formatDate}function J(e,n,a){function i(t,e,n){ie=t,re=e,oe=n,r();var a=!B;a?o():De(),s()}function r(){me=ke("theme")?"ui":"fc",be=ke("columnFormat"),ye=ke("weekNumbers"),we=ke("weekNumberTitle"),$e="iso"!=ke("weekNumberCalculation")?"w":"W"}function o(){Z=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(){var n=c();U(),N&&N.remove(),N=t(n).appendTo(e),z=N.find("thead"),V=z.find(".fc-day-header"),B=N.find("tbody"),Y=B.find("tr"),K=B.find(".fc-day"),G=Y.find("td:first-child"),Q=Y.eq(0).find(".fc-day > div"),J=Y.eq(0).find(".fc-day-content > div"),W(z.add(z.find("tr"))),W(Y),Y.eq(0).addClass("fc-first"),Y.filter(":last").addClass("fc-last"),K.each(function(e,n){var a=Me(Math.floor(e/re),e%re);Ce("dayRender",q,a,t(n))}),b(K)}function c(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+h()+"</table>";return t}function u(){var t,e,n=me+"-widget-header",a="";for(a+="<thead><tr>",ye&&(a+="<th class='fc-week-number "+n+"'>"+L(we)+"</th>"),t=0;re>t;t++)e=Me(0,t),a+="<th class='fc-day-header fc-"+xe[e.getDay()]+" "+n+"'>"+L(Re(e,be))+"</th>";return a+="</tr></thead>"}function h(){var t,e,n,a=me+"-widget-content",i="";for(i+="<tbody>",t=0;ie>t;t++){for(i+="<tr class='fc-week'>",ye&&(n=Me(t,0),i+="<td class='fc-week-number "+a+"'>"+"<div>"+L(Re(n,$e))+"</div>"+"</td>"),e=0;re>e;e++)n=Me(t,e),i+=p(n);i+="</tr>"}return i+="</tbody>"}function p(t){var e=me+"-widget-content",n=q.start.getMonth(),a=d(new Date),i="",r=["fc-day","fc-"+xe[t.getDay()],e];return t.getMonth()!=n&&r.push("fc-other-month"),+t==+a&&r.push("fc-today",me+"-state-highlight"),i+="<td class='"+r.join(" ")+"'"+" data-date='"+Re(t,"yyyy-MM-dd")+"'"+">"+"<div>",oe&&(i+="<div class='fc-day-number'>"+t.getDate()+"</div>"),i+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){ee=e;var n,a,i,r=ee-z.height();"variable"==ke("weekMode")?n=a=Math.floor(r/(1==ie?2:6)):(n=Math.floor(r/ie),a=r-n*(ie-1)),G.each(function(e,r){ie>e&&(i=t(r),F(i.find("> div"),(e==ie-1?a:n)-P(i)))}),I()}function m(t){te=t,ue.clear(),de.clear(),ae=0,ye&&(ae=z.find("th.fc-week-number").outerWidth()),ne=Math.floor((te-ae)/re),D(V.slice(0,-1),ne)}function b(t){t.click(y).mousedown(Se)}function y(e){if(!ke("selectable")){var n=v(t(this).data("date"));Ce("dayClick",this,n,!0,e)}}function w(t,e,n){n&&se.build();for(var a=Pe(t,e),i=0;a.length>i;i++){var r=a[i];b($(r.row,r.leftCol,r.row,r.rightCol))}}function $(t,n,a,i){var r=se.rect(t,n,a,i,e);return Ee(r,e)}function k(t){return f(t)}function C(t,e){w(t,l(f(e),1),!0)}function x(){Te()}function E(t,e,n){var a=He(t),i=K[a.row*re+a.col];Ce("dayClick",i,t,e,n)}function T(t,e){ce.start(function(t){Te(),t&&$(t.row,t.col,t.row,t.col)},e)}function S(t,e,n){var a=ce.stop();if(Te(),a){var i=Me(a);Ce("drop",t,i,!0,e,n)}}function M(t){return f(t.start)}function H(t){return ue.left(t)}function R(t){return ue.right(t)}function A(t){return de.left(t)}function O(t){return de.right(t)}function _(t){return Y.eq(t)}function U(){F(e,e.height())}function I(){F(e,1)}var q=this;q.renderBasic=i,q.setHeight=g,q.setWidth=m,q.renderDayOverlay=w,q.defaultSelectionEnd=k,q.renderSelection=C,q.clearSelection=x,q.reportDayClick=E,q.dragStart=T,q.dragStop=S,q.defaultEventEnd=M,q.getHoverListener=function(){return ce},q.colLeft=H,q.colRight=R,q.colContentLeft=A,q.colContentRight=O,q.getIsCellAllDay=function(){return!0},q.allDayRow=_,q.getRowCnt=function(){return ie},q.getColCnt=function(){return re},q.getColWidth=function(){return ne},q.getDaySegmentContainer=function(){return Z},le.call(q,e,n,a),he.call(q),fe.call(q),X.call(q);var N,z,V,B,Y,K,G,Q,J,Z,te,ee,ne,ae,ie,re,oe,se,ce,ue,de,me,be,ye,we,$e,ke=q.opt,Ce=q.trigger,De=q.clearEvents,Ee=q.renderOverlay,Te=q.clearOverlays,Se=q.daySelectionMousedown,Me=q.cellToDate,He=q.dateToCell,Pe=q.rangeToSegments,Re=n.formatDate;j(e.addClass("fc-grid")),se=new pe(function(e,n){var a,i,r;V.each(function(e,o){a=t(o),i=a.offset().left,e&&(r[1]=i),r=[i],n[e]=r}),r[1]=i+a.outerWidth(),Y.each(function(n,o){ie>n&&(a=t(o),i=a.offset().top,n&&(r[1]=i),r=[i],e[n]=r)}),r[1]=i+a.outerHeight()}),ce=new ge(se),ue=new ve(function(t){return Q.eq(t)}),de=new ve(function(t){return J.eq(t)})}function X(){function t(t,e){n.reportEvents(t),n.renderDayEvents(t,e),n.trigger("eventAfterAllRender")}function e(){n.reportEventClear(),n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,ce.call(n)}function Z(t,e){function n(t,e){e&&l(t,7*e);var n=l(f(t),-((t.getDay()-i("firstDay")+7)%7)),u=l(f(n),7),d=f(n);o(d);var h=f(u);o(h,-1,!0);var p=s();a.title=c(d,l(f(h),-1),i("titleFormat")),a.start=n,a.end=u,a.visStart=d,a.visEnd=h,r(p)}var a=this;a.render=n,ae.call(a,t,e,"agendaWeek");var i=a.opt,r=a.renderAgenda,o=a.skipHiddenDays,s=a.getCellsPerWeek,c=e.formatDates}function te(t,e){function n(t,e){e&&l(t,e),o(t,0>e?-1:1);var n=f(t,!0),c=l(f(n),1);a.title=s(t,i("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=c,r(1)}var a=this;a.render=n,ae.call(a,t,e,"agendaDay");var i=a.opt,r=a.renderAgenda,o=a.skipHiddenDays,s=e.formatDate}function ee(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n,l,c,u;n=f(t,!0),n.setDate(1),l=s(f(n),1),c=f(n),u=f(l),a.title=o(n,i("titleFormat")),a.start=n,a.end=l,a.visStart=c,a.visEnd=u,r(!1)}var a=this;a.render=n,ne.call(a,t,e);var i=a.opt,r=a.renderAgendaList,o=e.formatDate}function ne(e,n){function a(){var t=!p;t?i():c()}function i(){p=!0}function r(t){v=t}function o(t){m=t}function s(n){var a,i,r,o,s,c,p,g=t("<table class='table'></table>"),m=0,v=h(u.visStart,"MM"),b=[];for(m in n)z=m,eMonth=h(n[m].start,"MM"),eMonth==v&&(a=h(n[m].start,"MMM"),i=h(n[m].start,"dddd"),o=h(n[m].start,"MMM d"),lDDay=h(n[m].start,"dddd, MMM d"),c=n[m].title,allDay=n[m].allDay,r=h(n[m].start,"h(:mm)tt"),s=n[m].url,null!=s&&(c="<a href='"+L(s)+"'>"+c+"</a>"),m!=p&&(l(b,lDDay)||(t("<tr><th>"+lDDay+"</th></tr>").appendTo(g),p=z,b.push(lDDay))),eventdisplay=0==m%2?allDay?t("<tr><td>"+c+"</a><span style='float:right'>"+d("allDayText")+"</span></td></tr>").appendTo(g):t("<tr><td>"+c+"</a><span style='float:right'>"+r+"</span></td></tr>").appendTo(g):allDay?t("<tr><td>"+c+"</a><span style='float:right'>"+d("allDayText")+"</span></td></tr>").appendTo(g):t("<tr><td>"+c+"</a><span style='float:right'>"+r+"</span></td></tr>").appendTo(g),y(n[m],eventdisplay));t(e).html(g),f("eventAfterAllRender")}function l(t,e){for(var n=0;t.length>n;n++)if(t[n]==e)return!0;return!1}function c(){w()}var u=this;u.renderAgendaList=a,u.setHeight=r,u.setWidth=o,u.renderEvents=s,u.clearEvents=c,u.cellIsAllDay=function(){return!0},u.getColWidth=function(){return b},u.getDaySegmentContainer=function(){return g},le.call(u,e,n,"agendaList"),he.call(u),fe.call(u);var d=u.opt,f=u.trigger;u.renderOverlay,u.clearOverlays,u.daySelectionMousedown;var h=n.formatDate;u.calendar.updateEvents;var p,g,m,v,b,y=u.eventElementHandlers,w=u.reportEventClear;u.getDaySegmentContainer}function ae(n,a,i){function r(t){_e=t,o(),te?(c(),Ze()):s()}function o(){je=Je("theme")?"ui":"fc",We=Je("isRTL"),Ve=b(Je("minTime")),Be=b(Je("maxTime")),Ye=Je("columnFormat"),Ke=Je("weekNumbers"),Ge=Je("weekNumberTitle"),Qe="iso"!=Je("weekNumberCalculation")?"w":"W",Ae=Je("snapMinutes")||Je("slotMinutes")}function s(){var e,a,i,r,o,s=je+"-widget-header",l=je+"-widget-content",d=0==Je("slotMinutes")%15;for(c(),de=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Je("allDaySlot")?(me=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(de),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+Je("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",be=t(e).appendTo(de),ye=be.find("tr"),C(ye.find("td")),de.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):me=t([]),we=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(de),$e=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(we),ke=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo($e),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=h(),r=u(f(a),Be),u(a,Ve),Ue=0,i=0;r>a;i++)o=a.getMinutes(),e+="<tr class='fc-slot"+i+" "+(o?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(d&&o?"&nbsp;":un(a,Je("axisFormat")))+"</th>"+"<td class='"+l+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",u(a,Je("slotMinutes")),Ue++;e+="</tbody></table>",Ce=t(e).appendTo($e),De=Ce.find("div:first"),x(Ce.find("td"))}function c(){var e=p();te&&te.remove(),te=t(e).appendTo(n),ee=te.find("thead"),ne=ee.find("th").slice(1,-1),ae=te.find("tbody"),re=ae.find("td").slice(0,-1),oe=re.find("> div"),se=re.find(".fc-day-content > div"),ce=re.eq(0),ue=oe.eq(0),W(ee.add(ee.find("tr"))),W(ae.add(ae.find("tr")))}function p(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+m()+"</table>";return t}function g(){var t,e,n,a=je+"-widget-header",i="";for(i+="<thead><tr>",Ke?(e=un(t,Qe),We?e+=Ge:e=Ge+e,i+="<th class='fc-agenda-axis fc-week-number "+a+"'>"+L(e)+"</th>"):i+="<th class='fc-agenda-axis "+a+"'>&nbsp;</th>",n=0;_e>n;n++)t=sn(0,n),i+="<th class='fc-"+xe[t.getDay()]+" fc-col"+n+" "+a+"'>"+L(un(t,Ye))+"</th>";return i+="<th class='fc-agenda-gutter "+a+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function m(){var t,e,n,a,i,r=je+"-widget-header",o=je+"-widget-content",s=d(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n="",e=0;_e>e;e++)t=sn(0,e),i=["fc-col"+e,"fc-"+xe[t.getDay()],o],+t==+s&&i.push(je+"-state-highlight","fc-today"),a="<td class='"+i.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=a;return l+=n,l+="<td class='fc-agenda-gutter "+o+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function v(t,n){t===e&&(t=Se),Se=t,dn={};var a=ae.position().top,i=we.position().top,r=Math.min(t-a,Ce.height()+i+1);ue.height(r-P(ce)),de.css("top",a),we.height(r-i-1),Re=De.height()+1,Oe=Je("slotMinutes")/Ae,Fe=Re/Oe,n&&w()}function y(e){Te=e,Ne.clear(),ze.clear();var n=ee.find("th:first");be&&(n=n.add(be.find("th:first"))),n=n.add(Ce.find("th:first")),Me=0,D(n.width("").each(function(e,n){Me=Math.max(Me,t(n).outerWidth())}),Me);var a=te.find(".fc-agenda-gutter");be&&(a=a.add(be.find("th.fc-agenda-gutter")));var i=we[0].clientWidth;Pe=we.width()-i,Pe?(D(a,Pe),a.show().prev().removeClass("fc-last")):a.hide().prev().addClass("fc-last"),He=Math.floor((i-Me)/_e),D(ne.slice(0,-1),He)}function w(){function t(){we.scrollTop(a)}var e=h(),n=f(e);n.setHours(Je("firstHour"));var a=q(e,n)+1;t(),setTimeout(t,0)}function $(){Le=we.scrollTop()}function k(){we.scrollTop(Le)}function C(t){t.click(T).mousedown(rn)}function x(t){t.click(T).mousedown(G)}function T(t){if(!Je("selectable")){var e=Math.min(_e-1,Math.floor((t.pageX-te.offset().left-Me)/He)),n=sn(0,e),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var i=parseInt(a[1])*Je("slotMinutes"),r=Math.floor(i/60);n.setHours(r),n.setMinutes(i%60+Ve),Xe("dayClick",re[e],n,!1,t)}else Xe("dayClick",re[e],n,!0,t)}}function S(t,e,n){n&&Ie.build();for(var a=cn(t,e),i=0;a.length>i;i++){var r=a[i];C(M(r.row,r.leftCol,r.row,r.rightCol))}}function M(t,e,n,a){var i=Ie.rect(t,e,n,a,de);return tn(i,de)}function H(t,e){for(var n=0;_e>n;n++){var a=sn(0,n),i=l(f(a),1),r=new Date(Math.max(a,t)),o=new Date(Math.min(i,e));if(o>r){var s=Ie.rect(0,n,0,n,$e),c=q(a,r),u=q(a,o);s.top=c,s.height=u-c,x(tn(s,$e))}}}function R(t){return Ne.left(t)}function A(t){return ze.left(t)}function O(t){return Ne.right(t)}function F(t){return ze.right(t)}function _(t){return Je("allDaySlot")&&!t.row}function I(t){var e=sn(0,t.col),n=t.row;return Je("allDaySlot")&&n--,n>=0&&u(e,Ve+n*Ae),e}function q(t,n){if(t=f(t,!0),u(f(t),Ve)>n)return 0;if(n>=u(f(t),Be))return Ce.height();var a=Je("slotMinutes"),i=60*n.getHours()+n.getMinutes()-Ve,r=Math.floor(i/a),o=dn[r];return o===e&&(o=dn[r]=Ce.find("tr:eq("+r+") td div")[0].offsetTop),Math.max(0,Math.round(o-1+Re*(i%a/a)))}function N(){return ye}function z(t){var e=f(t.start);return t.allDay?e:u(e,Je("defaultEventMinutes"))}function V(t,e){return e?f(t):u(f(t),Je("slotMinutes"))}function B(t,e,n){n?Je("allDaySlot")&&S(t,l(f(e),1),!0):Y(t,e)}function Y(e,n){var a=Je("selectHelper");if(Ie.build(),a){var i=ln(e).col;if(i>=0&&_e>i){var r=Ie.rect(0,i,0,i,$e),o=q(e,e),s=q(e,n);if(s>o){if(r.top=o,r.height=s-o,r.left+=2,r.width-=5,t.isFunction(a)){var l=a(e,n);l&&(r.position="absolute",r.zIndex=8,Ee=t(l).css(r).appendTo($e))}else r.isStart=!0,r.isEnd=!0,Ee=t(on({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},r)),Ee.css("opacity",Je("dragOpacity"));Ee&&(x(Ee),$e.append(Ee),D(Ee,r.width,!0),E(Ee,r.height,!0))}}}else H(e,n)}function K(){en(),Ee&&(Ee.remove(),Ee=null)}function G(e){if(1==e.which&&Je("selectable")){an(e);var n;qe.start(function(t,e){if(K(),t&&t.col==e.col&&!_(t)){var a=I(e),i=I(t);n=[a,u(f(a),Ae),i,u(f(i),Ae)].sort(U),Y(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){qe.stop(),n&&(+n[0]==+n[1]&&Q(n[0],!1,t),nn(n[0],n[3],!1,t))
})}}function Q(t,e,n){Xe("dayClick",re[ln(t).col],t,e,n)}function J(t,e){qe.start(function(t){if(en(),t)if(_(t))M(t.row,t.col,t.row,t.col);else{var e=I(t),n=u(f(e),Je("defaultEventMinutes"));H(e,n)}},e)}function X(t,e,n){var a=qe.stop();en(),a&&Xe("drop",t,I(a),_(a),e,n)}var Z=this;Z.renderAgenda=r,Z.setWidth=y,Z.setHeight=v,Z.beforeHide=$,Z.afterShow=k,Z.defaultEventEnd=z,Z.timePosition=q,Z.getIsCellAllDay=_,Z.allDayRow=N,Z.getHoverListener=function(){return qe},Z.colLeft=R,Z.colRight=O,Z.colContentLeft=A,Z.colContentRight=F,Z.getDaySegmentContainer=function(){return me},Z.getSlotSegmentContainer=function(){return ke},Z.getMinMinute=function(){return Ve},Z.getMaxMinute=function(){return Be},Z.getSlotContainer=function(){return $e},Z.getRowCnt=function(){return 1},Z.getColCnt=function(){return _e},Z.getColWidth=function(){return He},Z.getSnapHeight=function(){return Fe},Z.getSnapMinutes=function(){return Ae},Z.defaultSelectionEnd=V,Z.renderDayOverlay=S,Z.renderSelection=B,Z.clearSelection=K,Z.reportDayClick=Q,Z.dragStart=J,Z.dragStop=X,le.call(Z,n,a,i),he.call(Z),fe.call(Z),ie.call(Z);var te,ee,ne,ae,re,oe,se,ce,ue,de,me,be,ye,we,$e,ke,Ce,De,Ee,Te,Se,Me,He,Pe,Re,Ae,Oe,Fe,_e,Ue,Ie,qe,Ne,ze,Le,je,We,Ve,Be,Ye,Ke,Ge,Qe,Je=Z.opt,Xe=Z.trigger,Ze=Z.clearEvents,tn=Z.renderOverlay,en=Z.clearOverlays,nn=Z.reportSelection,an=Z.unselect,rn=Z.daySelectionMousedown,on=Z.slotSegHtml,sn=Z.cellToDate,ln=Z.dateToCell,cn=Z.rangeToSegments,un=a.formatDate,dn={};j(n.addClass("fc-agenda")),Ie=new pe(function(e,n){function a(t){return Math.max(l,Math.min(c,t))}var i,r,o;ne.each(function(e,a){i=t(a),r=i.offset().left,e&&(o[1]=r),o=[r],n[e]=o}),o[1]=r+i.outerWidth(),Je("allDaySlot")&&(i=ye,r=i.offset().top,e[0]=[r,r+i.outerHeight()]);for(var s=$e.offset().top,l=we.offset().top,c=l+we.outerHeight(),u=0;Ue*Oe>u;u++)e.push([a(s+Fe*u),a(s+Fe*(u+1))])}),qe=new ge(Ie),Ne=new ve(function(t){return oe.eq(t)}),ze=new ve(function(t){return se.eq(t)})}function ie(){function n(t,e){D(t);var n,a=t.length,r=[],o=[];for(n=0;a>n;n++)t[n].allDay?r.push(t[n]):o.push(t[n]);b("allDaySlot")&&(ne(r,e),H()),s(i(o),e),y("eventAfterAllRender")}function a(){S(),R().empty(),A().empty()}function i(e){var n,a,i,s,l,c,d,h=j(),p=_(),g=F(),m=t.map(e,o),v=[];for(a=0;h>a;a++)for(n=N(0,a),u(n,p),i=re(r(e,m,n,u(f(n),g-p))),oe(i),s=0;i.length>s;s++)for(l=i[s],c=0;l.length>c;c++)d=l[c],d.col=a,d.level=s,v.push(d);return v}function r(t,e,n,a){var i,r,o,s,l,c,u,d,h=[],p=t.length;for(i=0;p>i;i++)r=t[i],o=r.start,s=e[i],s>n&&a>o&&(n>o?(l=f(n),u=!1):(l=o,u=!0),s>a?(c=f(a),d=!1):(c=s,d=!0),h.push({event:r,start:l,end:c,isStart:u,isEnd:d,msLength:c-l}));return h.sort(z)}function o(t){return t.end?f(t.end):u(f(t.start),b("defaultEventMinutes"))}function s(n,a){var i,r,o,s,l,u,f,h,p,g,m,v,w,$,k,C,D,E,S,M=n.length,H="",R=A();for(S=(E=b("isRTL"))?-1:1,i=0;M>i;i++)r=n[i],o=r.event,s=U(r.start,r.start),l=U(r.start,r.end),u=r.col,f=r.level,h=r.forward||0,p=I(u),g=q(u)-p,g=Math.min(g-6,.95*g),m=f?g/(f+h+1):h?2*(g/(h+1)-6):g,v=p+g/(f+h+1)*f*S+(E?g-m:0),r.top=s,r.left=v,r.outerWidth=m,r.outerHeight=l-s,H+=c(o,r);for(R[0].innerHTML=H,w=R.children(),i=0;M>i;i++)r=n[i],o=r.event,$=t(w[i]),k=y("eventRender",o,o,$),k===!1?$.remove():(k&&k!==!0&&($.remove(),$=t(k).css({position:"absolute",top:r.top,left:r.left}).appendTo(R)),r.element=$,o._id===a?d(o,$,r):$[0]._fci=i,G(o,$));for(x(R,n,d),i=0;M>i;i++)r=n[i],($=r.element)&&(r.vsides=P($,!0),r.hsides=T($,!0),C=$.find(".fc-event-title"),C.length&&(r.contentTop=C[0].offsetTop));for(i=0;M>i;i++)r=n[i],($=r.element)&&($[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px",D=Math.max(0,r.outerHeight-r.vsides),$[0].style.height=D+"px",o=r.event,r.contentTop!==e&&10>D-r.contentTop&&($.find("div.fc-event-time").text(ie(o.start,b("timeFormat"))+" - "+o.title),$.find("div.fc-event-title").remove()),y("eventAfterRender",o,o,$))}function c(t,e){var n="<",a=t.url,i=V(t,b),r=["fc-event","fc-event-vert"];return w(t)&&r.push("fc-event-draggable"),e.isStart&&r.push("fc-event-start"),e.isEnd&&r.push("fc-event-end"),r=r.concat(t.className),t.source&&(r=r.concat(t.source.className||[])),n+=a?"a href='"+L(t.url)+"'":"div",n+=" class='"+r.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+L(se(t.start,t.end,b("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+L(t.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",e.isEnd&&$(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(a?"a":"div")+">"}function d(t,e,n){var a=e.find("div.fc-event-time");w(t)&&g(t,e,a),n.isEnd&&$(t)&&m(t,e,a),M(t,e)}function h(t,e,n){function a(){c||(e.width(i).height("").draggable("option","grid",null),c=!0)}var i,r,o,s=n.isStart,c=!0,u=O(),d=W(),h=B(),g=Y(),m=_();e.draggable({zIndex:9,opacity:b("dragOpacity","month"),revertDuration:b("dragRevertDuration"),start:function(n,m){y("eventDragStart",e,t,n,m),J(t,e),i=e.width(),u.start(function(n,i){if(ee(),n){r=!1;var u=N(0,i.col),m=N(0,n.col);o=p(m,u),n.row?s?c&&(e.width(d-10),E(e,h*Math.round((t.end?(t.end-t.start)/Te:b("defaultEventMinutes"))/g)),e.draggable("option","grid",[d,1]),c=!1):r=!0:(te(l(f(t.start),o),l(k(t),o)),a()),r=r||c&&!o}else a(),r=!0;e.draggable("option","revert",r)},n,"drag")},stop:function(n,i){if(u.stop(),ee(),y("eventDragStop",e,t,n,i),r)a(),e.css("filter",""),Q(t,e);else{var s=0;c||(s=Math.round((e.offset().top-K().offset().top)/h)*g+m-(60*t.start.getHours()+t.start.getMinutes())),X(this,t,o,s,c,n,i)}}})}function g(t,e,n){function a(e){var a,i=u(f(t.start),e);t.end&&(a=u(f(t.end),e)),n.text(se(i,a,b("timeFormat")))}function i(){d&&(n.css("display",""),e.draggable("option","grid",[m,v]),d=!1)}var r,o,s,c,d=!1,h=O(),g=j(),m=W(),v=B(),w=Y();e.draggable({zIndex:9,scroll:!1,grid:[m,v],axis:1==g?"y":!1,opacity:b("dragOpacity"),revertDuration:b("dragRevertDuration"),start:function(a,u){y("eventDragStart",e,t,a,u),J(t,e),r=e.position(),s=c=0,h.start(function(a,r){if(e.draggable("option","revert",!a),ee(),a){var s=N(0,r.col),c=N(0,a.col);o=p(c,s),b("allDaySlot")&&!a.row?(d||(d=!0,n.hide(),e.draggable("option","grid",null)),te(l(f(t.start),o),l(k(t),o))):i()}},a,"drag")},drag:function(t,e){s=Math.round((e.position.top-r.top)/v)*w,s!=c&&(d||a(s),c=s)},stop:function(n,l){var c=h.stop();ee(),y("eventDragStop",e,t,n,l),c&&(o||s||d)?X(this,t,o,d?0:s,d,n,l):(i(),e.css("filter",""),e.css(r),a(0),Q(t,e))}})}function m(t,e,n){var a,i,r=B(),o=Y();e.resizable({handles:{s:".ui-resizable-handle"},grid:r,start:function(n,r){a=i=0,J(t,e),e.css("z-index",9),y("eventResizeStart",this,t,n,r)},resize:function(s,l){a=Math.round((Math.max(r,e.height())-l.originalSize.height)/r),a!=i&&(n.text(se(t.start,a||t.end?u(C(t),o*a):null,b("timeFormat"))),i=a)},stop:function(n,i){y("eventResizeStop",this,t,n,i),a?Z(this,t,0,o*a,n,i):(e.css("z-index",8),Q(t,e))}})}var v=this;v.renderEvents=n,v.clearEvents=a,v.slotSegHtml=c,ce.call(v);var b=v.opt,y=v.trigger,w=v.isEventDraggable,$=v.isEventResizable,C=v.eventEnd,D=v.reportEvents,S=v.reportEventClear,M=v.eventElementHandlers,H=v.setHeight,R=v.getDaySegmentContainer,A=v.getSlotSegmentContainer,O=v.getHoverListener,F=v.getMaxMinute,_=v.getMinMinute,U=v.timePosition,I=v.colContentLeft,q=v.colContentRight,N=v.cellToDate,z=v.segmentCompare,j=v.getColCnt,W=v.getColWidth,B=v.getSnapHeight,Y=v.getSnapMinutes,K=v.getSlotContainer,G=v.reportEventElement,Q=v.showEvents,J=v.hideEvents,X=v.eventDrop,Z=v.eventResize,te=v.renderDayOverlay,ee=v.clearOverlays,ne=v.renderDayEvents,ae=v.calendar,ie=ae.formatDate,se=ae.formatDates;v.draggableDayEvent=h}function re(t){var e,n,a,i,r,o=[],s=t.length;for(e=0;s>e;e++){for(n=t[e],a=0;;){if(i=!1,o[a])for(r=0;o[a].length>r;r++)if(se(o[a][r],n)){i=!0;break}if(!i)break;a++}o[a]?o[a].push(n):o[a]=[n]}return o}function oe(t){var e,n,a,i,r,o;for(e=t.length-1;e>0;e--)for(i=t[e],n=0;i.length>n;n++)for(r=i[n],a=0;t[e-1].length>a;a++)o=t[e-1][a],se(r,o)&&(o.forward=Math.max(o.forward||0,(r.forward||0)+1))}function se(t,e){return t.end>e.start&&t.start<e.end}function le(n,a,i){function r(e,n){var a=G[e];return t.isPlainObject(a)?N(a,n||i):a}function o(t,e){return a.trigger.apply(a,[t,e||z].concat(Array.prototype.slice.call(arguments,2),[z]))}function s(t){return d(t)&&!r("disableDragging")}function c(t){return d(t)&&!r("disableResizing")}function d(t){return Y(t.editable,(t.source||{}).editable,r("editable"))}function h(t){V={};var e,n,a=t.length;for(e=0;a>e;e++)n=t[e],V[n._id]?V[n._id].push(n):V[n._id]=[n]}function g(t){return t.end?f(t.end):L(t)}function m(t,e){B.push(e),K[t._id]?K[t._id].push(e):K[t._id]=[e]}function v(){B=[],K={}}function b(t,n){n.click(function(a){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?e:o("eventClick",this,t,a)}).hover(function(e){o("eventMouseover",this,t,e)},function(e){o("eventMouseout",this,t,e)})}function y(t,e){$(t,e,"show")}function w(t,e){$(t,e,"hide")}function $(t,e,n){var a,i=K[t._id],r=i.length;for(a=0;r>a;a++)e&&i[a][0]==e[0]||i[a][n]()}function k(t,e,n,a,i,r,s){var l=e.allDay,c=e._id;x(V[c],n,a,i),o("eventDrop",t,e,n,a,i,function(){x(V[c],-n,-a,l),W(c)},r,s),W(c)}function C(t,e,n,a,i,r){var s=e._id;D(V[s],n,a),o("eventResize",t,e,n,a,function(){D(V[s],-n,-a),W(s)},i,r),W(s)}function x(t,n,a,i){a=a||0;for(var r,o=t.length,s=0;o>s;s++)r=t[s],i!==e&&(r.allDay=i),u(l(r.start,n,!0),a),r.end&&(r.end=u(l(r.end,n,!0),a)),j(r,G)}function D(t,e,n){n=n||0;for(var a,i=t.length,r=0;i>r;r++)a=t[r],a.end=u(l(g(a),e,!0),n),j(a,G)}function E(t){return"object"==typeof t&&(t=t.getDay()),X[t]}function T(){return Q}function S(t,e,n){for(e=e||1;X[(t.getDay()+(n?e:0)+7)%7];)l(t,e)}function M(){var t=H.apply(null,arguments),e=P(t),n=R(e);return n}function H(t,e){var n=z.getColCnt(),a=ee?-1:1,i=ee?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var r=t*n+(e*a+i);return r}function P(t){var e=z.visStart.getDay();return t+=Z[e],7*Math.floor(t/Q)+te[(t%Q+Q)%Q]-e}function R(t){var e=f(z.visStart);return l(e,t),e}function A(t){var e=O(t),n=F(e),a=_(n);return a}function O(t){return p(t,z.visStart)}function F(t){var e=z.visStart.getDay();return t+=e,Math.floor(t/7)*Q+Z[(t%7+7)%7]-Z[e]}function _(t){var e=z.getColCnt(),n=ee?-1:1,a=ee?e-1:0,i=Math.floor(t/e),r=(t%e+e)%e*n+a;return{row:i,col:r}}function U(t,e){for(var n=z.getRowCnt(),a=z.getColCnt(),i=[],r=O(t),o=O(e),s=F(r),l=F(o)-1,c=0;n>c;c++){var u=c*a,d=u+a-1,f=Math.max(s,u),h=Math.min(l,d);if(h>=f){var p=_(f),g=_(h),m=[p.col,g.col].sort(),v=P(f)==r,b=P(h)+1==o;i.push({row:c,leftCol:m[0],rightCol:m[1],isStart:v,isEnd:b})}}return i}function I(t,e){return q(t,e)||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function q(t,e){return"msLength"in t?e.msLength-t.msLength:e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay}var z=this;z.element=n,z.calendar=a,z.name=i,z.opt=r,z.trigger=o,z.isEventDraggable=s,z.isEventResizable=c,z.reportEvents=h,z.eventEnd=g,z.reportEventElement=m,z.reportEventClear=v,z.eventElementHandlers=b,z.showEvents=y,z.hideEvents=w,z.eventDrop=k,z.eventResize=C;var L=z.defaultEventEnd,j=a.normalizeEvent,W=a.reportEventChange,V={},B=[],K={},G=a.options;z.isHiddenDay=E,z.skipHiddenDays=S,z.getCellsPerWeek=T,z.dateToCell=A,z.dateToDayOffset=O,z.dayOffsetToCellOffset=F,z.cellOffsetToCell=_,z.cellToDate=M,z.cellToCellOffset=H,z.cellOffsetToDayOffset=P,z.dayOffsetToDate=R,z.rangeToSegments=U,z.segmentCompare=I;var Q,J=r("hiddenDays")||[],X=[],Z=[],te=[],ee=r("isRTL");(function(){r("weekends")===!1&&J.push(0,6);for(var e=0,n=0;7>e;e++)Z[e]=n,X[e]=-1!=t.inArray(e,J),X[e]||(te[n]=e,n++);if(Q=n,!Q)throw"invalid hiddenDays"})()}function ce(){function e(t,e){var n=a(t,!1,!0);de(n,function(t,e){R(t.event,e)}),y(n,e),de(n,function(t,e){S("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var i=a([t],!0,!1),r=[];return de(i,function(t,a){t.row===e&&a.css("top",n),r.push(a[0])}),r}function a(e,n,a){var r,l,c=G(),f=n?t("<div/>"):c,h=i(e);return o(h),r=s(h),f[0].innerHTML=r,l=f.children(),n&&c.append(l),u(h,l),de(h,function(t,e){t.hsides=T(e,!0)}),de(h,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),de(h,function(t,e){t.outerHeight=e.outerHeight(!0)}),d(h,a),h}function i(t){for(var e=[],n=0;t.length>n;n++){var a=r(t[n]);e.push.apply(e,a)}return e}function r(t){for(var e=t.start,n=k(t),a=ee(e,n),i=0;a.length>i;i++)a[i].event=t;return a}function o(t){for(var e=E("isRTL"),n=0;t.length>n;n++){var a=t[n],i=(e?a.isEnd:a.isStart)?Y:W,r=(e?a.isStart:a.isEnd)?K:B,o=i(a.leftCol),s=r(a.rightCol);a.left=o,a.outerWidth=s-o}}function s(t){for(var e="",n=0;t.length>n;n++)e+=c(t[n]);return e}function c(t){var e="",n=E("isRTL"),a=t.event,i=a.url,r=["fc-event","fc-event-hori"];M(a)&&r.push("fc-event-draggable"),t.isStart&&r.push("fc-event-start"),t.isEnd&&r.push("fc-event-end"),r=r.concat(a.className),a.source&&(r=r.concat(a.source.className||[]));var o=V(a,E);return e+=i?"<a href='"+L(i)+"'":"<div",e+=" class='"+r.join(" ")+"'"+" style="+"'"+"position:absolute;"+"z-index:8;"+"left:"+t.left+"px;"+o+"'"+">"+"<div class='fc-event-inner'>",!a.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+L(Q(a.start,a.end,E("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+L(a.title)+"</span>"+"</div>",t.isEnd&&H(a)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),e+="</"+(i?"a":"div")+">"}function u(e,n){for(var a=0;e.length>a;a++){var i=e[a],r=i.event,o=n.eq(a),s=S("eventRender",r,r,o);s===!1?o.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",zIndex:8,left:i.left}),o.replaceWith(s),o=s),i.element=o)}}function d(t,e){var n=h(t),a=b(),i=[];if(e)for(var r=0;a.length>r;r++)a[r].height(n[r]);for(var r=0;a.length>r;r++)i.push(a[r].position().top);de(t,function(t,e){e.css("top",i[t.row]+t.top)})}function h(t){for(var e=q(),n=N(),a=[],i=g(t),r=0;e>r;r++){for(var o=i[r],s=[],l=0;n>l;l++)s.push(0);for(var c=0;o.length>c;c++){var u=o[c];u.top=I(s.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;u.rightCol>=l;l++)s[l]=u.top+u.outerHeight}a.push(I(s))}return a}function g(t){var e,n,a,i=q(),r=[];for(e=0;t.length>e;e++)n=t[e],a=n.row,n.element&&(r[a]?r[a].push(n):r[a]=[n]);for(a=0;i>a;a++)r[a]=m(r[a]||[]);return r}function m(t){for(var e=[],n=v(t),a=0;n.length>a;a++)e.push.apply(e,n[a]);return e}function v(t){t.sort(ne);for(var e=[],n=0;t.length>n;n++){for(var a=t[n],i=0;e.length>i&&ue(a,e[i]);i++);e[i]?e[i].push(a):e[i]=[a]}return e}function b(){var t,e=q(),n=[];for(t=0;e>t;t++)n[t]=z(t).find("div.fc-day-content > div");return n}function y(t,e){var n=G();de(t,function(t,n,a){var i=t.event;i._id===e?w(i,n,t):n[0]._fci=a}),x(n,t,w)}function w(t,e,n){M(t)&&D.draggableDayEvent(t,e,n),n.isEnd&&H(t)&&D.resizableDayEvent(t,e,n),A(t,e)}function $(t,e){var n,a=te();e.draggable({zIndex:9,delay:50,opacity:E("dragOpacity"),revertDuration:E("dragRevertDuration"),start:function(i,r){S("eventDragStart",e,t,i,r),F(t,e),a.start(function(a,i,r,o){if(e.draggable("option","revert",!a||!r&&!o),X(),a){var s=ae(i),c=ae(a);n=p(c,s),J(l(f(t.start),n),l(k(t),n))}else n=0},i,"drag")},stop:function(i,r){a.stop(),X(),S("eventDragStop",e,t,i,r),n?_(this,t,n,0,t.allDay,i,r):(e.css("filter",""),O(t,e))}})}function C(e,a,i){var r=E("isRTL"),o=r?"w":"e",s=a.find(".ui-resizable-"+o),c=!1;j(a),a.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(r){function s(n){S("eventResizeStop",this,e,n),t("body").css("cursor",""),u.stop(),X(),d&&U(this,e,d,0,n),setTimeout(function(){c=!1},0)}if(1==r.which){c=!0;var u=te();q(),N();var d,f,h=a.css("top"),p=t.extend({},e),g=se(oe(e.start));Z(),t("body").css("cursor",o+"-resize").one("mouseup",s),S("eventResizeStart",this,e,r),u.start(function(a,r){if(a){var s=ie(r),c=ie(a);if(c=Math.max(c,g),d=re(c)-re(s)){p.end=l(P(e),d,!0);var u=f;f=n(p,i.row,h),f=t(f),f.find("*").css("cursor",o+"-resize"),u&&u.remove(),F(e)}else f&&(O(e),f.remove(),f=null);X(),J(e.start,l(k(e),d))}},r)}})}var D=this;D.renderDayEvents=e,D.draggableDayEvent=$,D.resizableDayEvent=C;var E=D.opt,S=D.trigger,M=D.isEventDraggable,H=D.isEventResizable,P=D.eventEnd,R=D.reportEventElement,A=D.eventElementHandlers,O=D.showEvents,F=D.hideEvents,_=D.eventDrop,U=D.eventResize,q=D.getRowCnt,N=D.getColCnt;D.getColWidth;var z=D.allDayRow,W=D.colLeft,B=D.colRight,Y=D.colContentLeft,K=D.colContentRight;D.dateToCell;var G=D.getDaySegmentContainer,Q=D.calendar.formatDates,J=D.renderDayOverlay,X=D.clearOverlays,Z=D.clearSelection,te=D.getHoverListener,ee=D.rangeToSegments,ne=D.segmentCompare,ae=D.cellToDate,ie=D.cellToCellOffset,re=D.cellOffsetToDayOffset,oe=D.dateToDayOffset,se=D.dayOffsetToCellOffset}function ue(t,e){for(var n=0;e.length>n;n++){var a=e[n];if(a.leftCol<=t.rightCol&&a.rightCol>=t.leftCol)return!0}return!1}function de(t,e){for(var n=0;t.length>n;n++){var a=t[n],i=a.element;i&&e(a,i,n)}}function fe(){function e(t,e,i){n(),e||(e=l(t,i)),c(t,e,i),a(t,e,i)}function n(t){d&&(d=!1,u(),s("unselect",null,t))}function a(t,e,n,a){d=!0,s("select",null,t,e,n,a)}function i(e){var i=r.cellToDate,s=r.getIsCellAllDay,l=r.getHoverListener(),d=r.reportDayClick;if(1==e.which&&o("selectable")){n(e);var f;l.start(function(t,e){u(),t&&s(t)?(f=[i(e),i(t)].sort(U),c(f[0],f[1],!0)):f=null},e),t(document).one("mouseup",function(t){l.stop(),f&&(+f[0]==+f[1]&&d(f[0],!0,t),a(f[0],f[1],!0,t))})}}var r=this;r.select=e,r.unselect=n,r.reportSelection=a,r.daySelectionMousedown=i;var o=r.opt,s=r.trigger,l=r.defaultSelectionEnd,c=r.renderSelection,u=r.clearSelection,d=!1;o("selectable")&&o("unselectAuto")&&t(document).mousedown(function(e){var a=o("unselectCancel");a&&t(e.target).parents(a).length||n(e)})}function he(){function e(e,n){var a=r.shift();return a||(a=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=n[0]&&a.appendTo(n),i.push(a.css(e).show()),a}function n(){for(var t;t=i.shift();)r.push(t.hide().unbind())}var a=this;a.renderOverlay=e,a.clearOverlays=n;var i=[],r=[]}function pe(t){var e,n,a=this;a.build=function(){e=[],n=[],t(e,n)},a.cell=function(t,a){var i,r=e.length,o=n.length,s=-1,l=-1;for(i=0;r>i;i++)if(a>=e[i][0]&&e[i][1]>a){s=i;break}for(i=0;o>i;i++)if(t>=n[i][0]&&n[i][1]>t){l=i;break}return s>=0&&l>=0?{row:s,col:l}:null},a.rect=function(t,a,i,r,o){var s=o.offset();return{top:e[t][0]-s.top,left:n[a][0]-s.left,width:n[r][1]-n[a][0],height:e[i][1]-e[t][0]}}}function ge(e){function n(t){me(t);var n=e.cell(t.pageX,t.pageY);(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))&&(n?(r||(r=n),i(n,r,n.row-r.row,n.col-r.col)):i(n,r),o=n)}var a,i,r,o,s=this;s.start=function(s,l,c){i=s,r=o=null,e.build(),n(l),a=c||"mousemove",t(document).bind(a,n)},s.stop=function(){return t(document).unbind(a,n),o}}function me(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function ve(t){function n(e){return i[e]=i[e]||t(e)}var a=this,i={},r={},o={};a.left=function(t){return r[t]=r[t]===e?n(t).position().left:r[t]},a.right=function(t){return o[t]=o[t]===e?a.left(t)+n(t).width():o[t]},a.clear=function(){i={},r={},o={}}}var be={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},ye={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},we=t.fullCalendar={version:"1.6.2"},$e=we.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var i,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t.data(this,"fullCalendar");if(a&&t.isFunction(a[n])){var o=a[n].apply(a,r);i===e&&(i=o),"destroy"==n&&t.removeData(this,"fullCalendar")}}),i!==e?i:this}var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=t.extend(!0,{},be,n.isRTL||n.isRTL===e&&be.isRTL?ye:{},n),this.each(function(e,i){var r=t(i),s=new a(r,n,o);r.data("fullCalendar",s),s.render()}),this},we.sourceNormalizers=[],we.sourceFetchers=[];var ke={dataType:"json",cache:!1},Ce=1;we.addDays=l,we.cloneDate=f,we.parseDate=m,we.parseISO8601=v,we.parseTime=b,we.formatDate=y,we.formatDates=w;var xe=["sun","mon","tue","wed","thu","fri","sat"],De=864e5,Ee=36e5,Te=6e4,Se={s:function(t){return t.getSeconds()},ss:function(t){return q(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return q(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return q(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return q(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return q(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return q(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return 12>t.getHours()?"a":"p"},tt:function(t){return 12>t.getHours()?"am":"pm"},T:function(t){return 12>t.getHours()?"A":"P"},TT:function(t){return 12>t.getHours()?"AM":"PM"},u:function(t){return y(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return $(t)}};we.dateFormatters=Se,we.applyAll=B,$e.month=K,$e.basicWeek=G,$e.basicDay=Q,n({weekMode:"fixed"}),$e.agendaWeek=Z,$e.agendaDay=te,$e.agendaList=ee,be.buttonText.agendaList="Agenda",be.titleFormat.agendaList="MMMM yyyy",be.agendaDisType=!0,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),function(t){function e(e,n,s){var l=e.success,c=t.extend({},e.data||{},{"start-min":a(n,"u"),"start-max":a(s,"u"),singleevents:!0,"max-results":9999}),u=e.currentTimezone;return u&&(c.ctz=u=u.replace(" ","_")),t.extend({},e,{url:e.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:c,startParam:!1,endParam:!1,success:function(e){var n=[];e.feed.entry&&t.each(e.feed.entry,function(e,a){var o,s=a.gd$when[0].startTime,l=i(s,!0),c=i(a.gd$when[0].endTime,!0),d=-1==s.indexOf("T");t.each(a.link,function(t,e){"text/html"==e.type&&(o=e.href,u&&(o+=(-1==o.indexOf("?")?"?":"&")+"ctz="+u))}),d&&r(c,-1),n.push({id:a.gCal$uid.value,title:a.title.$t,url:o,start:l,end:c,allDay:d,location:a.gd$where[0].valueString,description:a.content.$t})});var a=[n].concat(Array.prototype.slice.call(arguments,1)),s=o(l,this,a);return t.isArray(s)?s:n}})}var n=t.fullCalendar,a=n.formatDate,i=n.parseISO8601,r=n.addDays,o=n.applyAll;n.sourceNormalizers.push(function(t){("gcal"==t.dataType||void 0===t.dataType&&(t.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(t.dataType="gcal",void 0===t.editable&&(t.editable=!1))}),n.sourceFetchers.push(function(t,n,a){return"gcal"==t.dataType?e(t,n,a):void 0}),n.gcalFeed=function(e,n){return t.extend({},n,{url:e,dataType:"gcal"})}}(jQuery),!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed").remove()}var a,i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),a=t(r),e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.on(t.support.transition.end,n):n())};var a=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var a=t(this),i=a.data("alert");i||a.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(a)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,a=n.data(),i=n.is("input")?"val":"html";t+="Text",a.resetText||n.data("resetText",n[i]()),n[i](a[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var a=t(this),i=a.data("button"),r="object"==typeof n&&n;i||a.data("button",i=new e(this,r)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),a=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){a.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var a,i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[l](),a=t.Event("slide",{relatedTarget:r[0],direction:s}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(a),a.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,i.addClass(s),r.addClass(s),this.$element.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(a),a.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var a=t(this),i=a.data("carousel"),r=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:r.slide;i||a.data("carousel",i=new e(this,r)),"number"==typeof n?i.to(n):o?i[o]():r.interval&&i.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,a,i=t(this),r=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),i.data());r.carousel(o),(a=i.attr("data-slide-to"))&&r.data("carousel").pause().to(a).cycle(),e.preventDefault()})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,a,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),a=this.$parent&&this.$parent.find("> .accordion-group > .in"),a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse("hide"),i||a.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,a){var i=this,r=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(a)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var a=t(this),i=a.data("collapse"),r=t.extend({},t.fn.collapse.defaults,a.data(),"object"==typeof n&&n);i||a.data("collapse",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,a=t(this),i=a.attr("data-target")||e.preventDefault()||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(i).data("collapse")?"toggle":a.data();a[t(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(i).collapse(r)
})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(a).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,a=e.attr("data-target");return a||(a=e.attr("href"),a=a&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,"")),n=a&&t(a),n&&n.length||(n=e.parent()),n}var a="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var a,i,r=t(this);if(!r.is(".disabled, :disabled"))return a=n(r),i=a.hasClass("open"),e(),i||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),a.toggleClass("open")),r.focus(),!1},keydown:function(e){var i,r,o,s,l;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(o=n(i),s=o.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&o.find(a).focus(),i.click();r=t("[role=menu] li:not(.divider):visible a",o),r.length&&(l=r.index(r.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&r.length-1>l&&l++,~l||(l=0),r.eq(l).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),a=n.data("dropdown");a||n.data("dropdown",a=new i(this)),"string"==typeof e&&a[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",a,i.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var a=t(this),i=a.data("modal"),r=t.extend({},t.fn.modal.defaults,a.data(),"object"==typeof n&&n);i||a.data("modal",i=new e(this,r)),"string"==typeof n?i[n]():r.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),a=n.attr("href"),i=t(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":t.extend({remote:!/#/.test(a)&&a},i.data(),n.data());e.preventDefault(),i.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,a){var i,r,o,s,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(a),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)s=o[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",r="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,a=t.fn[this.type].defaults,i={};return this._options&&t.each(this._options,function(t,e){a[t]!=e&&(i[t]=e)},this),n=t(e.currentTarget)[this.type](i).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,a,i,r,o,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),a=e[0].offsetWidth,i=e[0].offsetHeight,r){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-a/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-a};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,a,i,r,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(t).addClass(e).addClass("in"),n=o[0].offsetWidth,a=o[0].offsetHeight,"top"==e&&a!=l&&(t.top=t.top+l-a,r=!0),"bottom"==e||"top"==e?(i=0,0>t.left&&(i=-2*t.left,t.left=0,o.offset(t),n=o[0].offsetWidth,a=o[0].offsetHeight),this.replaceArrow(i-s+n,n,"left")):this.replaceArrow(a-l,a,"top"),r&&o.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),a=t.Event("hide");return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var a=t(this),i=a.data("tooltip"),r="object"==typeof n&&n;i||a.data("tooltip",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var a=t(this),i=a.data("popover"),r="object"==typeof n&&n;i||a.data("popover",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){"use strict";function e(e,n){var a,i=t.proxy(this.process,this),r=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=r.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(a=t(e).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),a=e.data("target")||e.attr("href"),i=/^#\w/.test(a)&&t(a);return i&&i.length&&[[i.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),a]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,a=n-this.$scrollElement.height(),i=this.offsets,r=this.targets,o=this.activeTarget;if(e>=a)return o!=(t=r.last()[0])&&this.activate(t);for(t=i.length;t--;)o!=r[t]&&e>=i[t]&&(!i[t+1]||i[t+1]>=e)&&this.activate(r[t])},activate:function(e){var n,a;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(a).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var a=t(this),i=a.data("scrollspy"),r="object"==typeof n&&n;i||a.data("scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,a,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],a=t.Event("show",{relatedTarget:e}),i.trigger(a),a.isDefaultPrevented()||(n=t(o),this.activate(i.parent("li"),r),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,a){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var r=n.find("> .active"),o=a&&t.support.transition&&r.hasClass("fade");o?r.one(t.support.transition.end,i):i(),r.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var a=t(this),i=a.data("tab");i||a.data("tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],a=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?a.push(e):i.push(e):n.push(e);return n.concat(a,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,a){return e=t(n.options.item).attr("data-value",a),e.find("a").html(n.highlighter(a)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var a=t(this),i=a.data("typeahead"),r="object"==typeof n&&n;i||a.data("typeahead",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),a=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,o=r.bottom,s=r.top,l="affix affix-top affix-bottom";"object"!=typeof r&&(o=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof o&&(o=r.bottom()),e=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=o&&i.top+this.$element.height()>=n-o?"bottom":null!=s&&s>=a?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?i.top-a:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var a=t(this),i=a.data("affix"),r="object"==typeof n&&n;i||a.data("affix",i=new e(this,r)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.position","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/dialog/message.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/pane.html","template/tabs/tabs.html","template/typeahead/typeahead.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function a(t){for(var e in t)if(void 0!==r.style[e])return t[e]}var i=function(a,r,o){o=o||{};var s=t.defer(),l=i[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),e(function(){angular.isString(r)?a.addClass(r):angular.isFunction(r)?r(a):angular.isObject(r)&&a.css(r),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},r=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(o),i.animationEndEventName=a(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){var e=function(t,e,n){e.removeClass("collapse"),e.css({height:n}),e[0].offsetWidth,e.addClass("collapse")};return{link:function(n,a,i){var r,o=!0;n.$watch(function(){return a[0].scrollHeight},function(){0!==a[0].scrollHeight&&(r||(o?e(n,a,a[0].scrollHeight+"px"):e(n,a,"auto")))}),n.$watch(i.collapse,function(t){t?u():c()});var s,l=function(e){return s&&s.cancel(),s=t(a,e),s.then(function(){s=void 0},function(){s=void 0}),s},c=function(){o?(o=!1,r||e(n,a,"auto")):l({height:a[0].scrollHeight+"px"}).then(function(){r||e(n,a,"auto")}),r=!1},u=function(){r=!0,o?(o=!1,e(n,a,0)):(e(n,a,a[0].scrollHeight+"px"),l({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==a&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(this.groups.indexOf(t),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(t){this.heading=t}}],link:function(e,n,a,i){var r,o;i.addGroup(e),e.isOpen=!1,a.isOpen&&(r=t(a.isOpen),o=r.assign,e.$watch(function(){return r(e.$parent)},function(t){e.isOpen=t}),e.isOpen=r?r(e.$parent):!1),e.$watch("isOpen",function(t){t&&i.closeOthers(e),o&&o(e.$parent,t)})}}}]).directive("accordionHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(t,e,n){return function(t,e,a,i){i.setHeading(n(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(t,e,n){t.closeable="close"in n}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(t){var e=t.activeClass||"active",n=t.toggleEvent||"click";return{require:"ngModel",link:function(t,a,i,r){var o=t.$eval(i.btnRadio);t.$watch(function(){return r.$modelValue},function(t){angular.equals(t,o)?a.addClass(e):a.removeClass(e)}),a.bind(n,function(){a.hasClass(e)||t.$apply(function(){r.$setViewValue(o)})})}}}]).directive("btnCheckbox",["buttonConfig",function(t){var e=t.activeClass||"active",n=t.toggleEvent||"click";return{require:"ngModel",link:function(t,a,i,r){var o=t.$eval(i.btnCheckboxTrue),s=t.$eval(i.btnCheckboxFalse);o=angular.isDefined(o)?o:!0,s=angular.isDefined(s)?s:!1,t.$watch(function(){return r.$modelValue},function(t){angular.equals(t,o)?a.addClass(e):a.removeClass(e)}),a.bind(n,function(){t.$apply(function(){r.$setViewValue(a.hasClass(e)?s:o)})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(t,e,n){function a(){function n(){r?(t.next(),a()):t.pause()}i&&e.cancel(i);var o=+t.interval;!isNaN(o)&&o>=0&&(i=e(n,o))}var i,r,o=this,s=o.slides=[],l=-1;o.currentSlide=null,o.select=function(i,r){function c(){o.currentSlide&&angular.isString(r)&&!t.noTransition&&i.$element?(i.$element.addClass(r),i.$element[0].offsetWidth=i.$element[0].offsetWidth,angular.forEach(s,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:r,active:!0,entering:!0}),angular.extend(o.currentSlide||{},{direction:r,leaving:!0}),t.$currentTransition=n(i.$element,{}),function(e,n){t.$currentTransition.then(function(){u(e,n)},function(){u(e,n)})}(i,o.currentSlide)):u(i,o.currentSlide),o.currentSlide=i,l=d,a()}function u(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var d=s.indexOf(i);void 0===r&&(r=d>l?"next":"prev"),i&&i!==o.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(c)):c())},o.indexOfSlide=function(t){return s.indexOf(t)},t.next=function(){var t=(l+1)%s.length;return o.select(s[t],"next")},t.prev=function(){var t=0>l-1?s.length-1:l-1;return o.select(s[t],"prev")},t.select=function(t){o.select(t)},t.isActive=function(t){return o.currentSlide===t},t.slides=function(){return s},t.$watch("interval",a),t.play=function(){r||(r=!0,a())},t.pause=function(){r=!1,i&&e.cancel(i)},o.addSlide=function(e,n){e.$element=n,s.push(e),1===s.length||e.active?(o.select(s[s.length-1]),1==s.length&&t.play()):e.active=!1},o.removeSlide=function(t){var e=s.indexOf(t);s.splice(e,1),s.length>0&&t.active&&(e>=s.length?o.select(s[e-1]):o.select(s[e]))}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"="}}}]).directive("slide",[function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"="},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(t,e,n){t.title=n.title,t.message=n.message,t.buttons=n.buttons,t.close=function(t){e.close(t)}}]),dialogModule.provider("$dialog",function(){var t={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},e={},n={value:0};this.options=function(t){e=t},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(a,i,r,o,s,l,c,u,d){function f(t){var e=angular.element("<div>");return e.addClass(t),e}function h(n){var a=this,i=this.options=angular.extend({},t,e,n);this._open=!1,this.backdropEl=f(i.backdropClass),i.backdropFade&&(this.backdropEl.addClass(i.transitionClass),this.backdropEl.removeClass(i.triggerClass)),this.modalEl=f(i.dialogClass),i.dialogFade&&(this.modalEl.addClass(i.transitionClass),this.modalEl.removeClass(i.triggerClass)),this.handledEscapeKey=function(t){27===t.which&&(a.close(),t.preventDefault(),a.$scope.$apply())},this.handleBackDropClick=function(t){a.close(),t.preventDefault(),a.$scope.$apply()},this.handleLocationChange=function(){a.close()}}var p=i.find("body");return h.prototype.isOpen=function(){return this._open},h.prototype.open=function(t,e){var n=this,a=this.options;if(t&&(a.templateUrl=t),e&&(a.controller=e),!a.template&&!a.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(t){var e=t.$scope=n.$scope=t.$scope?t.$scope:o.$new();if(n.modalEl.html(t.$template),n.options.controller){var a=s(n.options.controller,t);n.modalEl.children().data("ngControllerController",a)}r(n.modalEl)(e),n._addElementsToDom(),p.addClass(n.options.dialogOpenClass),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=c.defer(),this.deferred.promise},h.prototype.close=function(t){function e(t){t.removeClass(a.options.triggerClass)}function n(){a._open&&a._onCloseComplete(t)}var a=this,i=this._getFadingElements();if(p.removeClass(a.options.dialogOpenClass),i.length>0)for(var r=i.length-1;r>=0;r--)u(i[r],e).then(n);else this._onCloseComplete(t)},h.prototype._getFadingElements=function(){var t=[];return this.options.dialogFade&&t.push(this.modalEl),this.options.backdropFade&&t.push(this.backdropEl),t},h.prototype._bindEvents=function(){this.options.keyboard&&p.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick),this.$scope.$on("$locationChangeSuccess",this.handleLocationChange)},h.prototype._unbindEvents=function(){this.options.keyboard&&p.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},h.prototype._onCloseComplete=function(t){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(t)
},h.prototype._addElementsToDom=function(){p.append(this.modalEl),this.options.backdrop&&(0===n.value&&p.append(this.backdropEl),n.value++),this._open=!0},h.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},h.prototype._loadResolves=function(){var t,e=[],n=[],i=this;return this.options.template?t=c.when(this.options.template):this.options.templateUrl&&(t=a.get(this.options.templateUrl,{cache:l}).then(function(t){return t.data})),angular.forEach(this.options.resolve||[],function(t,a){n.push(a),e.push(angular.isString(t)?d.get(t):d.invoke(t))}),n.push("$template"),e.push(t),c.all(e).then(function(t){var e={};return angular.forEach(t,function(t,a){e[n[a]]=t}),e.dialog=i,e})},{dialog:function(t){return new h(t)},messageBox:function(t,e,n){return new h({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:t,message:e,buttons:n}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location","$window",function(t){var e=null,n=angular.noop;return{restrict:"CA",link:function(a,i){a.$watch("$location.path",function(){n()}),i.parent().bind("click",function(){n()}),i.bind("click",function(a){a.preventDefault(),a.stopPropagation();var r=i===e;e&&n(),r||(i.parent().addClass("open"),e=i,n=function(a){a&&(a.preventDefault(),a.stopPropagation()),t.unbind("click",n),i.parent().removeClass("open"),n=angular.noop,e=null},t.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(t,e){return{restrict:"EA",terminal:!0,link:function(n,a,i){var r,o=angular.extend({},n.$eval(i.uiOptions||i.bsOptions||i.options)),s=i.modal||i.show;o=angular.extend(o,{template:a.html(),resolve:{$scope:function(){return n}}});var l=e.dialog(o);a.remove(),r=i.close?function(){t(i.close)(n)}:function(){angular.isFunction(t(s).assign)&&t(s).assign(n,!1)},n.$watch(s,function(t){t?l.open().then(function(){r()}):l.isOpen()&&l.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last"}).directive("pagination",["paginationConfig",function(t){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},templateUrl:"template/pagination/pagination.html",replace:!0,link:function(e,n,a){function i(t,e,n,a){return{number:t,text:e,active:n,disabled:a}}var r=angular.isDefined(a.boundaryLinks)?e.$eval(a.boundaryLinks):t.boundaryLinks,o=angular.isDefined(a.directionLinks)?e.$eval(a.directionLinks):t.directionLinks,s=angular.isDefined(a.firstText)?a.firstText:t.firstText,l=angular.isDefined(a.previousText)?a.previousText:t.previousText,c=angular.isDefined(a.nextText)?a.nextText:t.nextText,u=angular.isDefined(a.lastText)?a.lastText:t.lastText;e.$watch("numPages + currentPage + maxSize",function(){e.pages=[];var t=1,n=e.numPages;e.maxSize&&e.maxSize<e.numPages&&(t=Math.max(e.currentPage-Math.floor(e.maxSize/2),1),n=t+e.maxSize-1,n>e.numPages&&(n=e.numPages,t=n-e.maxSize+1));for(var a=t;n>=a;a++){var d=i(a,a,e.isActive(a),!1);e.pages.push(d)}if(o){var f=i(e.currentPage-1,l,!1,e.noPrevious());e.pages.unshift(f);var h=i(e.currentPage+1,c,!1,e.noNext());e.pages.push(h)}if(r){var p=i(1,s,!1,e.noPrevious());e.pages.unshift(p);var g=i(e.numPages,u,!1,e.noNext());e.pages.push(g)}e.currentPage>e.numPages&&e.selectPage(e.numPages)}),e.noPrevious=function(){return 1===e.currentPage},e.noNext=function(){return e.currentPage===e.numPages},e.isActive=function(t){return e.currentPage===t},e.selectPage=function(t){!e.isActive(t)&&t>0&&e.numPages>=t&&(e.currentPage=t,e.onSelectPage({page:t}))}}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function a(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),a={top:0,left:0},r=i(e[0]);return r!=t[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop,a.left+=r.clientLeft),{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].body.scrollTop),left:a.left+(e.pageXOffset||t[0].body.scrollLeft)}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(t){angular.extend(a,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position",function(i,r,o,s,l,c){return function(i,u,d){function f(t){var e,a;return e=t||h.trigger||d,a=angular.isDefined(h.trigger)?n[h.trigger]||e:n[e]||e,{show:e,hide:a}}var h=angular.extend({},e,a),p=t(i),g=f(void 0),m="<"+p+"-popup "+'title="{{tt_title}}" '+'content="{{tt_content}}" '+'placement="{{tt_placement}}" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+p+"-popup>";return{restrict:"EA",scope:!0,link:function(t,e,n){function a(){t.tt_isOpen?p():d()}function d(){t.tt_popupDelay?w=o(v,t.tt_popupDelay):t.$apply(v)}function p(){t.$apply(function(){b()})}function v(){var n,a,i,r;if(t.tt_content){switch(y&&o.cancel(y),k.css({top:0,left:0,display:"block"}),h.appendToBody?($=$||l.find("body"),$.append(k)):e.after(k),n=c.position(e),a=k.prop("offsetWidth"),i=k.prop("offsetHeight"),t.tt_placement){case"right":r={top:n.top+n.height/2-i/2+"px",left:n.left+n.width+"px"};break;case"bottom":r={top:n.top+n.height+"px",left:n.left+n.width/2-a/2+"px"};break;case"left":r={top:n.top+n.height/2-i/2+"px",left:n.left-a+"px"};break;default:r={top:n.top-i+"px",left:n.left+n.width/2-a/2+"px"}}k.css(r),t.tt_isOpen=!0}}function b(){t.tt_isOpen=!1,o.cancel(w),angular.isDefined(t.tt_animation)&&t.tt_animation()?y=o(function(){k.remove()},500):k.remove()}var y,w,$,k=r(m)(t);t.tt_isOpen=!1,n.$observe(i,function(e){t.tt_content=e}),n.$observe(u+"Title",function(e){t.tt_title=e}),n.$observe(u+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:h.placement}),n.$observe(u+"Animation",function(e){t.tt_animation=angular.isDefined(e)?s(e):function(){return h.animation}}),n.$observe(u+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?h.popupDelay:n}),n.$observe(u+"Trigger",function(t){e.unbind(g.show),e.unbind(g.hide),g=f(t),g.show===g.hide?e.bind(g.show,a):(e.bind(g.show,d),e.bind(g.hide,p))})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(t,e,n,a,i){return i("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(t,e,n){function a(t){return o[t]}var i=angular.isDefined(e.animate)?t.$eval(e.animate):n.animate,r=angular.isDefined(e.autoType)?t.$eval(e.autoType):n.autoType,o=angular.isDefined(e.stackedTypes)?t.$eval("["+e.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(t,e,n){var o=angular.isObject(t)?t.value:t||0,s=angular.isObject(e)?e.value:e||0,l=angular.isObject(t)&&angular.isDefined(t.type)?t.type:r?a(n||0):null;return{from:s,to:o,type:l,animate:i}},this.addBar=function(e){t.bars.push(e),t.totalPercent+=e.to},this.clearBars=function(){t.bars=[],t.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(t,e,n,a){t.$watch("value",function(t,e){if(a.clearBars(),angular.isArray(t))for(var n=0,i=t.length;i>n;n++)a.addBar(a.makeBar(t[n],e[n],n));else a.addBar(a.makeBar(t,e))},!0),t.$watch("totalPercent",function(e){e>=100?t.onFull():0>=e&&t.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(t){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(e,n){e.$watch("width",function(a){e.animate?(n.css("width",e.old+"%"),t(n,{width:a+"%"})):n.css("width",a+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5}).directive("rating",["ratingConfig","$parse",function(t,e){return{restrict:"EA",scope:{value:"="},templateUrl:"template/rating/rating.html",replace:!0,link:function(n,a,i){var r=angular.isDefined(i.max)?n.$eval(i.max):t.max;n.range=[];for(var o=1;r>=o;o++)n.range.push(o);n.rate=function(t){n.readonly||(n.value=t)},n.enter=function(t){n.readonly||(n.val=t)},n.reset=function(){n.val=angular.copy(n.value)},n.reset(),n.$watch("value",function(t){n.val=t}),n.readonly=!1,i.readonly&&n.$parent.$watch(e(i.readonly),function(t){n.readonly=!!t})}}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsController",["$scope","$element",function(t){var e=t.panes=[];this.select=t.select=function(t){angular.forEach(e,function(t){t.selected=!1}),t.selected=!0},this.addPane=function(n){e.length||t.select(n),e.push(n)},this.removePane=function(n){var a=e.indexOf(n);e.splice(a,1),n.selected&&e.length>0&&t.select(e[e.length>a?a:a-1])}}]).directive("tabs",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsController",templateUrl:"template/tabs/tabs.html",replace:!0}}).directive("pane",["$parse",function(t){return{require:"^tabs",restrict:"EA",transclude:!0,scope:{heading:"@"},link:function(e,n,a,i){var r,o;e.selected=!1,a.active&&(r=t(a.active),o=r.assign,e.$watch(function(){return r(e.$parent)},function(t){e.selected=t}),e.selected=r?r(e.$parent):!1),e.$watch("selected",function(t){t&&i.select(e),o&&o(e.$parent,t)}),i.addPane(e),e.$on("$destroy",function(){i.removePane(e)})},templateUrl:"template/tabs/pane.html",replace:!0}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var a=n.match(e);if(!a)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$document","$position","typeaheadParser",function(t,e,n,a,i,r){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,l,c,u){var d,f=s.$eval(c.typeaheadMinLength)||1,h=r.parse(c.typeahead),p=s.$eval(c.typeaheadEditable)!==!1,g=e(c.typeaheadLoading).assign||angular.noop,m=angular.element("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query' position='position'></typeahead-popup>"),v=s.$new();s.$on("$destroy",function(){v.$destroy()});var b=function(){v.matches=[],v.activeIdx=-1},y=function(t){var e={$viewValue:t};g(s,!0),n.when(h.source(v,e)).then(function(n){if(t===u.$viewValue){if(n.length>0){v.activeIdx=0,v.matches.length=0;for(var a=0;n.length>a;a++)e[h.itemName]=n[a],v.matches.push({label:h.viewMapper(v,e),model:n[a]});v.query=t,v.position=i.position(l),v.position.top=v.position.top+l.prop("offsetHeight")}else b();g(s,!1)}},function(){b(),g(s,!1)})};b(),v.query=void 0,u.$parsers.push(function(t){return b(),d?t:(t&&t.length>=f&&y(t),p?t:void 0)}),u.$render=function(){var t={};t[h.itemName]=d||u.$viewValue,l.val(h.viewMapper(v,t)||u.$viewValue),d=void 0},v.select=function(t){var e={};e[h.itemName]=d=v.matches[t].model,u.$setViewValue(h.modelMapper(v,e)),u.$render()},l.bind("keydown",function(t){0!==v.matches.length&&-1!==o.indexOf(t.which)&&(t.preventDefault(),40===t.which?(v.activeIdx=(v.activeIdx+1)%v.matches.length,v.$digest()):38===t.which?(v.activeIdx=(v.activeIdx?v.activeIdx:v.matches.length)-1,v.$digest()):13===t.which||9===t.which?v.$apply(function(){v.select(v.activeIdx)}):27===t.which&&(t.stopPropagation(),b(),v.$digest()))}),a.bind("click",function(){b(),v.$digest()}),l.after(t(m)(v))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(t){t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?e.replace(RegExp(t(n),"gi"),"<strong>$&</strong>"):n}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/dialog/message.html",[]).run(["$templateCache",function(t){t.put("template/dialog/message.html",'<div class="modal-header">\n	<h1>{{ title }}</h1>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class=btn ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="number in range" ng-mouseenter="enter(number)" ng-click="rate(number)" ng-class="{\'icon-star\': number <= val, \'icon-star-empty\': number > val}"></i>\n</span>\n')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(t){t.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>\n')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabs.html",'<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n      <a ng-click="select(pane)">{{pane.heading}}</a>\n    </li>\n  </ul>\n  <div class="tab-content" ng-transclude></div>\n</div>\n')}]),angular.module("template/typeahead/match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/match.html",'<a tabindex="-1" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">\n        <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n    </li>\n</ul>')}]),function(t,e,n,a){"use strict";var i=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this._init()};i.prototype={constructor:i,_init:function(){var e=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this)}),this.$widget=this.template!==!1?t(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",t.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=a,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(t){var e;e=t?this.minute-t:this.minute-this.minuteStep,0>e?(this.decrementHour(),this.minute=e+60):this.minute=e,this.update()},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t,this.update()},elementKeydown:function(t){switch(t.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":t.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(t.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(t.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:t.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(t,e,n,a){return t=10>t?"0"+t:t,e=10>e?"0"+e:e,n=10>n?"0"+n:n,t+":"+e+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+a:"")},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),a=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-a}},getTemplate:function(){var t,e,n,a,i,r;switch(this.showInputs?(e='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',a='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',i='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',a='<span class="bootstrap-timepicker-second"></span>',i='<span class="bootstrap-timepicker-meridian"></span>'),r='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+e+"</td> "+'<td class="separator">:</td>'+"<td>"+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+a+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+r+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>"}return t},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){this.isOpen!==!1&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(n).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&2>=this.position?this.highlightHour():this.position>=3&&5>=this.position?this.highlightMinute():this.position>=6&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0);this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0);this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0);this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0);this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.setSelectionRange(9,11)},0):setTimeout(function(){t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?(this.hour=0,a):(this.hour++,this.update(),a)},incrementMinute:function(t){var e;e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep,e>59?(this.incrementHour(),this.minute=e-60):this.minute=e,this.update()},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t,this.update()},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),a=Math.floor(e.getMinutes()/this.minuteStep)*this.minuteStep,i=Math.floor(e.getSeconds()/this.secondStep)*this.secondStep,r="AM";this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),r="PM"):r="AM"),this.hour=n,this.minute=a,this.second=i,this.meridian=r,this.update()}else t===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t){var e,n;this.showMeridian?(e=t.split(" "),n=e[0].split(":"),this.meridian=e[1]):n=t.split(":"),this.hour=parseInt(n[0],10),this.minute=parseInt(n[1],10),this.second=parseInt(n[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:1>this.hour&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":("pm"===this.meridian||"p"===this.meridian)&&(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:0>this.hour&&(this.hour=0),0>this.minute?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:0>this.second?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var e=this;t(n).on("mousedown.timepicker",function(n){0===t(n.target).closest(".bootstrap-timepicker-widget").length&&e.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var t=this.$element.val();t&&this.setTime(t)},updateWidget:function(){if(this.$widget!==!1){var t=10>this.hour?"0"+this.hour:this.hour,e=10>this.minute?"0"+this.minute:this.minute,n=10>this.second?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))
}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var e=t("input.bootstrap-timepicker-hour",this.$widget).val()+":"+t("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+t("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+t("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(e)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("a").data("action");n&&this[n]()},widgetKeydown:function(e){var n=t(e.target).closest("input"),a=n.attr("name");switch(e.keyCode){case 9:if(this.showMeridian){if("meridian"===a)return this.hideWidget()}else if(this.showSeconds){if("second"===a)return this.hideWidget()}else if("minute"===a)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),a){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(e.preventDefault(),a){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var a=t(this),r=a.data("timepicker"),o="object"==typeof e&&e;r||a.data("timepicker",r=new i(this,t.extend({},t.fn.timepicker.defaults,o,t(this).data()))),"string"==typeof e&&r[e].apply(r,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker"},t.fn.timepicker.Constructor=i}(jQuery,window,document),function(t,e,n){function a(t,e,n){for(var a=[],i=0;t.length>i;i++){var r=tinycolor(t[i]),o=.5>r.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";o+=tinycolor.equals(e,t[i])?" sp-thumb-active":"";var s=m?"background-color:"+r.toRgbString():"filter:"+r.toFilter();a.push('<span title="'+r.toRgbString()+'" data-color="'+r.toRgbString()+'" class="'+o+'"><span class="sp-thumb-inner" style="'+s+';" /></span>')}return"<div class='sp-cf "+n+"'>"+a.join("")+"</div>"}function i(){for(var t=0;p.length>t;t++)p[t]&&p[t].hide()}function r(t,n){var a=e.extend({},h,t);return a.callbacks={move:u(a.move,n),change:u(a.change,n),show:u(a.show,n),hide:u(a.hide,n),beforeShow:u(a.beforeShow,n)},a}function o(o,l){function u(){me.toggleClass("sp-flat",j),me.toggleClass("sp-input-disabled",!L.showInput),me.toggleClass("sp-alpha-enabled",L.showAlpha),me.toggleClass("sp-buttons-disabled",!L.showButtons||j),me.toggleClass("sp-palette-disabled",!L.showPalette),me.toggleClass("sp-palette-only",L.showPaletteOnly),me.toggleClass("sp-initial-disabled",!L.showInitial),me.addClass(L.className),U()}function h(){function n(t){return t.data&&t.data.ignore?(H(e(this).data("color")),A()):(H(e(this).data("color")),_(!0),A(),S()),!1}if(g&&me.find("*:not(input)").attr("unselectable","on"),u(),He&&pe.after(Pe).hide(),j)pe.after(me).hide();else{var a="parent"===L.appendTo?pe.parent():e(L.appendTo);1!==a.length&&(a=e("body")),a.append(me)}if(V&&t.localStorage){try{var i=t.localStorage[V].split(",#");i.length>1&&(delete t.localStorage[V],e.each(i,function(t,e){y(e)}))}catch(r){}try{ue=t.localStorage[V].split(";")}catch(r){}}Re.bind("click.spectrum touchstart.spectrum",function(t){ge||E(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(pe.is(":disabled")||L.disabled===!0)&&z(),me.click(c),xe.change(D),xe.bind("paste",function(){setTimeout(D,1)}),xe.keydown(function(t){13==t.keyCode&&D()}),Te.text(L.cancelText),Te.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),S("cancel")}),Se.text(L.chooseText),Se.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),R()&&(_(!0),S())}),d(ke,function(t,e,n){se=t/ee,n.shiftKey&&(se=Math.round(10*se)/10),A()}),d(ye,function(t,e){ie=parseFloat(e/Z),A()},C,x),d(ve,function(t,e){re=parseFloat(t/Q),oe=parseFloat((J-e)/J),A()},C,x),Oe?(H(Oe),O(),Ue=_e||tinycolor(Oe).format,y(Oe)):O(),j&&T();var o=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";De.delegate(".sp-thumb-el",o,n),Ee.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:!0},n)}function y(n){if(W){var a=tinycolor(n).toRgbString();if(-1===e.inArray(a,ue))for(ue.push(a);ue.length>de;)ue.shift();if(V&&t.localStorage)try{t.localStorage[V]=ue.join(";")}catch(i){}}}function w(){var t,e=[],n=ue,a={};if(L.showPalette){for(var i=0;ce.length>i;i++)for(var r=0;ce[i].length>r;r++)t=tinycolor(ce[i][r]).toRgbString(),a[t]=!0;for(i=0;n.length>i;i++)t=tinycolor(n[i]).toRgbString(),a.hasOwnProperty(t)||(e.push(n[i]),a[t]=!0)}return e.reverse().slice(0,L.maxSelectionSize)}function $(){var t=P(),n=e.map(ce,function(e,n){return a(e,t,"sp-palette-row sp-palette-row-"+n)});ue&&n.push(a(w(),t,"sp-palette-row sp-palette-row-selection")),De.html(n.join(""))}function k(){if(L.showInitial){var t=Fe,e=P();Ee.html(a([t,e],e,"sp-palette-row-initial"))}}function C(){(0>=J||0>=Q||0>=Z)&&U(),me.addClass(fe)}function x(){me.removeClass(fe)}function D(){var t=tinycolor(xe.val());t.ok?H(t):xe.addClass("sp-validation-error")}function E(){G?S():T()}function T(){var a=e.Event("beforeShow.spectrum");return G?(U(),n):(pe.trigger(a,[P()]),Y.beforeShow(P())===!1||a.isDefaultPrevented()||(i(),G=!0,e(he).bind("click.spectrum",S),e(t).bind("resize.spectrum",K),Pe.addClass("sp-active"),me.removeClass("sp-hidden"),L.showPalette&&$(),U(),O(),Fe=P(),k(),Y.show(Fe),pe.trigger("show.spectrum",[Fe])),n)}function S(n){if((!n||"click"!=n.type||2!=n.button)&&G&&!j){G=!1,e(he).unbind("click.spectrum",S),e(t).unbind("resize.spectrum",K),Pe.removeClass("sp-active"),me.addClass("sp-hidden");var a=!tinycolor.equals(P(),Fe);a&&(Ie&&"cancel"!==n?_(!0):M()),Y.hide(P()),pe.trigger("hide.spectrum",[P()])}}function M(){H(Fe,!0)}function H(t,e){if(!tinycolor.equals(t,P())){var n=tinycolor(t),a=n.toHsv();ie=a.h,re=a.s,oe=a.v,se=a.a,O(),n.ok&&!e&&(Ue=_e||n.format)}}function P(t){return t=t||{},tinycolor.fromRatio({h:ie,s:re,v:oe,a:Math.round(100*se)/100},{format:t.format||Ue})}function R(){return!xe.hasClass("sp-validation-error")}function A(){O(),Y.move(P()),pe.trigger("move.spectrum",[P()])}function O(){xe.removeClass("sp-validation-error"),F();var t=tinycolor.fromRatio({h:ie,s:1,v:1});ve.css("background-color",t.toHexString());var e=Ue;1>se&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=P({format:e}),a=n.toHexString(),i=n.toRgbString();if(m||1===n.alpha?Ae.css("background-color",i):(Ae.css("background-color","transparent"),Ae.css("filter",n.toFilter())),L.showAlpha){var r=n.toRgb();r.a=0;var o=tinycolor(r).toRgbString(),s="linear-gradient(left, "+o+", "+a+")";g?$e.css("filter",tinycolor(o).toFilter({gradientType:1},a)):($e.css("background","-webkit-"+s),$e.css("background","-moz-"+s),$e.css("background","-ms-"+s),$e.css("background",s))}L.showInput&&xe.val(n.toString(e)),L.showPalette&&$(),k()}function F(){var t=re,e=oe,n=t*Q,a=J-e*J;n=Math.max(-X,Math.min(Q-X,n-X)),a=Math.max(-X,Math.min(J-X,a-X)),be.css({top:a,left:n});var i=se*ee;Ce.css({left:i-ne/2});var r=ie*Z;we.css({top:r-ae})}function _(t){var e=P();Me&&pe.val(e.toString(Ue)).change();var n=!tinycolor.equals(e,Fe);Fe=e,y(e),t&&n&&(Y.change(e),pe.trigger("change.spectrum",[e]))}function U(){Q=ve.width(),J=ve.height(),X=be.height(),te=ye.width(),Z=ye.height(),ae=we.height(),ee=ke.width(),ne=Ce.width(),j||(me.css("position","absolute"),me.offset(s(me,Re))),F()}function I(){pe.show(),Re.unbind("click.spectrum touchstart.spectrum"),me.remove(),Pe.remove(),p[qe.id]=null}function q(t,a){return t===n?e.extend({},L):a===n?L[t]:(L[t]=a,u(),n)}function N(){ge=!1,pe.attr("disabled",!1),Re.removeClass("sp-disabled")}function z(){S(),ge=!0,pe.attr("disabled",!0),Re.addClass("sp-disabled")}var L=r(l,o),j=L.flat,W=L.showSelectionPalette,V=L.localStorageKey,B=L.theme,Y=L.callbacks,K=f(U,10),G=!1,Q=0,J=0,X=0,Z=0,te=0,ee=0,ne=0,ae=0,ie=0,re=0,oe=0,se=1,le=L.palette.slice(0),ce=e.isArray(le[0])?le:[le],ue=L.selectionPalette.slice(0),de=L.maxSelectionSize,fe="sp-dragging",he=o.ownerDocument,pe=(he.body,e(o)),ge=!1,me=e(b,he).addClass(B),ve=me.find(".sp-color"),be=me.find(".sp-dragger"),ye=me.find(".sp-hue"),we=me.find(".sp-slider"),$e=me.find(".sp-alpha-inner"),ke=me.find(".sp-alpha"),Ce=me.find(".sp-alpha-handle"),xe=me.find(".sp-input"),De=me.find(".sp-palette"),Ee=me.find(".sp-initial"),Te=me.find(".sp-cancel"),Se=me.find(".sp-choose"),Me=pe.is("input"),He=Me&&!j,Pe=He?e(v).addClass(B).addClass(L.className):e([]),Re=He?Pe:pe,Ae=Pe.find(".sp-preview-inner"),Oe=L.color||Me&&pe.val(),Fe=!1,_e=L.preferredFormat,Ue=_e,Ie=!L.showButtons||L.clickoutFiresChange;h();var qe={show:T,hide:S,toggle:E,reflow:U,option:q,enable:N,disable:z,set:function(t){H(t),_()},get:P,destroy:I,container:me};return qe.id=p.push(qe)-1,qe}function s(t,n){var a=0,i=t.outerWidth(),r=t.outerHeight(),o=n.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=n.offset();return d.top+=o,d.left-=Math.min(d.left,d.left+i>c&&c>i?Math.abs(d.left+i-c):0),d.top-=Math.min(d.top,d.top+r>u&&u>r?Math.abs(r+o-a):a),d}function l(){}function c(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,a=n.call(arguments,2);return function(){return t.apply(e,a.concat(n.call(arguments)))}}function d(n,a,i,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(d){if(g&&9>document.documentMode&&!t.button)return c();var e=t.originalEvent.touches,i=e?e[0].pageX:t.pageX,r=e?e[0].pageY:t.pageY,s=Math.max(0,Math.min(i-f.left,p)),l=Math.max(0,Math.min(r-f.top,h));m&&o(t),a.apply(n,[s,l,t])}}function l(t){var a=t.which?3==t.which:2==t.button;t.originalEvent.touches,a||d||i.apply(n,arguments)!==!1&&(d=!0,h=e(n).height(),p=e(n).width(),f=e(n).offset(),e(u).bind(v),e(u.body).addClass("sp-dragging"),m||s(t),o(t))}function c(){d&&(e(u).unbind(v),e(u.body).removeClass("sp-dragging"),r.apply(n,arguments)),d=!1}a=a||function(){},i=i||function(){},r=r||function(){};var u=n.ownerDocument||document,d=!1,f={},h=0,p=0,m="ontouchstart"in t,v={};v.selectstart=o,v.dragstart=o,v[m?"touchmove":"mousemove"]=s,v[m?"touchend":"mouseup"]=c,e(n).bind(m?"touchstart":"mousedown",l)}function f(t,e,n){var a;return function(){var i=this,r=arguments,o=function(){a=null,t.apply(i,r)};n&&clearTimeout(a),(n||!a)&&(a=setTimeout(o,e))}}var h={beforeShow:l,move:l,change:l,show:l,hide:l,color:!1,flat:!1,showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},p=[],g=!!/msie/i.exec(t.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(g)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";e.fn.spectrum=function(t){if("string"==typeof t){var n=this,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=p[e(this).data(y)];if(i){var r=i[t];if(!r)throw Error("Spectrum: no such method: '"+t+"'");"get"==t?n=i.get():"container"==t?n=i.container:"option"==t?n=i.option.apply(i,a):"destroy"==t?(i.destroy(),e(this).removeData(y)):r.apply(i,a)}}),n}return this.spectrum("destroy").each(function(){var n=o(this,t);e(this).data(y,n.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=d,e.fn.spectrum.defaults=h,e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("<input type='color' value='!' />")[0],n="color"===t.type&&"!"!=t.value;n||e("input[type=color]").spectrum({preferredFormat:"hex6"})},function(t){function e(t,a){if(t=t?t:"",a=a||{},"object"==typeof t&&t.hasOwnProperty("_tc_id"))return t;var r=n(t),s=r.r,c=r.g,d=r.b,f=r.a,h=k(100*f)/100,p=a.format||r.format;return 1>s&&(s=k(s)),1>c&&(c=k(c)),1>d&&(d=k(d)),{ok:r.ok,format:p,_tc_id:w++,alpha:f,toHsv:function(){var t=o(s,c,d);return{h:360*t.h,s:t.s,v:t.v,a:f}},toHsvString:function(){var t=o(s,c,d),e=k(360*t.h),n=k(100*t.s),a=k(100*t.v);return 1==f?"hsv("+e+", "+n+"%, "+a+"%)":"hsva("+e+", "+n+"%, "+a+"%, "+h+")"},toHsl:function(){var t=i(s,c,d);return{h:360*t.h,s:t.s,l:t.l,a:f}},toHslString:function(){var t=i(s,c,d),e=k(360*t.h),n=k(100*t.s),a=k(100*t.l);return 1==f?"hsl("+e+", "+n+"%, "+a+"%)":"hsla("+e+", "+n+"%, "+a+"%, "+h+")"},toHex:function(t){return l(s,c,d,t)},toHexString:function(t){return"#"+l(s,c,d,t)},toRgb:function(){return{r:k(s),g:k(c),b:k(d),a:f}},toRgbString:function(){return 1==f?"rgb("+k(s)+", "+k(c)+", "+k(d)+")":"rgba("+k(s)+", "+k(c)+", "+k(d)+", "+h+")"},toPercentageRgb:function(){return{r:k(100*u(s,255))+"%",g:k(100*u(c,255))+"%",b:k(100*u(d,255))+"%",a:f}},toPercentageRgbString:function(){return 1==f?"rgb("+k(100*u(s,255))+"%, "+k(100*u(c,255))+"%, "+k(100*u(d,255))+"%)":"rgba("+k(100*u(s,255))+"%, "+k(100*u(c,255))+"%, "+k(100*u(d,255))+"%, "+h+")"},toName:function(){return T[l(s,c,d,!0)]||!1},toFilter:function(t){var n=l(s,c,d),i=n,r=Math.round(255*parseFloat(f)).toString(16),o=r,u=a&&a.gradientType?"GradientType = 1, ":"";if(t){var h=e(t);i=h.toHex(),o=Math.round(255*parseFloat(h.alpha)).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+u+"startColorstr=#"+g(r)+n+",endColorstr=#"+g(o)+i+")"},toString:function(t){t=t||this.format;var e=!1;return"rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()}}}function n(t){var e={r:0,g:0,b:0},n=1,i=!1,o=!1;return"string"==typeof t&&(t=v(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=a(t.r,t.g,t.b),i=!0,o="%"===(t.r+"").substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=m(t.s),t.v=m(t.v),e=s(t.h,t.s,t.v),i=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=m(t.s),t.l=m(t.l),e=r(t.h,t.s,t.l),i=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=parseFloat(n),(isNaN(n)||0>n||n>1)&&(n=1),{ok:i,format:t.format||o,r:C(255,x(e.r,0)),g:C(255,x(e.g,0)),b:C(255,x(e.b,0)),a:n}}function a(t,e,n){return{r:255*u(t,255),g:255*u(e,255),b:255*u(n,255)}}function i(t,e,n){t=u(t,255),e=u(e,255),n=u(n,255);var a,i,r=x(t,e,n),o=C(t,e,n),s=(r+o)/2;if(r==o)a=i=0;else{var l=r-o;switch(i=s>.5?l/(2-r-o):l/(r+o),r){case t:a=(e-n)/l+(n>e?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4}a/=6}return{h:a,s:i,l:s}}function r(t,e,n){function a(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+6*(e-t)*(2/3-n):t}var i,r,o;if(t=u(t,360),e=u(e,100),n=u(n,100),0===e)i=r=o=n;else{var s=.5>n?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}function o(t,e,n){t=u(t,255),e=u(e,255),n=u(n,255);var a,i,r=x(t,e,n),o=C(t,e,n),s=r,l=r-o;if(i=0===r?0:l/r,r==o)a=0;else{switch(r){case t:a=(e-n)/l+(n>e?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4}a/=6}return{h:a,s:i,v:s}}function s(t,e,n){t=6*u(t,360),e=u(e,100),n=u(n,100);var a=$.floor(t),i=t-a,r=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),l=a%6,c=[n,o,r,r,s,n][l],d=[s,n,n,o,r,r][l],f=[r,r,s,n,n,o][l];return{r:255*c,g:255*d,b:255*f}}function l(t,e,n,a){var i=[g(k(t).toString(16)),g(k(e).toString(16)),g(k(n).toString(16))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function c(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function u(t,e){h(t)&&(t="100%");var n=p(t);return t=C(e,x(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),1e-6>$.abs(t-e)?1:t%e/parseFloat(e)}function d(t){return C(1,x(0,t))}function f(t){return parseInt(t,16)}function h(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function p(t){return"string"==typeof t&&-1!=t.indexOf("%")}function g(t){return 1==t.length?"0"+t:""+t}function m(t){return 1>=t&&(t=100*t+"%"),t}function v(t){t=t.replace(b,"").replace(y,"").toLowerCase();var e=!1;if(E[t])t=E[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0};var n;return(n=S.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=S.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=S.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=S.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=S.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=S.hex6.exec(t))?{r:f(n[1]),g:f(n[2]),b:f(n[3]),format:e?"name":"hex"}:(n=S.hex3.exec(t))?{r:f(n[1]+""+n[1]),g:f(n[2]+""+n[2]),b:f(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var b=/^[\s,#]+/,y=/\s+$/,w=0,$=Math,k=$.round,C=$.min,x=$.max,D=$.random;e.fromRatio=function(t,n){if("object"==typeof t){var a={};for(var i in t)t.hasOwnProperty(i)&&(a[i]="a"===i?t[i]:m(t[i]));t=a}return e(t,n)},e.equals=function(t,n){return t&&n?e(t).toRgbString()==e(n).toRgbString():!1},e.random=function(){return e.fromRatio({r:D(),g:D(),b:D()})},e.desaturate=function(t,n){var a=e(t).toHsl();return a.s-=(n||10)/100,a.s=d(a.s),e(a)},e.saturate=function(t,n){var a=e(t).toHsl();return a.s+=(n||10)/100,a.s=d(a.s),e(a)},e.greyscale=function(t){return e.desaturate(t,100)},e.lighten=function(t,n){var a=e(t).toHsl();return a.l+=(n||10)/100,a.l=d(a.l),e(a)},e.darken=function(t,n){var a=e(t).toHsl();return a.l-=(n||10)/100,a.l=d(a.l),e(a)},e.complement=function(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)},e.triad=function(t){var n=e(t).toHsl(),a=n.h;return[e(t),e({h:(a+120)%360,s:n.s,l:n.l}),e({h:(a+240)%360,s:n.s,l:n.l})]},e.tetrad=function(t){var n=e(t).toHsl(),a=n.h;return[e(t),e({h:(a+90)%360,s:n.s,l:n.l}),e({h:(a+180)%360,s:n.s,l:n.l}),e({h:(a+270)%360,s:n.s,l:n.l})]},e.splitcomplement=function(t){var n=e(t).toHsl(),a=n.h;return[e(t),e({h:(a+72)%360,s:n.s,l:n.l}),e({h:(a+216)%360,s:n.s,l:n.l})]},e.analogous=function(t,n,a){n=n||6,a=a||30;var i=e(t).toHsl(),r=360/a,o=[e(t)];for(i.h=(i.h-(r*n>>1)+720)%360;--n;)i.h=(i.h+r)%360,o.push(e(i));return o},e.monochromatic=function(t,n){n=n||6;for(var a=e(t).toHsv(),i=a.h,r=a.s,o=a.v,s=[],l=1/n;n--;)s.push(e({h:i,s:r,v:o})),o=(o+l)%1;return s},e.readability=function(t,n){var a=e(t).toRgb(),i=e(n).toRgb(),r=(299*a.r+587*a.g+114*a.b)/1e3,o=(299*i.r+587*i.g+114*i.b)/1e3,s=Math.max(a.r,i.r)-Math.min(a.r,i.r)+Math.max(a.g,i.g)-Math.min(a.g,i.g)+Math.max(a.b,i.b)-Math.min(a.b,i.b);return{brightness:Math.abs(r-o),color:s}},e.readable=function(t,n){var a=e.readability(t,n);return a.brightness>125&&a.color>500},e.mostReadable=function(t,n){for(var a=null,i=0,r=!1,o=0;n.length>o;o++){var s=e.readability(t,n[o]),l=s.brightness>125&&s.color>500,c=3*(s.brightness/125)+s.color/500;(l&&!r||l&&r&&c>i||!l&&!r&&c>i)&&(r=l,i=c,a=e(n[o]))}return a};var E=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=e.hexNames=c(E),S=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:RegExp("rgb"+a),rgba:RegExp("rgba"+i),hsl:RegExp("hsl"+a),hsla:RegExp("hsla"+i),hsv:RegExp("hsv"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=e}(this),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}(window,jQuery),function(t,e){function n(){o=t.now(),s=s||e(a,10)}function a(){var n=t.now();t.resizestop.threshold>n-o?s=e(a,10):(clearTimeout(s),s=o=0,l.width=i.width(),l.height=i.height(),r.trigger("resizestop"))}var i=t(window),r=t([]),o=0,s=0,l={};t.resizestop={propagate:!1,threshold:500},t.event.special.resizestop={setup:function(){r=r.not(this),r=r.add(this),1===r.length&&i.bind("resize",n)},teardown:function(){r=r.not(this),r.length||i.unbind("resize",n)},add:function(e){var n=e.handler;e.handler=function(e){return t.resizestop.propagate||e.stopPropagation(),e.data=e.data||{},e.data.size=e.data.size||{},t.extend(e.data.size,l),n.apply(this,arguments)}}}}(jQuery,setTimeout),angular.module("ui.directives").directive("bsTimepicker",["$timeout",function(t){"use strict";var e="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)";return{restrict:"A",require:"?ngModel",link:function(n,a,i,r){r&&a.on("changeTime.timepicker",function(){t(function(){r.$setViewValue(a.val())})});var o=RegExp("^"+e+"$",["i"]);r.$parsers.unshift(function(t){return!t||o.test(t)?(r.$setValidity("time",!0),t):(r.$setValidity("time",!1),void 0)}),a.attr("data-toggle","timepicker"),a.parent().addClass("bootstrap-timepicker"),a.timepicker()}}}]),angular.module("ui.directives").directive("colorPicker",function(){return{restrict:"A",require:"ngModel",scope:!1,replace:!0,template:"<span><input class='input-small' /></span>",link:function(t,e,n,a){var i=e.find("input"),r=angular.extend({color:a.$viewValue,showPalette:!0,showInput:!0,preferredFormat:"hex",palette:[["rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)"],["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]],change:function(e){t.$apply(function(){a.$setViewValue(e.toHexString())})}},t.$eval(n.options));a.$render=function(){i.spectrum("set",a.$viewValue||"")},i.spectrum(r)}}}),angular.module("ui.directives").directive("feedback",function(){return{restrict:"C",link:function(t,e){e.hide();var n=e.find("div.feedback-content > div");t.$on("feedback:start",function(t,a){a=a||{},a.type=a.type||"alert",a.message=a.message||"",e.show(),n.removeClass().addClass(a.type).text(a.message)}),t.$on("feedback:stop",function(t,a){a=a||{},a.type=a.type||"alert",a.message=a.message||"",e.hide(),n.removeClass().addClass(a.type).text(a.message)})}}}),function(t){function e(t,e){var n=t.$root.$$phase;"$apply"===n||"$digest"===n?t.$eval(e):t.$apply(e)}function n(){function t(){return Math.floor(256*Math.random()).toString(16)}return"#"+t()+t()+t()}t("body").tooltip({selector:"*[data-toggle=tooltip]"}),t(document).on("click","div.mini-calendar tbody td",function(){t("div.mini-calendar tbody td").removeClass("on"),t(this).addClass("on")}),t(window).bind("resizestop",function(){1400>t(this).width()?(t("#sidebar").removeClass("span2").addClass("span3"),t("#content").removeClass("span10").addClass("span9")):(t("#sidebar").removeClass("span3").addClass("span2"),t("#content").removeClass("span9").addClass("span10"))});var a=angular.module("saturnApp",["ui","ui.bootstrap","ui.filters","ngResource","ngMockE2E"]);a.config(["$routeProvider",function(t){t.when("/",{templateUrl:"partials/index.html"}).when("/login",{templateUrl:"partials/login.html"}).when("/settings/",{templateUrl:"partials/settings.html"}).when("/settings/emails",{templateUrl:"partials/settings-emails.html"}).when("/settings/calendars",{templateUrl:"partials/settings-calendars.html"}).when("/settings/profile",{templateUrl:"partials/settings-profile.html"}).when("/settings/account",{templateUrl:"partials/settings-account.html"}).when("/calendar/:calendarId/settings",{templateUrl:"partials/settings-calendar.html"}).when("/calendar/create",{templateUrl:"partials/create-calendar.html"}).when("/event/create",{templateUrl:"partials/create-event.html"}).when("/event/edit/:eventId",{templateUrl:"partials/edit-event.html"}).otherwise({redirectTo:"/"})}]).run(function(e,n,a,i){e.$on("$routeChangeStart",function(e,a){return i.user.authorised!==!1&&t.cookie("saturn_access_token")?(i.user.authorised===!0&&"partials/login.html"===a.templateUrl&&n.path("/"),void 0):(i.user.authorised=!1,n.path("/login"),!1)}),e.$on("$routeChangeSuccess",function(){t.cookie("saturn_current_path",n.path())}),a.whenPOST("/login").respond(function(t,n,a){return a=e.$eval(a),[200,{login_hint:a.user,apiKey:"AIzaSyDBKGUfuXDiE_SSs8hUoVKC58v1zoii9Z0",clientId:"512508236814-shh88q7m8kmongk24vgnagsm5p7q5ghl.apps.googleusercontent.com",scopes:"https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile"}]}),a.whenPOST("/logout").respond(function(){}),a.whenPOST(/.*/).passThrough(),a.whenGET(/.*/).passThrough(),a.whenPUT(/.*/).passThrough(),a.whenDELETE(/.*/).passThrough(),a.whenPATCH(/.*/).passThrough()}),a.filter("encodeURIComponent",function(){return window.encodeURIComponent}),a.factory("Data",function(){var t=new Date;return{settings:{baseURL:"https://www.googleapis.com/calendar/v3",date:{dateFormat:"mm/dd/yy",minDate:t,changeMonth:!0,changeYear:!0,yearRange:t.getFullYear()+":"+(t.getFullYear()+5)},timePicker:{showMeridian:!0}}}}),a.factory("ACL",function(t,e){return t(e.settings.baseURL+"/calendars/:calendarId/acl/:ruleId",{calendarId:"@calendarId",ruleId:"@ruleId"},{insert:{method:"POST"},list:{method:"GET"},update:{method:"PUT"},patch:{method:"patch"}})}),a.factory("CalendarList",function(t,e){return t(e.settings.baseURL+"/users/:user/calendarList/:calendarId",{user:"me",calendarId:"@calendarId"},{insert:{method:"POST"},list:{method:"GET"},update:{method:"PUT"},patch:{method:"patch"}})}),a.factory("Calendars",function(t,e){return t(e.settings.baseURL+"/calendars/:calendarId",{calendarId:"@calendarId"},{clear:{method:"POST",url:e.settings.baseURL+"/calendars/:calendarId/clear"},insert:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH"},"delete":{method:"DELETE"}})}),a.factory("Colors",function(t,e){return t(e.settings.baseURL,{get:{method:"GET",url:e.settings.baseURL+"/colors"}})}),a.factory("Events",function(t,e){return t(e.settings.baseURL,{calendarId:"@calendarId",eventId:"@eventId",access_token:"@access_token"},{"delete":{method:"DELETE",url:e.settings.baseURL+"/calendars/:calendarId/events/:eventId"},get:{method:"GET",url:e.settings.baseURL+"/calendars/:calendarId/events/:eventId"},"import":{method:"POST",url:e.settings.baseURL+"/calendars/:calendarId/events/import"},insert:{method:"POST",url:e.settings.baseURL+"/calendars/:calendarId/events"},instances:{method:"GET",url:e.settings.baseURL+"/calendars/:calendarId/events/:eventId/instances"},list:{method:"GET",url:e.settings.baseURL+"/calendars/:calendarId/events"},move:{method:"POST",URL:e.settings.baseURL+"/calendars/:calendarId/events/:eventId/move"},quickAdd:{method:"POST",url:e.settings.baseURL+"/calendars/:calendarId/events/quickAdd"},update:{method:"PUT",url:e.settings.baseURL+"/calendars/:calendarId/events/:eventId"},patch:{method:"PATCH",url:e.settings.baseURL+"/calendars/:calendarId/events/:eventId"}})}),a.factory("Freebusy",function(t,e){return t(e.settings.baseURL,{query:{method:"POST",url:e.settings.baseURL+"/freeBusy"}})
}),a.factory("Settings",function(t,e){return t(e.settings.baseURL,{setting:"@setting"},{get:{method:"GET",url:e.settings.baseURL+"/users/me/settings/:setting"},list:{method:"GET",url:e.settings.baseURL+"/users/me/settings/"}})}),a.controller("EventController",function(n,a,i,r,o,s,l){n.data=l;var c=0,u=!1;n.events=function(t,e){c=0,n.getEvents(n.data.calendars,t,e,function(){n.calendar.fullCalendar("refetchEvents")})},n.getEvents=function(r,l,d,f){if(!r.length)return!1;if(c===r.length)return a.$broadcast("feedback:stop"),c=0,!1;var h=l.getTime()+d.getTime(),p=i("date")(l,"yyyy-MM-ddTHH:mm:ssZ"),g=i("date")(d,"yyyy-MM-ddTHH:mm:ssZ");r[c].selected!==!0||-1!==r[c].dateRange.indexOf(h)||u?(c++,n.getEvents(r,l,d,f)):(a.$broadcast("feedback:start",{type:"alert",message:"Loading events ..."}),u=!0,e(n,function(){s.list({calendarId:r[c].id,access_token:t.cookie("saturn_access_token"),timeMin:p,timeMax:g},function(t){r[c].dateRange.push(h),r[c].events.push.apply(r[c].events,t.items),r[c].events=i("unique")(r[c].events),u=!1,c++,f(),n.getEvents(r,l,d,f)},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),o(function(){a.$broadcast("feedback:stop")},1e3)})}))},n.createEvent=function(){var e=new Date;n.data.currentEvent.created=t.fullCalendar.formatDate(e,"u"),n.data.currentEvent.updated=t.fullCalendar.formatDate(e,"u"),angular.forEach(n.data.calendars,function(t){t.id===n.data.currentEvent.source.id&&t.events.push(n.data.currentEvent)}),a.$broadcast("feedback:start",{type:"alert",message:"Saving event ..."}),s.insert({calendarId:n.data.currentEvent.source.id,start:{dateTime:t.fullCalendar.formatDate(n.data.currentEvent.start,"u")},end:{dateTime:t.fullCalendar.formatDate(n.data.currentEvent.start,"u")},summary:n.data.currentEvent.title,description:n.data.currentEvent.description,location:n.data.currentEvent.location},function(){n.setCurrentEvent(),a.$broadcast("feedback:start",{type:"alert alert-success",message:"Event saved"}),o(function(){a.$broadcast("feedback:stop"),r.path("/")},1e3)},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),o(function(){a.$broadcast("feedback:stop")},1e3)})},n.updateEvent=function(i,l){var c=new Date;e(n,function(){a.$broadcast("feedback:start",{type:"alert",message:"Updating event ..."}),n.data.currentEvent.updated=t.fullCalendar.formatDate(c,"u"),s.update({calendarId:n.data.currentEvent.source.id,eventId:n.data.currentEvent.id,start:{dateTime:t.fullCalendar.formatDate(n.data.currentEvent.start,"u")},end:{dateTime:t.fullCalendar.formatDate(n.data.currentEvent.end,"u")},summary:n.data.currentEvent.title,description:n.data.currentEvent.description,location:n.data.currentEvent.location,sequence:n.data.currentEvent.sequence},function(){n.data.currentEvent.sequence++,a.$broadcast("feedback:start",{type:"alert alert-success",message:"Event updated"}),o(function(){a.$broadcast("feedback:stop"),r.path("/")},1e3),"function"==typeof i&&i()},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),o(function(){a.$broadcast("feedback:stop")},1e3),"function"==typeof l&&l()})})},n.deleteEvent=function(){confirm("Are you sure you want to delete this event ?")&&(a.$broadcast("feedback:start",{type:"alert",message:"Deleting event ..."}),e(n,function(){s.delete({calendarId:n.data.currentEvent.source.id,eventId:n.data.currentEvent.id,sendNotifications:!0},function(){a.$broadcast("feedback:start",{type:"alert alert-success",message:"Event deleted."}),o(function(){a.$broadcast("feedback:stop")},1e3)},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),o(function(){a.$broadcast("feedback:stop")},1e3)})}))},n.checkEventDates=function(){(n.data.currentEvent.start.getTime()>n.data.currentEvent.end.getTime()||!n.data.currentEvent.end)&&(n.data.currentEvent.end=n.data.currentEvent.start)},n.setCurrentEvent=function(e,a,i){var r=e||new Date,o=a||new Date,s=t.fullCalendar.formatDate(r,"hh:mm TT"),l=t.fullCalendar.formatDate(o,"hh:mm TT");n.data.currentEvent={title:"New event",id:Math.random().toString(36).slice(2),start:r,end:o,startDate:r,endDate:o,startTime:s,endTime:l,allDay:i||!1,organizer:{displayName:n.data.user.firstName+" "+n.data.user.lastName,email:n.data.user.email,self:!0},creator:{displayName:n.data.user.firstName+" "+n.data.user.lastName,email:n.data.user.email,self:!0},created:"",updated:"",editable:!0,source:{editable:!0}}},n.data.currentEvent||n.setCurrentEvent(),n.eventClick=function(a){if(a.editable===!0||a.source.editable===!0){n.data.currentEvent={},t.extend(n.data.currentEvent,a);var i,o=a.start,s=a.end,l=t.fullCalendar.formatDate(o,"hh:mm TT");s&&(i=t.fullCalendar.formatDate(s,"hh:mm TT")),n.data.currentEvent.startDate=o,n.data.currentEvent.endDate=s,n.data.currentEvent.startTime=l,n.data.currentEvent.endTime=i,n.data.currentEvent.allDay=a.end&&864e5===a.end.getTime()-a.start.getTime()?!0:!1,e(n,function(){r.path("/event/edit/"+a.id)})}},n.select=function(t,a,i){n.setCurrentEvent(t,a,i),e(n,function(){r.path("/event/create")})},n.eventDrop=function(t,e,a,i,r){n.data.currentEvent=t,n.updateEvent(function(){},function(){r()})},n.eventResize=function(t,e,a,i){n.data.currentEvent=t,n.updateEvent(function(){},function(){i()})},n.eventSources=[],n.updateEventSources=function(){n.eventSources.push.apply(n.eventSources,n.data.calendars)},n.data.calendars&&n.data.calendars.length&&n.updateEventSources(),n.$on("calendarsLoaded",function(){n.updateEventSources()}),n.masterCalendarOptions={header:{left:"month agendaWeek agendaDay agendaList",center:"title",right:"today prev,next"},allDayDefault:!1,selectable:!0,defaultView:"agendaWeek",slotMinutes:15,defaultEventMinutes:n.data.settings.defaultEventLength,eventClick:n.eventClick,eventDrop:n.eventDrop,eventResize:n.eventResize,viewDisplay:function(t){n.getEvents(n.data.calendars,t.start,t.end,function(){n.calendar.fullCalendar("refetchEvents")})},eventDataTransform:function(e){var n,a,i=new Date;return e.end&&(e.end instanceof Date&&(n=e.end),e.end.date&&(n=t.fullCalendar.parseDate(e.end.date)),e.end.dateTime&&(n=t.fullCalendar.parseDate(e.end.dateTime)),i>n&&(a="past-event")),{id:e.id,title:e.title||e.summary,description:e.description,kind:e.kind,etag:e.etag,status:e.status,htmlLink:e.htmlLink,created:e.created,updated:e.updated,summary:e.summary,creator:e.creator,organizer:e.organizer,visibility:e.visibility,sequence:e.sequence,iCalUID:e.iCalUID,gadget:e.gadget,location:e.location,className:a,start:e.start.date||e.start.dateTime||e.start,end:e.end?e.end.date||e.end.dateTime||e.end:e.start.date||e.start.dateTime||e.start}},eventRender:function(t,e){t.gadget&&(e.html('<img title="'+t.gadget.title+'" src="'+t.gadget.iconLink+'" width="16" height="16" />'),e.css({background:"none",border:0}))},eventAfterAllRender:function(){},select:n.select},n.miniCalendarOptions={header:{left:"",center:"title",right:"today prev,next"},editable:!1,selectable:!1,columnFormat:{day:"D"},eventRender:function(){return!1},viewDisplay:function(t){n.calendar.fullCalendar("gotoDate",t.start)},dayClick:function(t){n.calendar.fullCalendar("gotoDate",t)}}}),a.controller("CalendarController",function(e,a,i,r,o,s,l){function c(){a.$broadcast("feedback:start",{type:"alert",message:"Loading calendars ..."}),o.list({access_token:t.cookie("saturn_access_token")},function(t){a.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendars loaded"}),r(function(){a.$broadcast("feedback:stop")},1e3),angular.forEach(t.items,function(t){t.editable="owner"===t.accessRole?!0:!1,t.events=[],t.color=t.borderColor=t.backgroundColor,t.textColor=t.foregroundColor,t.dateRange=[],e.data.calendars.push(t)}),e.$emit("calendarsLoaded")},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),r(function(){a.$broadcast("feedback:stop")},1e3)})}e.data=l,e.data.calendars||(e.data.calendars=[]);var u=n();"#000000"===u&&(u=n()),e.calendar={color:u,textColor:"#000"},e.data.currentCalendar&&t.extend(e.calendar,e.data.currentCalendar),e.$watch("data.user.authorised",function(t){t===!0&&0===e.data.calendars.length&&c()}),e.createCalendar=function(){a.$broadcast("feedback:start",{type:"alert",message:"Saving calendar ..."}),s.insert({summary:e.calendar.summary,description:e.calendar.description,location:e.calendar.location,timeZone:e.calendar.timeZone},function(t){o.insert({id:t.id,kind:t.kind,etag:t.etag,hidden:!1,selected:!0,foregroundColor:e.calendar.foregroundColor,backgroundColor:e.calendar.backgroundColor,defaultReminders:[{method:"email",minutes:10}]},function(t){var n={id:t.id,kind:t.kind,etag:t.etag,hidden:t.hidden,selected:t.selected,foregroundColor:t.foregroundColor,backgroundColor:t.backgroundColor,colorId:t.colorId,defaultReminders:t.defaultReminders,locaton:t.defaultReminders,summary:t.summary,title:t.summary,accessRole:t.accessRole};n.data.color=t.backgroundColor,e.data.calendars.push(n),a.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendar saved"}),r(function(){a.$broadcast("feedback:stop")},1e3),i.path("/")},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.error.message}),r(function(){a.$broadcast("feedback:stop")},1e3)})},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.error.message}),r(function(){a.$broadcast("feedback:stop")},1e3)})},e.updateCalendar=function(){a.$broadcast("feedback:start",{type:"alert",message:"Updating calendar ..."}),t.extend(e.data.currentCalendar,e.calendar),e.data.currentCalendar.backgroundColor=e.data.currentCalendar.color,e.data.currentCalendar.borderColor=e.data.currentCalendar.color,s.update({calendarId:e.calendar.id,summary:e.calendar.summary,description:e.calendar.description,location:e.calendar.location,timeZone:e.calendar.timeZone},function(){a.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendar updated"}),r(function(){a.$broadcast("feedback:stop")},1e3),e.calendar=null,i.path("/")},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.error.message}),r(function(){a.$broadcast("feedback:stop")},1e3)})},e.setCurrentCalendarID=function(){e.data.currentEvent.source.id=this.calendar.id},e.setCalendar=function(){e.data.currentCalendar=this.calendar},e.resetCalendar=function(){t.extend(e.calendar,e.data.currentCalendar)},e.deleteCalendar=function(){var t=this;confirm("Are you sure you want to delete this calendar ?")&&(s.delete({calendarId:t.calendar.id}),angular.forEach(e.data.calendars,function(n,a){n.id===t.calendar.id&&e.data.calendars.splice(a,1)}))},e.unsubscribe=function(){confirm('Are you sure you want to unsubscribe from "'+this.calendar.summary+'" ?')},e.displayCalendar=function(){var t=this;angular.forEach(e.data.calendars,function(e){e.selected=e.id===t.calendar.id?!0:!1})}}),a.controller("SettingsController",function(t,e){t.data=e,t.data.settings.emails||(t.data.settings.emails=[]),t.addEmail=function(){-1===t.data.settings.emails.indexOf(t.data.settings.newEmail)&&t.data.settings.emails.push(t.data.settings.newEmail),t.data.settings.newEmail=null},t.deleteEmail=function(){confirm("Are you sure you want to remove this email from your list ?")&&t.data.settings.emails.splice(this.$index,1)}}),a.controller("UserController",function(n,a,i,r,o,s,l){function c(e){if(e&&!e.error){var s=new Date;s.setTime(s.getTime()+1e3*parseInt(e.expires_in)),t.cookie("saturn_access_token",e.access_token,{expires:s}),r.defaults.headers.common.Authorization="Bearer "+t.cookie("saturn_access_token"),n.data.user.authorised=!0,i.path("/"),n.getUserData(),l.list({access_token:t.cookie("saturn_access_token")},function(t){angular.forEach(t.items,function(t){n.data.settings[t.id]=t.value})},function(t){a.$broadcast("feedback:start",{type:"alert alert-error",message:t.data.error.message}),o(function(){a.$broadcast("feedback:stop")},1e3)})}}n.data=s,n.data.user||(n.data.user={firstName:"User",authorised:!1}),n.login=function(){r.post("/login",{user:n.loginData.user,password:n.loginData.password}).success(function(t){n.data.apiKey=t.apiKey,gapi.client.setApiKey(t.apiKey),window.setTimeout(function(){gapi.auth.authorize({client_id:t.clientId,scope:t.scopes,response_type:"token",immediate:!1,login_hint:t.login_hint,approval_prompt:"auto"},c)},200)}).error(function(){})},n.logout=function(){t.cookie("saturn_access_token",null,{expires:-1}),t.cookie("saturn_current_path",null,{expires:-1}),n.data.user.authorised=!1,n.data.calendars=[],a.$broadcast("feedback:stop"),i.path("/login")},n.getUserData=function(){e(n,function(){r({method:"GET",url:"https://www.googleapis.com/oauth2/v3/userinfo",params:{access_token:t.cookie("saturn_access_token")}}).success(function(t){n.data.user.firstName=t.given_name,n.data.user.lastName=t.family_name,n.data.user.email=t.email,n.data.user.gender=t.gender,n.data.user.picture=t.picture,n.data.user.profile=t.profile})})},t.cookie("saturn_access_token")&&(n.data.user.authorised=!0,r.defaults.headers.common.Authorization="Bearer "+t.cookie("saturn_access_token"),t.cookie("saturn_current_path")?i.path(t.cookie("saturn_current_path")):i.path("/"),n.getUserData())})}(jQuery);