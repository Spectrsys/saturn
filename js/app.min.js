/*! saturn - v0.0.1
* 2013-08-14
* http://www.saturn.com
* Copyright (c) 2013 - saturn */ 
function createHttpBackendMock($rootScope,$delegate,$browser){function createResponse(status,data,headers){return angular.isFunction(status)?status:function(){return angular.isNumber(status)?[status,data,headers]:[200,status,data]}}function $httpBackend(method,url,data,callback,headers,timeout){function prettyPrint(data){return angular.isString(data)||angular.isFunction(data)||data instanceof RegExp?data:angular.toJson(data)}function wrapResponse(wrapped){function handleResponse(){var response=wrapped.response(method,url,data,headers);xhr.$$respHeaders=response[2],callback(response[0],response[1],xhr.getAllResponseHeaders())}function handleTimeout(){for(var i=0,ii=responses.length;ii>i;i++)if(responses[i]===handleResponse){responses.splice(i,1),callback(-1,void 0,"");break}}return!$browser&&timeout&&timeout.then&&timeout.then(handleTimeout),handleResponse}var xhr=new MockXhr,expectation=expectations[0],wasExpected=!1;if(expectation&&expectation.match(method,url)){if(!expectation.matchData(data))throw Error("Expected "+expectation+" with different data\n"+"EXPECTED: "+prettyPrint(expectation.data)+"\nGOT:      "+data);if(!expectation.matchHeaders(headers))throw Error("Expected "+expectation+" with different headers\n"+"EXPECTED: "+prettyPrint(expectation.headers)+"\nGOT:      "+prettyPrint(headers));if(expectations.shift(),expectation.response)return responses.push(wrapResponse(expectation)),void 0;wasExpected=!0}for(var definition,i=-1;definition=definitions[++i];)if(definition.match(method,url,data,headers||{})){if(definition.response)($browser?$browser.defer:responsesPush)(wrapResponse(definition));else{if(!definition.passThrough)throw Error("No response defined !");$delegate(method,url,data,callback,headers,timeout)}return}throw wasExpected?Error("No response defined !"):Error("Unexpected request: "+method+" "+url+"\n"+(expectation?"Expected "+expectation:"No more request expected"))}function createShortMethods(prefix){angular.forEach(["GET","DELETE","JSONP"],function(method){$httpBackend[prefix+method]=function(url,headers){return $httpBackend[prefix](method,url,void 0,headers)}}),angular.forEach(["PUT","POST","PATCH"],function(method){$httpBackend[prefix+method]=function(url,data,headers){return $httpBackend[prefix](method,url,data,headers)}})}var definitions=[],expectations=[],responses=[],responsesPush=angular.bind(responses,responses.push);return $httpBackend.when=function(method,url,data,headers){var definition=new MockHttpExpectation(method,url,data,headers),chain={respond:function(status,data,headers){definition.response=createResponse(status,data,headers)}};return $browser&&(chain.passThrough=function(){definition.passThrough=!0}),definitions.push(definition),chain},createShortMethods("when"),$httpBackend.expect=function(method,url,data,headers){var expectation=new MockHttpExpectation(method,url,data,headers);return expectations.push(expectation),{respond:function(status,data,headers){expectation.response=createResponse(status,data,headers)}}},createShortMethods("expect"),$httpBackend.flush=function(count){if($rootScope.$digest(),!responses.length)throw Error("No pending request to flush !");if(angular.isDefined(count))for(;count--;){if(!responses.length)throw Error("No more pending request to flush !");responses.shift()()}else for(;responses.length;)responses.shift()();$httpBackend.verifyNoOutstandingExpectation()},$httpBackend.verifyNoOutstandingExpectation=function(){if($rootScope.$digest(),expectations.length)throw Error("Unsatisfied requests: "+expectations.join(", "))},$httpBackend.verifyNoOutstandingRequest=function(){if(responses.length)throw Error("Unflushed requests: "+responses.length)},$httpBackend.resetExpectations=function(){expectations.length=0,responses.length=0},$httpBackend}function MockHttpExpectation(method,url,data,headers){this.data=data,this.headers=headers,this.match=function(m,u,d,h){return method!=m?!1:this.matchUrl(u)?angular.isDefined(d)&&!this.matchData(d)?!1:angular.isDefined(h)&&!this.matchHeaders(h)?!1:!0:!1},this.matchUrl=function(u){return url?angular.isFunction(url.test)?url.test(u):url==u:!0},this.matchHeaders=function(h){return angular.isUndefined(headers)?!0:angular.isFunction(headers)?headers(h):angular.equals(headers,h)},this.matchData=function(d){return angular.isUndefined(data)?!0:data&&angular.isFunction(data.test)?data.test(d):data&&!angular.isString(data)?angular.toJson(data)==d:data==d},this.toString=function(){return method+" "+url}}function MockXhr(){MockXhr.$$lastInstance=this,this.open=function(method,url,async){this.$$method=method,this.$$url=url,this.$$async=async,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(data){this.$$data=data},this.setRequestHeader=function(key,value){this.$$reqHeaders[key]=value},this.getResponseHeader=function(name){var header=this.$$respHeaders[name];return header?header:(name=angular.lowercase(name),(header=this.$$respHeaders[name])?header:(header=void 0,angular.forEach(this.$$respHeaders,function(headerVal,headerName){header||angular.lowercase(headerName)!=name||(header=headerVal)}),header))},this.getAllResponseHeaders=function(){var lines=[];return angular.forEach(this.$$respHeaders,function(value,key){lines.push(key+": "+value)}),lines.join("\n")},this.abort=angular.noop}if(angular.mock={},angular.mock.$BrowserProvider=function(){this.$get=function(){return new angular.mock.$Browser}},angular.mock.$Browser=function(){var self=this;this.isMock=!0,self.$$url="http://server/",self.$$lastUrl=self.$$url,self.pollFns=[],self.$$completeOutstandingRequest=angular.noop,self.$$incOutstandingRequestCount=angular.noop,self.onUrlChange=function(listener){return self.pollFns.push(function(){self.$$lastUrl!=self.$$url&&(self.$$lastUrl=self.$$url,listener(self.$$url))}),listener},self.cookieHash={},self.lastCookieHash={},self.deferredFns=[],self.deferredNextId=0,self.defer=function(fn,delay){return delay=delay||0,self.deferredFns.push({time:self.defer.now+delay,fn:fn,id:self.deferredNextId}),self.deferredFns.sort(function(a,b){return a.time-b.time}),self.deferredNextId++},self.defer.now=0,self.defer.cancel=function(deferId){var fnIndex;return angular.forEach(self.deferredFns,function(fn,index){fn.id===deferId&&(fnIndex=index)}),void 0!==fnIndex?(self.deferredFns.splice(fnIndex,1),!0):!1},self.defer.flush=function(delay){if(angular.isDefined(delay))self.defer.now+=delay;else{if(!self.deferredFns.length)throw Error("No deferred tasks to be flushed");self.defer.now=self.deferredFns[self.deferredFns.length-1].time}for(;self.deferredFns.length&&self.deferredFns[0].time<=self.defer.now;)self.deferredFns.shift().fn()},self.$$baseHref="",self.baseHref=function(){return this.$$baseHref}},angular.mock.$Browser.prototype={poll:function(){angular.forEach(this.pollFns,function(pollFn){pollFn()})},addPollFn:function(pollFn){return this.pollFns.push(pollFn),pollFn},url:function(url){return url?(this.$$url=url,this):this.$$url},cookies:function(name,value){return name?(void 0==value?delete this.cookieHash[name]:angular.isString(value)&&4096>=value.length&&(this.cookieHash[name]=value),void 0):(angular.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=angular.copy(this.cookieHash),this.cookieHash=angular.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(fn){fn()}},angular.mock.$ExceptionHandlerProvider=function(){var handler;this.mode=function(mode){switch(mode){case"rethrow":handler=function(e){throw e};break;case"log":var errors=[];handler=function(e){1==arguments.length?errors.push(e):errors.push([].slice.call(arguments,0))},handler.errors=errors;break;default:throw Error("Unknown mode '"+mode+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return handler},this.mode("rethrow")},angular.mock.$LogProvider=function(){function concat(array1,array2,index){return array1.concat(Array.prototype.slice.call(array2,index))}this.$get=function(){var $log={log:function(){$log.log.logs.push(concat([],arguments,0))},warn:function(){$log.warn.logs.push(concat([],arguments,0))},info:function(){$log.info.logs.push(concat([],arguments,0))},error:function(){$log.error.logs.push(concat([],arguments,0))}};return $log.reset=function(){$log.log.logs=[],$log.warn.logs=[],$log.info.logs=[],$log.error.logs=[]},$log.assertEmpty=function(){var errors=[];if(angular.forEach(["error","warn","info","log"],function(logLevel){angular.forEach($log[logLevel].logs,function(log){angular.forEach(log,function(logItem){errors.push("MOCK $log ("+logLevel+"): "+(logItem+"")+"\n"+(logItem.stack||""))})})}),errors.length)throw errors.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),errors.push(""),Error(errors.join("\n---------\n"))},$log.reset(),$log}},function(){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8061_STR)){var date=new Date(0),tzHour=0,tzMin=0;return match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),date.setUTCFullYear(int(match[1]),int(match[2])-1,int(match[3])),date.setUTCHours(int(match[4]||0)-tzHour,int(match[5]||0)-tzMin,int(match[6]||0),int(match[7]||0)),date}return string}function int(str){return parseInt(str,10)}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;digits>num.length;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}var R_ISO8061_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;angular.mock.TzDate=function(offset,timestamp){var self=new Date(0);if(angular.isString(timestamp)){var tsStr=timestamp;if(self.origDate=jsonStringToDate(timestamp),timestamp=self.origDate.getTime(),isNaN(timestamp))throw{name:"Illegal Argument",message:"Arg '"+tsStr+"' passed into TzDate constructor is not a valid date string"}}else self.origDate=new Date(timestamp);var localOffset=new Date(timestamp).getTimezoneOffset();self.offsetDiff=1e3*60*localOffset-60*60*1e3*offset,self.date=new Date(timestamp+self.offsetDiff),self.getTime=function(){return self.date.getTime()-self.offsetDiff},self.toLocaleDateString=function(){return self.date.toLocaleDateString()},self.getFullYear=function(){return self.date.getFullYear()},self.getMonth=function(){return self.date.getMonth()},self.getDate=function(){return self.date.getDate()},self.getHours=function(){return self.date.getHours()},self.getMinutes=function(){return self.date.getMinutes()},self.getSeconds=function(){return self.date.getSeconds()},self.getMilliseconds=function(){return self.date.getMilliseconds()},self.getTimezoneOffset=function(){return 60*offset},self.getUTCFullYear=function(){return self.origDate.getUTCFullYear()},self.getUTCMonth=function(){return self.origDate.getUTCMonth()},self.getUTCDate=function(){return self.origDate.getUTCDate()},self.getUTCHours=function(){return self.origDate.getUTCHours()},self.getUTCMinutes=function(){return self.origDate.getUTCMinutes()},self.getUTCSeconds=function(){return self.origDate.getUTCSeconds()},self.getUTCMilliseconds=function(){return self.origDate.getUTCMilliseconds()},self.getDay=function(){return self.date.getDay()},self.toISOString&&(self.toISOString=function(){return padNumber(self.origDate.getUTCFullYear(),4)+"-"+padNumber(self.origDate.getUTCMonth()+1,2)+"-"+padNumber(self.origDate.getUTCDate(),2)+"T"+padNumber(self.origDate.getUTCHours(),2)+":"+padNumber(self.origDate.getUTCMinutes(),2)+":"+padNumber(self.origDate.getUTCSeconds(),2)+"."+padNumber(self.origDate.getUTCMilliseconds(),3)+"Z"});var unimplementedMethods=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return angular.forEach(unimplementedMethods,function(methodName){self[methodName]=function(){throw Error("Method '"+methodName+"' is not implemented in the TzDate mock")}}),self},angular.mock.TzDate.prototype=Date.prototype}(),angular.mock.createMockWindow=function(){var mockWindow={},setTimeoutQueue=[];return mockWindow.document=window.document,mockWindow.getComputedStyle=angular.bind(window,window.getComputedStyle),mockWindow.scrollTo=angular.bind(window,window.scrollTo),mockWindow.navigator=window.navigator,mockWindow.setTimeout=function(fn,delay){setTimeoutQueue.push({fn:fn,delay:delay})},mockWindow.setTimeout.queue=setTimeoutQueue,mockWindow.setTimeout.expect=function(delay){return setTimeoutQueue.length>0?{process:function(){var tick=setTimeoutQueue.shift();expect(tick.delay).toEqual(delay),tick.fn()}}:(expect("SetTimoutQueue empty. Expecting delay of ").toEqual(delay),void 0)},mockWindow},angular.mock.dump=function(object){function serialize(object){var out;return angular.isElement(object)?(object=angular.element(object),out=angular.element("<div></div>"),angular.forEach(object,function(element){out.append(angular.element(element).clone())}),out=out.html()):angular.isArray(object)?(out=[],angular.forEach(object,function(o){out.push(serialize(o))}),out="[ "+out.join(", ")+" ]"):out=angular.isObject(object)?angular.isFunction(object.$eval)&&angular.isFunction(object.$apply)?serializeScope(object):object instanceof Error?object.stack||""+object.name+": "+object.message:angular.toJson(object,!0):object+"",out}function serializeScope(scope,offset){offset=offset||"  ";var log=[offset+"Scope("+scope.$id+"): {"];for(var key in scope)scope.hasOwnProperty(key)&&!key.match(/^(\$|this)/)&&log.push("  "+key+": "+angular.toJson(scope[key]));for(var child=scope.$$childHead;child;)log.push(serializeScope(child,offset+"  ")),child=child.$$nextSibling;return log.push("}"),log.join("\n"+offset)}return serialize(object)},angular.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",createHttpBackendMock]},angular.mock.$TimeoutDecorator=function($delegate,$browser){function formatPendingTasksAsString(tasks){var result=[];return angular.forEach(tasks,function(task){result.push("{id: "+task.id+", "+"time: "+task.time+"}")}),result.join(", ")}return $delegate.flush=function(){$browser.defer.flush()},$delegate.verifyNoPendingTasks=function(){if($browser.deferredFns.length)throw Error("Deferred tasks to flush ("+$browser.deferredFns.length+"): "+formatPendingTasksAsString($browser.deferredFns))},$delegate},angular.mock.$RootElementProvider=function(){this.$get=function(){return angular.element("<div ng-app></div>")}},angular.module("ngMock",["ng"]).provider({$browser:angular.mock.$BrowserProvider,$exceptionHandler:angular.mock.$ExceptionHandlerProvider,$log:angular.mock.$LogProvider,$httpBackend:angular.mock.$HttpBackendProvider,$rootElement:angular.mock.$RootElementProvider}).config(function($provide){$provide.decorator("$timeout",angular.mock.$TimeoutDecorator)}),angular.module("ngMockE2E",["ng"]).config(function($provide){$provide.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator)}),angular.mock.e2e={},angular.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",createHttpBackendMock],angular.mock.clearDataCache=function(){var key,cache=angular.element.cache;for(key in cache)if(cache.hasOwnProperty(key)){var handle=cache[key].handle;handle&&angular.element(handle.elem).unbind(),delete cache[key]}},window.jstestdriver&&function(window){window.dump=function(){var args=[];angular.forEach(arguments,function(arg){args.push(angular.mock.dump(arg))}),jstestdriver.console.log.apply(jstestdriver.console,args),window.console&&window.console.log.apply(window.console,args)}}(window),(window.jasmine||window.mocha)&&function(window){function isSpecRunning(){return currentSpec&&(window.mocha||currentSpec.queue.running)}var currentSpec=null;beforeEach(function(){currentSpec=this}),afterEach(function(){var injector=currentSpec.$injector;currentSpec.$injector=null,currentSpec.$modules=null,currentSpec=null,injector&&(injector.get("$rootElement").unbind(),injector.get("$browser").pollFns.length=0),angular.mock.clearDataCache(),angular.forEach(angular.element.fragments,function(val,key){delete angular.element.fragments[key]}),MockXhr.$$lastInstance=null,angular.forEach(angular.callbacks,function(val,key){delete angular.callbacks[key]}),angular.callbacks.counter=0}),window.module=angular.mock.module=function(){function workFn(){if(currentSpec.$injector)throw Error("Injector already created, can not register a module!");var modules=currentSpec.$modules||(currentSpec.$modules=[]);angular.forEach(moduleFns,function(module){modules.push(module)})}var moduleFns=Array.prototype.slice.call(arguments,0);return isSpecRunning()?workFn():workFn},window.inject=angular.mock.inject=function(){function workFn(){var modules=currentSpec.$modules||[];modules.unshift("ngMock"),modules.unshift("ng");var injector=currentSpec.$injector;injector||(injector=currentSpec.$injector=angular.injector(modules));for(var i=0,ii=blockFns.length;ii>i;i++)try{injector.invoke(blockFns[i]||angular.noop,this)}catch(e){throw e.stack&&errorForStack&&(e.stack+="\n"+errorForStack.stack),e}finally{errorForStack=null}}var blockFns=Array.prototype.slice.call(arguments,0),errorForStack=Error("Declaration Location");return isSpecRunning()?workFn():workFn}}(window),function(window,angular,undefined){"use strict";angular.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function($http,$parse){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=defaults||{},this.urlParams={}}function ResourceFactory(url,paramDefaults,actions){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?getter(data,value.substr(1)):value}),ids}function Resource(value){copy(value||{},this)}var route=new Route(url);return actions=extend({},DEFAULT_ACTIONS,actions),forEach(actions,function(action,name){action.method=angular.uppercase(action.method);var hasBody="POST"==action.method||"PUT"==action.method||"PATCH"==action.method;Resource[name]=function(a1,a2,a3,a4){function markResolved(){value.$resolved=!0}var data,promise,params={},success=noop,error=null;switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var promise,value=this instanceof Resource?this:action.isArray?[]:new Resource(data),httpConfig={};return forEach(action,function(value,key){"params"!=key&&"isArray"!=key&&(httpConfig[key]=copy(value))}),httpConfig.data=data,route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url),promise=$http(httpConfig),value.$resolved=!1,promise.then(markResolved,markResolved),value.$then=promise.then(function(response){var data=response.data,then=value.$then,resolved=value.$resolved;return data&&(action.isArray?(value.length=0,forEach(data,function(item){value.push(new Resource(item))})):(copy(data,value),value.$then=then,value.$resolved=resolved)),(success||noop)(value,response.headers),response.resource=value,response},error).then,value},Resource.prototype["$"+name]=function(a1,a2,a3){var error,params=extractParams(this),success=noop;switch(arguments.length){case 3:params=a1,success=a2,error=a3;break;case 2:case 1:isFunction(a1)?(success=a1,error=a2):(params=a1,success=a2||noop);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var data=hasBody?this:undefined;Resource[name].call(this,params,data,success,error)}}),Resource.bind=function(additionalParamDefaults){return ResourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var DEFAULT_ACTIONS={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction,getter=function(obj,path){return $parse(path)(obj)};return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){param&&RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(RegExp(":"+urlParam+"(\\W|$)","g"),encodedVal+"$1")):url=url.replace(RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),url=url.replace(/\/+$/,""),url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},ResourceFactory}])}(window,window.angular),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(uiConfig,$timeout){var options={};return angular.isString(uiConfig.animate)?options["class"]=uiConfig.animate:uiConfig.animate&&(options=uiConfig.animate),{restrict:"A",link:function($scope,element,attrs){var opts={};attrs.uiAnimate&&(opts=$scope.$eval(attrs.uiAnimate),angular.isString(opts)&&(opts={"class":opts})),opts=angular.extend({"class":"ui-animate"},options,opts),element.addClass(opts["class"]),$timeout(function(){element.removeClass(opts["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(uiConfig){return uiConfig.uiCalendar=uiConfig.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(scope,elm,attrs){function update(){scope.calendar=elm.html("");var view=scope.calendar.fullCalendar("getView");view&&(view=view.name);var expression,options={defaultView:view,eventSources:sources};expression=attrs.uiCalendar?scope.$eval(attrs.uiCalendar):{},angular.extend(options,uiConfig.uiCalendar,expression),scope.calendar.fullCalendar(options)}var sources=scope.$eval(attrs.ngModel),tracker=0,getSources=function(){var equalsTracker=scope.$eval(attrs.equalsTracker);return tracker=0,angular.forEach(sources,function(value){angular.isArray(value)&&(tracker+=value.length)}),angular.isNumber(equalsTracker)?tracker+sources.length+equalsTracker:tracker+sources.length};update(),scope.$watch(getSources,function(){update()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(uiConfig,$timeout){"use strict";var events=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ngModel){var options,opts,onChange,deferCodeMirror,codeMirror;if("textarea"!==elm[0].type)throw Error("uiCodemirror3 can only be applied to a textarea element");options=uiConfig.codemirror||{},opts=angular.extend({},options,scope.$eval(attrs.uiCodemirror)),onChange=function(aEvent){return function(instance,changeObj){var newValue=instance.getValue();newValue!==ngModel.$viewValue&&(ngModel.$setViewValue(newValue),scope.$apply()),"function"==typeof aEvent&&aEvent(instance,changeObj)}},deferCodeMirror=function(){codeMirror=CodeMirror.fromTextArea(elm[0],opts),codeMirror.on("change",onChange(opts.onChange));for(var aEvent,i=0,n=events.length;n>i;++i)aEvent=opts["on"+events[i].charAt(0).toUpperCase()+events[i].slice(1)],void 0!==aEvent&&"function"==typeof aEvent&&codeMirror.on(events[i],aEvent);ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||null===value)return"";if(angular.isObject(value)||angular.isArray(value))throw Error("ui-codemirror cannot use an object or an array as a model");return value}),ngModel.$render=function(){codeMirror.setValue(ngModel.$viewValue)},attrs.uiRefresh&&scope.$watch(attrs.uiRefresh,function(newVal,oldVal){newVal!==oldVal&&$timeout(codeMirror.refresh)})},$timeout(deferCodeMirror)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(uiConfig,currencyFilter){var options={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return uiConfig.currency&&angular.extend(options,uiConfig.currency),{restrict:"EAC",require:"ngModel",link:function(scope,element,attrs,controller){var opts,renderview,value;opts=angular.extend({},options,scope.$eval(attrs.uiCurrency)),renderview=function(viewvalue){var num;return num=1*viewvalue,element.toggleClass(opts.pos,num>0),element.toggleClass(opts.neg,0>num),element.toggleClass(opts.zero,0===num),""===viewvalue?element.text(""):element.text(currencyFilter(num,opts.symbol)),!0},controller.$render=function(){value=controller.$viewValue,element.val(value),renderview(value)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(uiConfig){"use strict";var options;return options={},angular.isObject(uiConfig.date)&&angular.extend(options,uiConfig.date),{require:"?ngModel",link:function(scope,element,attrs,controller){var getOptions=function(){return angular.extend({},uiConfig.date,scope.$eval(attrs.uiDate))},initDateWidget=function(){var opts=getOptions();if(controller){var updateModel=function(){scope.$apply(function(){var date=element.datepicker("getDate");element.datepicker("setDate",element.val()),controller.$setViewValue(date),element.blur()})};if(opts.onSelect){var userHandler=opts.onSelect;opts.onSelect=function(value,picker){updateModel(),scope.$apply(function(){userHandler(value,picker)})}}else opts.onSelect=updateModel;element.bind("change",updateModel),controller.$render=function(){var date=controller.$viewValue;if(angular.isDefined(date)&&null!==date&&!angular.isDate(date))throw Error("ng-Model value must be a Date object - currently it is a "+typeof date+" - use ui-date-format to convert it from a string");element.datepicker("setDate",date)}}element.datepicker("destroy"),element.datepicker(opts),controller&&controller.$render()};scope.$watch(getOptions,initDateWidget,!0)}}}]).directive("uiDateFormat",["ui.config",function(uiConfig){var directive={require:"ngModel",link:function(scope,element,attrs,modelCtrl){var dateFormat=attrs.uiDateFormat||uiConfig.dateFormat;dateFormat?(modelCtrl.$formatters.push(function(value){return angular.isString(value)?$.datepicker.parseDate(dateFormat,value):void 0}),modelCtrl.$parsers.push(function(value){return value?$.datepicker.formatDate(dateFormat,value):void 0})):(modelCtrl.$formatters.push(function(value){return angular.isString(value)?new Date(value):void 0}),modelCtrl.$parsers.push(function(value){return value?value.toISOString():void 0}))}};return directive}]),angular.module("ui.directives").directive("uiEvent",["$parse",function($parse){return function(scope,elm,attrs){var events=scope.$eval(attrs.uiEvent);angular.forEach(events,function(uiEvent,eventName){var fn=$parse(uiEvent);elm.bind(eventName,function(evt){var params=Array.prototype.slice.call(arguments);params=params.splice(1),scope.$apply(function(){fn(scope,{$event:evt,$params:params})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(element,attr,transclude){return function(scope,element,attr){var childElement,childScope;scope.$watch(attr.uiIf,function(newValue){childElement&&(childElement.remove(),childElement=void 0),childScope&&(childScope.$destroy(),childScope=void 0),newValue&&(childScope=scope.$new(),transclude(childScope,function(clone){childElement=clone,element.after(clone)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(uiConfig,$timeout){return{restrict:"A",compile:function(tElm,tAttrs){if(!angular.isFunction(tElm[tAttrs.uiJq]))throw Error('ui-jq: The "'+tAttrs.uiJq+'" function does not exist');var options=uiConfig.jq&&uiConfig.jq[tAttrs.uiJq];return function(scope,elm,attrs){function callPlugin(){$timeout(function(){elm[attrs.uiJq].apply(elm,linkOptions)},0,!1)}var linkOptions=[];attrs.uiOptions?(linkOptions=scope.$eval("["+attrs.uiOptions+"]"),angular.isObject(options)&&angular.isObject(linkOptions[0])&&(linkOptions[0]=angular.extend({},options,linkOptions[0]))):options&&(linkOptions=[options]),attrs.ngModel&&elm.is("select,input,textarea")&&elm.on("change",function(){elm.trigger("input")}),attrs.uiRefresh&&scope.$watch(attrs.uiRefresh,function(){callPlugin()}),callPlugin()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function($parse){var keysByCode={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},capitaliseFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};return function(mode,scope,elm,attrs){var params,combinations=[];params=scope.$eval(attrs["ui"+capitaliseFirstLetter(mode)]),angular.forEach(params,function(v,k){var combination,expression;expression=$parse(v),angular.forEach(k.split(" "),function(variation){combination={expression:expression,keys:{}},angular.forEach(variation.split("-"),function(value){combination.keys[value]=!0}),combinations.push(combination)})}),elm.bind(mode,function(event){var altPressed=event.metaKey||event.altKey,ctrlPressed=event.ctrlKey,shiftPressed=event.shiftKey,keyCode=event.keyCode;"keypress"===mode&&!shiftPressed&&keyCode>=97&&122>=keyCode&&(keyCode-=32),angular.forEach(combinations,function(combination){var mainKeyPressed=combination.keys[keysByCode[event.keyCode]]||combination.keys[""+event.keyCode]||!1,altRequired=combination.keys.alt||!1,ctrlRequired=combination.keys.ctrl||!1,shiftRequired=combination.keys.shift||!1;mainKeyPressed&&altRequired==altPressed&&ctrlRequired==ctrlPressed&&shiftRequired==shiftPressed&&scope.$apply(function(){combination.expression(scope,{$event:event})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(keypressHelper){return{link:function(scope,elm,attrs){keypressHelper("keydown",scope,elm,attrs)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(keypressHelper){return{link:function(scope,elm,attrs){keypressHelper("keypress",scope,elm,attrs)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(keypressHelper){return{link:function(scope,elm,attrs){keypressHelper("keyup",scope,elm,attrs)}}}]),function(){function bindMapEvents(scope,eventsStr,googleObject,element){angular.forEach(eventsStr.split(" "),function(eventName){var $event={type:"map-"+eventName};google.maps.event.addListener(googleObject,eventName,function(evt){element.triggerHandler(angular.extend({},$event,evt)),scope.$$phase||scope.$apply()})})}function mapOverlayDirective(directiveName,events){app.directive(directiveName,[function(){return{restrict:"A",link:function(scope,elm,attrs){scope.$watch(attrs[directiveName],function(newObject){bindMapEvents(scope,events,newObject,elm)
})}}}])}var app=angular.module("ui.directives");app.directive("uiMap",["ui.config","$parse",function(uiConfig,$parse){var mapEvents="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",options=uiConfig.map||{};return{restrict:"A",link:function(scope,elm,attrs){var opts=angular.extend({},options,scope.$eval(attrs.uiOptions)),map=new google.maps.Map(elm[0],opts),model=$parse(attrs.uiMap);model.assign(scope,map),bindMapEvents(scope,mapEvents,map,elm)}}}]),app.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(uiConfig,$parse,$compile){var infoWindowEvents="closeclick content_change domready position_changed zindex_changed",options=uiConfig.mapInfoWindow||{};return{link:function(scope,elm,attrs){var opts=angular.extend({},options,scope.$eval(attrs.uiOptions));opts.content=elm[0];var model=$parse(attrs.uiMapInfoWindow),infoWindow=model(scope);infoWindow||(infoWindow=new google.maps.InfoWindow(opts),model.assign(scope,infoWindow)),bindMapEvents(scope,infoWindowEvents,infoWindow,elm),elm.replaceWith("<div></div>");var _open=infoWindow.open;infoWindow.open=function(a1,a2,a3,a4,a5,a6){$compile(elm.contents())(scope),_open.call(infoWindow,a1,a2,a3,a4,a5,a6)}}}}]),mapOverlayDirective("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),mapOverlayDirective("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),mapOverlayDirective("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),mapOverlayDirective("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),mapOverlayDirective("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),mapOverlayDirective("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function($scope,element,attrs,controller){controller.$render=function(){var value=controller.$viewValue||"";element.val(value),element.mask($scope.$eval(attrs.uiMask))},controller.$parsers.push(function(value){var isValid=element.isMaskValid()||angular.isUndefined(element.isMaskValid())&&element.val().length>0;return controller.$setValidity("mask",isValid),isValid?value:void 0}),element.bind("keyup",function(){$scope.$apply(function(){controller.$setViewValue(element.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(uiConfig){var resetValue=null;return void 0!==uiConfig.reset&&(resetValue=uiConfig.reset),{require:"ngModel",link:function(scope,elm,attrs,ctrl){var aElement;aElement=angular.element('<a class="ui-reset" />'),elm.wrap('<span class="ui-resetwrap" />').after(aElement),aElement.bind("click",function(e){e.preventDefault(),scope.$apply(function(){attrs.uiReset?ctrl.$setViewValue(scope.$eval(attrs.uiReset)):ctrl.$setViewValue(resetValue),ctrl.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function($location,$parse){return{restrict:"AC",compile:function(tElement,tAttrs){var useProperty;if(tAttrs.uiRoute)useProperty="uiRoute";else if(tAttrs.ngHref)useProperty="ngHref";else{if(!tAttrs.href)throw Error("uiRoute missing a route or href property on "+tElement[0]);useProperty="href"}return function($scope,elm,attrs){function staticWatcher(newVal){(hash=newVal.indexOf("#"))>-1&&(newVal=newVal.substr(hash+1)),watcher=function(){modelSetter($scope,$location.path().indexOf(newVal)>-1)},watcher()}function regexWatcher(newVal){(hash=newVal.indexOf("#"))>-1&&(newVal=newVal.substr(hash+1)),watcher=function(){var regexp=RegExp("^"+newVal+"$",["i"]);modelSetter($scope,regexp.test($location.path()))},watcher()}var modelSetter=$parse(attrs.ngModel||attrs.routeModel||"$uiRoute").assign,watcher=angular.noop;switch(useProperty){case"uiRoute":attrs.uiRoute?regexWatcher(attrs.uiRoute):attrs.$observe("uiRoute",regexWatcher);break;case"ngHref":attrs.ngHref?staticWatcher(attrs.ngHref):attrs.$observe("ngHref",staticWatcher);break;case"href":staticWatcher(attrs.href)}$scope.$on("$routeChangeSuccess",function(){watcher()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function($window){"use strict";return{link:function(scope,elm,attrs){var top=elm.offset().top;attrs.uiScrollfix?"-"===attrs.uiScrollfix.charAt(0)?attrs.uiScrollfix=top-attrs.uiScrollfix.substr(1):"+"===attrs.uiScrollfix.charAt(0)&&(attrs.uiScrollfix=top+parseFloat(attrs.uiScrollfix.substr(1))):attrs.uiScrollfix=top,angular.element($window).on("scroll.ui-scrollfix",function(){var offset;if(angular.isDefined($window.pageYOffset))offset=$window.pageYOffset;else{var iebody=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;offset=iebody.scrollTop}!elm.hasClass("ui-scrollfix")&&offset>attrs.uiScrollfix?elm.addClass("ui-scrollfix"):elm.hasClass("ui-scrollfix")&&attrs.uiScrollfix>offset&&elm.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(uiConfig,$timeout){var options={};return uiConfig.select2&&angular.extend(options,uiConfig.select2),{require:"?ngModel",compile:function(tElm,tAttrs){var watch,repeatOption,repeatAttr,isSelect=tElm.is("select"),isMultiple=void 0!==tAttrs.multiple;return tElm.is("select")&&(repeatOption=tElm.find("option[ng-repeat], option[data-ng-repeat]"),repeatOption.length&&(repeatAttr=repeatOption.attr("ng-repeat")||repeatOption.attr("data-ng-repeat"),watch=jQuery.trim(repeatAttr.split("|")[0]).split(" ").pop())),function(scope,elm,attrs,controller){var opts=angular.extend({},options,scope.$eval(attrs.uiSelect2));if(isSelect?(delete opts.multiple,delete opts.initSelection):isMultiple&&(opts.multiple=!0),controller&&(controller.$render=function(){isSelect?elm.select2("val",controller.$modelValue):isMultiple?controller.$modelValue?angular.isArray(controller.$modelValue)?elm.select2("data",controller.$modelValue):elm.select2("val",controller.$modelValue):elm.select2("data",[]):angular.isObject(controller.$modelValue)?elm.select2("data",controller.$modelValue):elm.select2("val",controller.$modelValue)},watch&&scope.$watch(watch,function(newVal){newVal&&$timeout(function(){elm.select2("val",controller.$viewValue),elm.trigger("change")})}),!isSelect&&(elm.bind("change",function(){scope.$apply(function(){controller.$setViewValue(elm.select2("data"))})}),opts.initSelection))){var initSelection=opts.initSelection;opts.initSelection=function(element,callback){initSelection(element,function(value){controller.$setViewValue(value),callback(value)})}}attrs.$observe("disabled",function(value){elm.select2(value&&"disable"||"enable")}),attrs.ngMultiple&&scope.$watch(attrs.ngMultiple,function(){elm.select2(opts)}),elm.val(scope.$eval(attrs.ngModel)),$timeout(function(){elm.select2(opts),opts.initSelection||isSelect||controller.$setViewValue(elm.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiShow,function(newVal){newVal?elm.addClass("ui-show"):elm.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiHide,function(newVal){newVal?elm.addClass("ui-hide"):elm.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(scope,elm,attrs){scope.$watch(attrs.uiToggle,function(newVal){newVal?elm.removeClass("ui-hide").addClass("ui-show"):elm.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(uiConfig){return{require:"?ngModel",link:function(scope,element,attrs,ngModel){var onReceive,onRemove,onStart,onUpdate,opts,_receive,_remove,_start,_update;opts=angular.extend({},uiConfig.sortable,scope.$eval(attrs.uiSortable)),ngModel&&(ngModel.$render=function(){element.sortable("refresh")},onStart=function(e,ui){ui.item.sortable={index:ui.item.index()}},onUpdate=function(e,ui){ui.item.sortable.resort=ngModel},onReceive=function(e,ui){ui.item.sortable.relocate=!0,ngModel.$modelValue.splice(ui.item.index(),0,ui.item.sortable.moved)},onRemove=function(e,ui){ui.item.sortable.moved=1===ngModel.$modelValue.length?ngModel.$modelValue.splice(0,1)[0]:ngModel.$modelValue.splice(ui.item.sortable.index,1)[0]},onStop=function(e,ui){if(ui.item.sortable.resort&&!ui.item.sortable.relocate){var end,start;start=ui.item.sortable.index,end=ui.item.index(),end>start&&end--,ui.item.sortable.resort.$modelValue.splice(end,0,ui.item.sortable.resort.$modelValue.splice(start,1)[0])}(ui.item.sortable.resort||ui.item.sortable.relocate)&&scope.$apply()},_start=opts.start,opts.start=function(e,ui){onStart(e,ui),"function"==typeof _start&&_start(e,ui)},_stop=opts.stop,opts.stop=function(e,ui){onStop(e,ui),"function"==typeof _stop&&_stop(e,ui)},_update=opts.update,opts.update=function(e,ui){onUpdate(e,ui),"function"==typeof _update&&_update(e,ui)},_receive=opts.receive,opts.receive=function(e,ui){onReceive(e,ui),"function"==typeof _receive&&_receive(e,ui)},_remove=opts.remove,opts.remove=function(e,ui){onRemove(e,ui),"function"==typeof _remove&&_remove(e,ui)}),element.sortable(opts)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(uiConfig){return uiConfig.tinymce=uiConfig.tinymce||{},{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options={onchange_callback:function(inst){inst.isDirty()&&(inst.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply())},handle_event_callback:function(){return this.isDirty()&&(this.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()),!0},setup:function(ed){ed.onSetContent.add(function(ed){ed.isDirty()&&(ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply())})}};expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiConfig.tinymce,expression),setTimeout(function(){elm.tinymce(options)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){var validateFn,watch,validators={},validateExpr=scope.$eval(attrs.uiValidate);validateExpr&&(angular.isString(validateExpr)&&(validateExpr={validator:validateExpr}),angular.forEach(validateExpr,function(expression,key){validateFn=function(valueToValidate){return scope.$eval(expression,{$value:valueToValidate})?(ctrl.$setValidity(key,!0),valueToValidate):(ctrl.$setValidity(key,!1),void 0)},validators[key]=validateFn,ctrl.$formatters.push(validateFn),ctrl.$parsers.push(validateFn)}),attrs.uiValidateWatch&&(watch=scope.$eval(attrs.uiValidateWatch),angular.isString(watch)?scope.$watch(watch,function(){angular.forEach(validators,function(validatorFn){validatorFn(ctrl.$modelValue)})}):angular.forEach(watch,function(expression,key){scope.$watch(expression,function(){validators[key](ctrl.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(value,replace){if(!value)return value;var token,target=""+value;return void 0===replace?target:angular.isArray(replace)||angular.isObject(replace)?(token=angular.isArray(replace)&&"$"||":",angular.forEach(replace,function(value,key){target=target.split(token+key).join(value)}),target):target.split("$0").join(replace)}}),angular.module("ui.filters").filter("highlight",function(){return function(text,search,caseSensitive){return search||angular.isNumber(search)?(text=""+text,search=""+search,caseSensitive?text.split(search).join('<span class="ui-match">'+search+"</span>"):text.replace(RegExp(search,"gi"),'<span class="ui-match">$&</span>')):text}}),angular.module("ui.filters").filter("inflector",function(){function ucwords(text){return text.replace(/^([a-z])|\s+([a-z])/g,function($1){return $1.toUpperCase()})}function breakup(text,separator){return text.replace(/[A-Z]/g,function(match){return separator+match})}var inflectors={humanize:function(value){return ucwords(breakup(value," ").split("_").join(" "))},underscore:function(value){return value.substr(0,1).toLowerCase()+breakup(value.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(value){return value=value.substr(0,1).toLowerCase()+ucwords(value.split("_").join(" ")).substr(1).split(" ").join("")}};return function(text,inflector){return inflector!==!1&&angular.isString(text)?(inflector=inflector||"humanize",inflectors[inflector](text)):text}}),angular.module("ui.filters").filter("unique",function(){return function(items,filterOn){if(filterOn===!1)return items;if((filterOn||angular.isUndefined(filterOn))&&angular.isArray(items)){var newItems=[],extractValueToCompare=function(item){return angular.isObject(item)&&angular.isString(filterOn)?item[filterOn]:item};angular.forEach(items,function(item){for(var isDuplicate=!1,i=0;newItems.length>i;i++)if(angular.equals(extractValueToCompare(newItems[i]),extractValueToCompare(item))){isDuplicate=!0;break}isDuplicate||newItems.push(item)}),items=newItems}return items}}),function(){"use strict";angular.module("http-auth-interceptor",["http-auth-interceptor-buffer"]).factory("authService",["$rootScope","httpBuffer",function($rootScope,httpBuffer){return{loginConfirmed:function(){$rootScope.$broadcast("event:auth-loginConfirmed"),httpBuffer.retryAll()}}}]).config(["$httpProvider",function($httpProvider){var interceptor=["$rootScope","$q","httpBuffer",function($rootScope,$q,httpBuffer){function success(response){return response}function error(response){if(401===response.status&&!response.config.ignoreAuthModule){var deferred=$q.defer();return httpBuffer.append(response.config,deferred),$rootScope.$broadcast("event:auth-loginRequired"),deferred.promise}return $q.reject(response)}return function(promise){return promise.then(success,error)}}];$httpProvider.responseInterceptors.push(interceptor)}]),angular.module("http-auth-interceptor-buffer",[]).factory("httpBuffer",["$injector",function($injector){function retryHttpRequest(config,deferred){$http=$http||$injector.get("$http"),$http(config).then(function(response){deferred.resolve(response)})}var $http,buffer=[];return{append:function(config,deferred){buffer.push({config:config,deferred:deferred})},retryAll:function(){for(var i=0;buffer.length>i;++i)retryHttpRequest(buffer[i].config,buffer[i].deferred);buffer=[]}}}])}(),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=config.json?JSON.stringify(value):value+"",document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?void 0:{},i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}}),function(t,e){function n(e){t.extend(!0,ye,e)}function r(n,r,c){function u(t){G?(T(),C(),N(),w(t)):f()}function f(){K=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),G=t("<div class='fc-content' style='position:relative'/>").prependTo(n),$=new a(Z,r),Q=$.render(),Q&&n.prepend(Q),y(r.defaultView),t(window).resize(E),m()||v()}function v(){setTimeout(function(){!te.start&&m()&&w()},0)}function h(){t(window).unbind("resize",E),$.destroy(),G.remove(),n.removeClass("fc fc-rtl ui-widget")}function p(){return 0!==se.offsetWidth}function m(){return 0!==t("body")[0].offsetWidth}function y(e){if(!te||e!=te.name){ue++,W();var n,r=te;r?((r.beforeHide||O)(),L(G,G.height()),r.element.hide()):L(G,1),G.css("overflow","hidden"),te=le[e],te?te.element.show():te=le[e]=new we[e](n=re=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(G),Z),r&&$.deactivateButton(r.name),$.activateButton(e),w(),G.css("overflow",""),r&&L(G,1),n||(te.afterShow||O)(),ue--}}function w(t){if(p()){ue++,W(),ne===e&&T();var r=!1;!te.start||t||te.start>fe||fe>=te.end?(te.render(fe,t||0),S(!0),r=!0):te.sizeDirty?(te.clearEvents(),S(),r=!0):te.eventsDirty&&(te.clearEvents(),r=!0),te.sizeDirty=!1,te.eventsDirty=!1,x(r),ee=n.outerWidth(),$.updateTitle(te.title);var a=new Date;a>=te.start&&te.end>a?$.disableButton("today"):$.enableButton("today"),ue--,te.trigger("viewDisplay",se)}}function M(){C(),p()&&(T(),S(),W(),te.clearEvents(),te.renderEvents(de),te.sizeDirty=!1)}function C(){t.each(le,function(t,e){e.sizeDirty=!0})}function T(){ne=r.contentHeight?r.contentHeight:r.height?r.height-(Q?Q.height():0)-R(G):Math.round(G.width()/Math.max(r.aspectRatio,.5))}function S(t){ue++,te.setHeight(ne,t),re&&(re.css("position","relative"),re=null),te.setWidth(G.width(),t),ue--}function E(){if(!ue)if(te.start){var t=++ce;setTimeout(function(){t==ce&&!ue&&p()&&ee!=(ee=n.outerWidth())&&(ue++,M(),te.trigger("windowResize",se),ue--)},200)}else v()}function x(t){!r.lazyFetching||oe(te.visStart,te.visEnd)?k():t&&F()}function k(){ie(te.visStart,te.visEnd)}function H(t){de=t,F()}function z(t){F(t)}function F(t){N(),p()&&(te.clearEvents(),te.renderEvents(de,t),te.eventsDirty=!1)}function N(){t.each(le,function(t,e){e.eventsDirty=!0})}function A(t,n,r){te.select(t,n,r===e?!0:r)}function W(){te&&te.unselect()}function _(){w(-1)}function q(){w(1)}function I(){i(fe,-1),w()}function B(){i(fe,1),w()}function P(){fe=new Date,w()}function j(t,e,n){t instanceof Date?fe=d(t):g(fe,t,e,n),w()}function Y(t,n,r){t!==e&&i(fe,t),n!==e&&s(fe,n),r!==e&&l(fe,r),w()}function J(){return d(fe)}function V(){return te}function X(t,n){return n===e?r[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(r[t]=n,M()),e)}function U(t,n){return r[t]?r[t].apply(n||se,Array.prototype.slice.call(arguments,2)):e}var Z=this;Z.options=r,Z.render=u,Z.destroy=h,Z.refetchEvents=k,Z.reportEvents=H,Z.reportEventChange=z,Z.rerenderEvents=F,Z.changeView=y,Z.select=A,Z.unselect=W,Z.prev=_,Z.next=q,Z.prevYear=I,Z.nextYear=B,Z.today=P,Z.gotoDate=j,Z.incrementDate=Y,Z.formatDate=function(t,e){return D(t,e,r)},Z.formatDates=function(t,e,n){return b(t,e,n,r)},Z.getDate=J,Z.getView=V,Z.option=X,Z.trigger=U,o.call(Z,r,c);var $,Q,G,K,te,ee,ne,re,ae,oe=Z.isFetchNeeded,ie=Z.fetchEvents,se=n[0],le={},ce=0,ue=0,fe=new Date,de=[];g(fe,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,o=t(a);if(!o.parents(".fc").length){var i=r.dropAccept;(t.isFunction(i)?i.call(a,o):o.is(i))&&(ae=a,te.dragStart(ae,e,n))}}).bind("dragstop",function(t,e){ae&&(te.dragStop(ae,t,e),ae=null)})}function a(n,r){function a(){v=r.theme?"ui":"fc";var n=r.header;return n?h=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(i("left")).append(i("center")).append(i("right"))):e}function o(){h.remove()}function i(e){var a=t("<td class='fc-header-"+e+"'/>"),o=r.header[e];return o&&t.each(o.split(" "),function(e){e>0&&a.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(e,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(v+"-corner-right"),o=null;else{var s;if(n[i]?s=n[i]:we[i]&&(s=function(){u.removeClass(v+"-state-hover"),n.changeView(i)}),s){var l=r.theme?B(r.buttonIcons,i):null,c=B(r.buttonText,i),u=t("<span class='fc-button fc-button-"+i+" "+v+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){u.hasClass(v+"-state-disabled")||s()}).mousedown(function(){u.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){u.removeClass(v+"-state-down")}).hover(function(){u.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){u.removeClass(v+"-state-hover").removeClass(v+"-state-down")}).appendTo(a);j(u),o||u.addClass(v+"-corner-left"),o=u}}}),o&&o.addClass(v+"-corner-right")}),a}function s(t){h.find("h2").html(t)}function l(t){h.find("span.fc-button-"+t).addClass(v+"-state-active")}function c(t){h.find("span.fc-button-"+t).removeClass(v+"-state-active")}function u(t){h.find("span.fc-button-"+t).addClass(v+"-state-disabled")}function f(t){h.find("span.fc-button-"+t).removeClass(v+"-state-disabled")}var d=this;d.render=a,d.destroy=o,d.updateTitle=s,d.activateButton=l,d.deactivateButton=c,d.disableButton=u,d.enableButton=f;var v,h=t([])}function o(n,r){function a(t,e){return!T||T>t||e>S}function o(t,e){T=t,S=e,A=[];var n=++F,r=z.length;R=r;for(var a=0;r>a;a++)i(z[a],n)}function i(e,r){s(e,function(a){if(r==F){if(a){n.eventDataTransform&&(a=t.map(a,n.eventDataTransform)),e.eventDataTransform&&(a=t.map(a,e.eventDataTransform));for(var o=0;a.length>o;o++)a[o].source=e,D(a[o]);A=A.concat(a)}R--,R||k(A)}})}function s(r,a){var o,i,l=be.sourceFetchers;for(o=0;l.length>o;o++){if(i=l[o](r,T,S,a),i===!0)return;if("object"==typeof i)return s(i,a),e}var c=r.events;if(c)t.isFunction(c)?(m(),c(d(T),d(S),function(t){a(t),y()})):t.isArray(c)?a(c):a();else{var u=r.url;if(u){var f=r.success,v=r.error,h=r.complete,g=t.extend({},r.data||{}),p=X(r.startParam,n.startParam),D=X(r.endParam,n.endParam);p&&(g[p]=Math.round(+T/1e3)),D&&(g[D]=Math.round(+S/1e3)),m(),t.ajax(t.extend({},Me,r,{data:g,success:function(e){e=e||[];var n=V(f,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){V(v,this,arguments),a()},complete:function(){V(h,this,arguments),y()}}))}else a()}}function l(t){t=c(t),t&&(R++,i(t,F))}function c(n){return t.isFunction(n)||t.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(b(n),z.push(n),n):e}function u(e){z=t.grep(z,function(t){return!w(t,e)}),A=t.grep(A,function(t){return!w(t.source,e)}),k(A)}function f(t){var e,n,r=A.length,a=x().defaultEventEnd,o=t.start-t._start,i=t.end?t.end-(t._end||a(t)):0;for(e=0;r>e;e++)n=A[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+o),n.end=t.end?n.end?new Date(+n.end+i):new Date(+a(n)+i):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroundColor=t.backgroundColor,n.borderColor=t.borderColor,n.textColor=t.textColor,D(n));D(t),k(A)}function v(t,e){D(t),t.source||(e&&(H.events.push(t),t.source=H),A.push(t)),k(A)}function h(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}A=t.grep(A,e,!0);for(var r=0;z.length>r;r++)t.isArray(z[r].events)&&(z[r].events=t.grep(z[r].events,e,!0))}else{A=[];for(var r=0;z.length>r;r++)t.isArray(z[r].events)&&(z[r].events=[])}k(A)}function g(e){return t.isFunction(e)?t.grep(A,e):e?(e+="",t.grep(A,function(t){return t._id==e})):A}function m(){N++||E("loading",null,!0)}function y(){--N||E("loading",null,!1)}function D(t){var r=t.source||{},a=X(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+Ce++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=d(t.start=p(t.start,a)),t.end=p(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?d(t.end):null,t.allDay===e&&(t.allDay=X(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function b(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=be.sourceNormalizers,n=0;e.length>n;n++)e[n](t)}function w(t,e){return t&&e&&M(t)==M(e)}function M(t){return("object"==typeof t?t.events||t.url:"")||t}var C=this;C.isFetchNeeded=a,C.fetchEvents=o,C.addEventSource=l,C.removeEventSource=u,C.updateEvent=f,C.renderEvent=v,C.removeEvents=h,C.clientEvents=g,C.normalizeEvent=D;for(var T,S,E=C.trigger,x=C.getView,k=C.reportEvents,H={events:[]},z=[H],F=0,R=0,N=0,A=[],W=0;r.length>W;W++)c(r[W])}function i(t,e,n){return t.setFullYear(t.getFullYear()+e),n||f(t),t}function s(t,e,n){if(+t){var r=t.getMonth()+e,a=d(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||f(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(a>t?1:-1))}return t}function l(t,e,n){if(+t){var r=t.getDate()+e,a=d(t);a.setHours(9),a.setDate(r),t.setDate(r),n||f(t),c(t,a)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*Ee)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function f(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function d(t,e){return e?f(new Date(+t)):new Date(+t)}function v(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function h(t,e){return Math.round((d(t,!0)-d(e,!0))/Se)}function g(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function p(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),m(t,n)||(t?new Date(t):null)):null}function m(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),c(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),c(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,r=new Date(+r+6e4*o)}return r}function y(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function D(t,e,n){return b(t,null,e,n)}function b(t,e,n,r){r=r||ye;var a,o,i,s,l=t,c=e,u=n.length,f="";for(a=0;u>a;a++)if(o=n.charAt(a),"'"==o){for(i=a+1;u>i;i++)if("'"==n.charAt(i)){l&&(f+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;u>i;i++)if(")"==n.charAt(i)){var d=D(l,n.substring(a+1,i),r);parseInt(d.replace(/\D/,""),10)&&(f+=d),a=i;break}}else if("["==o){for(i=a+1;u>i;i++)if("]"==n.charAt(i)){var v=n.substring(a+1,i),d=D(l,v,r);d!=D(c,v,r)&&(f+=d),a=i;break}}else if("{"==o)l=e,c=t;else if("}"==o)l=t,c=e;else{for(i=u;i>a;i--)if(s=ke[n.substring(a,i)]){l&&(f+=s(l,r)),a=i-1;break}i==a&&l&&(f+=o)}return f}function w(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function M(t){return t.end?C(t.end,t.allDay):l(d(t.start),1)}function C(t,e){return t=d(t),e||t.getHours()||t.getMinutes()?l(t,1):f(t)}function T(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var o,i,s,l=n.target;l!=this;)o=l,l=l.parentNode;(i=o._fci)!==e&&(o._fci=e,s=r[i],a(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function S(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.width(Math.max(0,n-x(a,r)))}function E(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.height(Math.max(0,n-R(a,r)))}function x(t,e){return k(t)+F(t)+(e?H(t):0)}function k(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function H(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function F(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function R(t,e){return N(t)+W(t)+(e?A(t):0)}function N(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function A(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function W(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function L(t,e){e="number"==typeof e?e+"px":e,t.each(function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e})}function O(){}function _(t,e){return t-e}function q(t){return Math.max.apply(Math,t)}function I(t){return(10>t?"0":"")+t}function B(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if(r=t[a[o].toLowerCase()],r!==e)return r;return t[""]}function P(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function j(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Y(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function J(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function V(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;e.length>a;a++)o=e[a].apply(n,r)||o;return o}}function X(){for(var t=0;arguments.length>t;t++)if(arguments[t]!==e)return arguments[t]}function U(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n=a("firstDay"),f=d(t,!0);f.setDate(1);var v=s(d(f),1),g=d(f);l(g,-((g.getDay()-n+7)%7)),i(g);var p=d(v);l(p,(7-p.getDay()+n)%7),i(p,-1,!0);var m=c(),y=Math.round(h(p,g)/7);"fixed"==a("weekMode")&&(l(p,7*(6-y)),y=6),r.title=u(f,a("titleFormat")),r.start=f,r.end=v,r.visStart=g,r.visEnd=p,o(y,m,!0)}var r=this;r.render=n,Q.call(r,t,e,"month");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,c=r.getCellsPerWeek,u=e.formatDate}function Z(t,e){function n(t,e){e&&l(t,7*e);var n=l(d(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(d(n),7),f=d(n);i(f);var v=d(u);i(v,-1,!0);var h=s();r.start=n,r.end=u,r.visStart=f,r.visEnd=v,r.title=c(f,l(d(v),-1),a("titleFormat")),o(1,h,!1)}var r=this;r.render=n,Q.call(r,t,e,"basicWeek");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=e.formatDates}function $(t,e){function n(t,e){e&&l(t,e),i(t,0>e?-1:1);var n=d(t,!0),c=l(d(n),1);r.title=s(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1,1,!1)}var r=this;r.render=n,Q.call(r,t,e,"basicDay");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=e.formatDate}function Q(e,n,r){function a(t,e,n){ae=t,oe=e,ie=n,o();var r=!V;r?i():Se(),s()}function o(){pe=Me("theme")?"ui":"fc",ye=Me("columnFormat"),De=Me("weekNumbers"),be=Me("weekNumberTitle"),we="iso"!=Me("weekNumberCalculation")?"w":"W"}function i(){K=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(){var n=c();O(),I&&I.remove(),I=t(n).appendTo(e),B=I.find("thead"),J=B.find(".fc-day-header"),V=I.find("tbody"),X=V.find("tr"),U=V.find(".fc-day"),Z=X.find("td:first-child"),$=X.eq(0).find(".fc-day > div"),Q=X.eq(0).find(".fc-day-content > div"),Y(B.add(B.find("tr"))),Y(X),X.eq(0).addClass("fc-first"),X.filter(":last").addClass("fc-last"),U.each(function(e,n){var r=He(Math.floor(e/oe),e%oe);
Ce("dayRender",q,r,t(n))}),y(U)}function c(){var t="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+v()+"</table>";return t}function u(){var t,e,n=pe+"-widget-header",r="";for(r+="<thead><tr>",De&&(r+="<th class='fc-week-number "+n+"'>"+P(be)+"</th>"),t=0;oe>t;t++)e=He(0,t),r+="<th class='fc-day-header fc-"+Te[e.getDay()]+" "+n+"'>"+P(Re(e,ye))+"</th>";return r+="</tr></thead>"}function v(){var t,e,n,r=pe+"-widget-content",a="";for(a+="<tbody>",t=0;ae>t;t++){for(a+="<tr class='fc-week'>",De&&(n=He(t,0),a+="<td class='fc-week-number "+r+"'>"+"<div>"+P(Re(n,we))+"</div>"+"</td>"),e=0;oe>e;e++)n=He(t,e),a+=h(n);a+="</tr>"}return a+="</tbody>"}function h(t){var e=pe+"-widget-content",n=q.start.getMonth(),r=f(new Date),a="",o=["fc-day","fc-"+Te[t.getDay()],e];return t.getMonth()!=n&&o.push("fc-other-month"),+t==+r&&o.push("fc-today",pe+"-state-highlight"),a+="<td class='"+o.join(" ")+"'"+" data-date='"+Re(t,"yyyy-MM-dd")+"'"+">"+"<div>",ie&&(a+="<div class='fc-day-number'>"+t.getDate()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){ee=e;var n,r,a,o=ee-B.height();"variable"==Me("weekMode")?n=r=Math.floor(o/(1==ae?2:6)):(n=Math.floor(o/ae),r=o-n*(ae-1)),Z.each(function(e,o){ae>e&&(a=t(o),L(a.find("> div"),(e==ae-1?r:n)-R(a)))}),_()}function p(t){te=t,ue.clear(),fe.clear(),re=0,De&&(re=B.find("th.fc-week-number").outerWidth()),ne=Math.floor((te-re)/oe),S(J.slice(0,-1),ne)}function y(t){t.click(D).mousedown(ke)}function D(e){if(!Me("selectable")){var n=m(t(this).data("date"));Ce("dayClick",this,n,!0,e)}}function b(t,e,n){n&&se.build();for(var r=Fe(t,e),a=0;r.length>a;a++){var o=r[a];y(w(o.row,o.leftCol,o.row,o.rightCol))}}function w(t,n,r,a){var o=se.rect(t,n,r,a,e);return Ee(o,e)}function M(t){return d(t)}function C(t,e){b(t,l(d(e),1),!0)}function T(){xe()}function E(t,e,n){var r=ze(t),a=U[r.row*oe+r.col];Ce("dayClick",a,t,e,n)}function x(t,e){ce.start(function(t){xe(),t&&w(t.row,t.col,t.row,t.col)},e)}function k(t,e,n){var r=ce.stop();if(xe(),r){var a=He(r);Ce("drop",t,a,!0,e,n)}}function H(t){return d(t.start)}function z(t){return ue.left(t)}function F(t){return ue.right(t)}function N(t){return fe.left(t)}function A(t){return fe.right(t)}function W(t){return X.eq(t)}function O(){L(e,e.height())}function _(){L(e,1)}var q=this;q.renderBasic=a,q.setHeight=g,q.setWidth=p,q.renderDayOverlay=b,q.defaultSelectionEnd=M,q.renderSelection=C,q.clearSelection=T,q.reportDayClick=E,q.dragStart=x,q.dragStop=k,q.defaultEventEnd=H,q.getHoverListener=function(){return ce},q.colLeft=z,q.colRight=F,q.colContentLeft=N,q.colContentRight=A,q.getIsCellAllDay=function(){return!0},q.allDayRow=W,q.getRowCnt=function(){return ae},q.getColCnt=function(){return oe},q.getColWidth=function(){return ne},q.getDaySegmentContainer=function(){return K},le.call(q,e,n,r),ve.call(q),de.call(q),G.call(q);var I,B,J,V,X,U,Z,$,Q,K,te,ee,ne,re,ae,oe,ie,se,ce,ue,fe,pe,ye,De,be,we,Me=q.opt,Ce=q.trigger,Se=q.clearEvents,Ee=q.renderOverlay,xe=q.clearOverlays,ke=q.daySelectionMousedown,He=q.cellToDate,ze=q.dateToCell,Fe=q.rangeToSegments,Re=n.formatDate;j(e.addClass("fc-grid")),se=new he(function(e,n){var r,a,o;J.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),X.each(function(n,i){ae>n&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),ce=new ge(se),ue=new me(function(t){return $.eq(t)}),fe=new me(function(t){return Q.eq(t)})}function G(){function t(t,e){n.reportEvents(t),n.renderDayEvents(t,e),n.trigger("eventAfterAllRender")}function e(){n.reportEventClear(),n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,ce.call(n)}function K(t,e){function n(t,e){e&&l(t,7*e);var n=l(d(t),-((t.getDay()-a("firstDay")+7)%7)),u=l(d(n),7),f=d(n);i(f);var v=d(u);i(v,-1,!0);var h=s();r.title=c(f,l(d(v),-1),a("titleFormat")),r.start=n,r.end=u,r.visStart=f,r.visEnd=v,o(h)}var r=this;r.render=n,re.call(r,t,e,"agendaWeek");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=e.formatDates}function te(t,e){function n(t,e){e&&l(t,e),i(t,0>e?-1:1);var n=d(t,!0),c=l(d(n),1);r.title=s(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1)}var r=this;r.render=n,re.call(r,t,e,"agendaDay");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=e.formatDate}function ee(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n,l,c,u;n=d(t,!0),n.setDate(1),l=s(d(n),1),c=d(n),u=d(l),r.title=i(n,a("titleFormat")),r.start=n,r.end=l,r.visStart=c,r.visEnd=u,o(!1)}var r=this;r.render=n,ne.call(r,t,e);var a=r.opt,o=r.renderAgendaList,i=e.formatDate}function ne(e,n){function r(){var t=!h;t?a():c()}function a(){h=!0}function o(t){m=t}function i(t){p=t}function s(n){var r,a,o,i,s,c,h,g=t("<table class='table'></table>"),p=0,m=v(u.visStart,"MM"),y=[];for(p in n)z=p,eMonth=v(n[p].start,"MM"),eMonth==m&&(r=v(n[p].start,"MMM"),a=v(n[p].start,"dddd"),i=v(n[p].start,"MMM d"),lDDay=v(n[p].start,"dddd, MMM d"),c=n[p].title,allDay=n[p].allDay,o=v(n[p].start,"h(:mm)tt"),s=n[p].url,null!=s&&(c="<a href='"+P(s)+"'>"+c+"</a>"),p!=h&&(l(y,lDDay)||(t("<tr><th>"+lDDay+"</th></tr>").appendTo(g),h=z,y.push(lDDay))),eventdisplay=0==p%2?allDay?t("<tr><td>"+c+"</a><span style='float:right'>"+f("allDayText")+"</span></td></tr>").appendTo(g):t("<tr><td>"+c+"</a><span style='float:right'>"+o+"</span></td></tr>").appendTo(g):allDay?t("<tr><td>"+c+"</a><span style='float:right'>"+f("allDayText")+"</span></td></tr>").appendTo(g):t("<tr><td>"+c+"</a><span style='float:right'>"+o+"</span></td></tr>").appendTo(g),D(n[p],eventdisplay));t(e).html(g),d("eventAfterAllRender")}function l(t,e){for(var n=0;t.length>n;n++)if(t[n]==e)return!0;return!1}function c(){b()}var u=this;u.renderAgendaList=r,u.setHeight=o,u.setWidth=i,u.renderEvents=s,u.clearEvents=c,u.cellIsAllDay=function(){return!0},u.getColWidth=function(){return y},u.getDaySegmentContainer=function(){return g},le.call(u,e,n,"agendaList"),ve.call(u),de.call(u);var f=u.opt,d=u.trigger;u.renderOverlay,u.clearOverlays,u.daySelectionMousedown;var v=n.formatDate;u.calendar.updateEvents;var h,g,p,m,y,D=u.eventElementHandlers,b=u.reportEventClear;u.getDaySegmentContainer}function re(n,r,a){function o(t){Le=t,i(),te?(c(),Ke()):s()}function i(){je=Qe("theme")?"ui":"fc",Ye=Qe("isRTL"),Je=y(Qe("minTime")),Ve=y(Qe("maxTime")),Xe=Qe("columnFormat"),Ue=Qe("weekNumbers"),Ze=Qe("weekNumberTitle"),$e="iso"!=Qe("weekNumberCalculation")?"w":"W",Ne=Qe("snapMinutes")||Qe("slotMinutes")}function s(){var e,r,a,o,i,s=je+"-widget-header",l=je+"-widget-content",f=0==Qe("slotMinutes")%15;for(c(),fe=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Qe("allDaySlot")?(pe=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(fe),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+Qe("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ye=t(e).appendTo(fe),De=ye.find("tr"),C(De.find("td")),fe.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):pe=t([]),be=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(fe),we=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(be),Me=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(we),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=v(),o=u(d(r),Ve),u(r,Je),Oe=0,a=0;o>r;a++)i=r.getMinutes(),e+="<tr class='fc-slot"+a+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(f&&i?"&nbsp;":un(r,Qe("axisFormat")))+"</th>"+"<td class='"+l+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",u(r,Qe("slotMinutes")),Oe++;e+="</tbody></table>",Ce=t(e).appendTo(we),Se=Ce.find("div:first"),T(Ce.find("td"))}function c(){var e=h();te&&te.remove(),te=t(e).appendTo(n),ee=te.find("thead"),ne=ee.find("th").slice(1,-1),re=te.find("tbody"),oe=re.find("td").slice(0,-1),ie=oe.find("> div"),se=oe.find(".fc-day-content > div"),ce=oe.eq(0),ue=ie.eq(0),Y(ee.add(ee.find("tr"))),Y(re.add(re.find("tr")))}function h(){var t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+p()+"</table>";return t}function g(){var t,e,n,r=je+"-widget-header",a="";for(a+="<thead><tr>",Ue?(e=un(t,$e),Ye?e+=Ze:e=Ze+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+P(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Le>n;n++)t=sn(0,n),a+="<th class='fc-"+Te[t.getDay()]+" fc-col"+n+" "+r+"'>"+P(un(t,Xe))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function p(){var t,e,n,r,a,o=je+"-widget-header",i=je+"-widget-content",s=f(new Date),l="";for(l+="<tbody><tr><th class='fc-agenda-axis "+o+"'>&nbsp;</th>",n="",e=0;Le>e;e++)t=sn(0,e),a=["fc-col"+e,"fc-"+Te[t.getDay()],i],+t==+s&&a.push(je+"-state-highlight","fc-today"),r="<td class='"+a.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=r;return l+=n,l+="<td class='fc-agenda-gutter "+i+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function m(t,n){t===e&&(t=ke),ke=t,fn={};var r=re.position().top,a=be.position().top,o=Math.min(t-r,Ce.height()+a+1);ue.height(o-R(ce)),fe.css("top",r),be.height(o-a-1),Re=Se.height()+1,Ae=Qe("slotMinutes")/Ne,We=Re/Ae,n&&b()}function D(e){xe=e,Ie.clear(),Be.clear();var n=ee.find("th:first");ye&&(n=n.add(ye.find("th:first"))),n=n.add(Ce.find("th:first")),He=0,S(n.width("").each(function(e,n){He=Math.max(He,t(n).outerWidth())}),He);var r=te.find(".fc-agenda-gutter");ye&&(r=r.add(ye.find("th.fc-agenda-gutter")));var a=be[0].clientWidth;Fe=be.width()-a,Fe?(S(r,Fe),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),ze=Math.floor((a-He)/Le),S(ne.slice(0,-1),ze)}function b(){function t(){be.scrollTop(r)}var e=v(),n=d(e);n.setHours(Qe("firstHour"));var r=q(e,n)+1;t(),setTimeout(t,0)}function w(){Pe=be.scrollTop()}function M(){be.scrollTop(Pe)}function C(t){t.click(x).mousedown(an)}function T(t){t.click(x).mousedown(Z)}function x(t){if(!Qe("selectable")){var e=Math.min(Le-1,Math.floor((t.pageX-te.offset().left-He)/ze)),n=sn(0,e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*Qe("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Je),Ge("dayClick",oe[e],n,!1,t)}else Ge("dayClick",oe[e],n,!0,t)}}function k(t,e,n){n&&_e.build();for(var r=cn(t,e),a=0;r.length>a;a++){var o=r[a];C(H(o.row,o.leftCol,o.row,o.rightCol))}}function H(t,e,n,r){var a=_e.rect(t,e,n,r,fe);return tn(a,fe)}function z(t,e){for(var n=0;Le>n;n++){var r=sn(0,n),a=l(d(r),1),o=new Date(Math.max(r,t)),i=new Date(Math.min(a,e));if(i>o){var s=_e.rect(0,n,0,n,we),c=q(r,o),u=q(r,i);s.top=c,s.height=u-c,T(tn(s,we))}}}function F(t){return Ie.left(t)}function N(t){return Be.left(t)}function A(t){return Ie.right(t)}function W(t){return Be.right(t)}function L(t){return Qe("allDaySlot")&&!t.row}function O(t){var e=sn(0,t.col),n=t.row;return Qe("allDaySlot")&&n--,n>=0&&u(e,Je+n*Ne),e}function q(t,n){if(t=d(t,!0),u(d(t),Je)>n)return 0;if(n>=u(d(t),Ve))return Ce.height();var r=Qe("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Je,o=Math.floor(a/r),i=fn[o];return i===e&&(i=fn[o]=Ce.find("tr:eq("+o+") td div")[0].offsetTop),Math.max(0,Math.round(i-1+Re*(a%r/r)))}function I(){return De}function B(t){var e=d(t.start);return t.allDay?e:u(e,Qe("defaultEventMinutes"))}function J(t,e){return e?d(t):u(d(t),Qe("slotMinutes"))}function V(t,e,n){n?Qe("allDaySlot")&&k(t,l(d(e),1),!0):X(t,e)}function X(e,n){var r=Qe("selectHelper");if(_e.build(),r){var a=ln(e).col;if(a>=0&&Le>a){var o=_e.rect(0,a,0,a,we),i=q(e,e),s=q(e,n);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,t.isFunction(r)){var l=r(e,n);l&&(o.position="absolute",o.zIndex=8,Ee=t(l).css(o).appendTo(we))}else o.isStart=!0,o.isEnd=!0,Ee=t(on({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o)),Ee.css("opacity",Qe("dragOpacity"));Ee&&(T(Ee),we.append(Ee),S(Ee,o.width,!0),E(Ee,o.height,!0))}}}else z(e,n)}function U(){en(),Ee&&(Ee.remove(),Ee=null)}function Z(e){if(1==e.which&&Qe("selectable")){rn(e);var n;qe.start(function(t,e){if(U(),t&&t.col==e.col&&!L(t)){var r=O(e),a=O(t);n=[r,u(d(r),Ne),a,u(d(a),Ne)].sort(_),X(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){qe.stop(),n&&(+n[0]==+n[1]&&$(n[0],!1,t),nn(n[0],n[3],!1,t))})}}function $(t,e,n){Ge("dayClick",oe[ln(t).col],t,e,n)}function Q(t,e){qe.start(function(t){if(en(),t)if(L(t))H(t.row,t.col,t.row,t.col);else{var e=O(t),n=u(d(e),Qe("defaultEventMinutes"));z(e,n)}},e)}function G(t,e,n){var r=qe.stop();en(),r&&Ge("drop",t,O(r),L(r),e,n)}var K=this;K.renderAgenda=o,K.setWidth=D,K.setHeight=m,K.beforeHide=w,K.afterShow=M,K.defaultEventEnd=B,K.timePosition=q,K.getIsCellAllDay=L,K.allDayRow=I,K.getHoverListener=function(){return qe},K.colLeft=F,K.colRight=A,K.colContentLeft=N,K.colContentRight=W,K.getDaySegmentContainer=function(){return pe},K.getSlotSegmentContainer=function(){return Me},K.getMinMinute=function(){return Je},K.getMaxMinute=function(){return Ve},K.getSlotContainer=function(){return we},K.getRowCnt=function(){return 1},K.getColCnt=function(){return Le},K.getColWidth=function(){return ze},K.getSnapHeight=function(){return We},K.getSnapMinutes=function(){return Ne},K.defaultSelectionEnd=J,K.renderDayOverlay=k,K.renderSelection=V,K.clearSelection=U,K.reportDayClick=$,K.dragStart=Q,K.dragStop=G,le.call(K,n,r,a),ve.call(K),de.call(K),ae.call(K);var te,ee,ne,re,oe,ie,se,ce,ue,fe,pe,ye,De,be,we,Me,Ce,Se,Ee,xe,ke,He,ze,Fe,Re,Ne,Ae,We,Le,Oe,_e,qe,Ie,Be,Pe,je,Ye,Je,Ve,Xe,Ue,Ze,$e,Qe=K.opt,Ge=K.trigger,Ke=K.clearEvents,tn=K.renderOverlay,en=K.clearOverlays,nn=K.reportSelection,rn=K.unselect,an=K.daySelectionMousedown,on=K.slotSegHtml,sn=K.cellToDate,ln=K.dateToCell,cn=K.rangeToSegments,un=r.formatDate,fn={};j(n.addClass("fc-agenda")),_e=new he(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,o,i;ne.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),Qe("allDaySlot")&&(a=De,o=a.offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=we.offset().top,l=be.offset().top,c=l+be.outerHeight(),u=0;Oe*Ae>u;u++)e.push([r(s+We*u),r(s+We*(u+1))])}),qe=new ge(_e),Ie=new me(function(t){return ie.eq(t)}),Be=new me(function(t){return se.eq(t)})}function ae(){function n(t,e){S(t);var n,r=t.length,o=[],i=[];for(n=0;r>n;n++)t[n].allDay?o.push(t[n]):i.push(t[n]);y("allDaySlot")&&(ne(o,e),z()),s(a(i),e),D("eventAfterAllRender")}function r(){k(),F().empty(),N().empty()}function a(e){var n,r,a,s,l,c,f,v=j(),h=L(),g=W(),p=t.map(e,i),m=[];for(r=0;v>r;r++)for(n=I(0,r),u(n,h),a=oe(o(e,p,n,u(d(n),g-h))),ie(a),s=0;a.length>s;s++)for(l=a[s],c=0;l.length>c;c++)f=l[c],f.col=r,f.level=s,m.push(f);return m}function o(t,e,n,r){var a,o,i,s,l,c,u,f,v=[],h=t.length;for(a=0;h>a;a++)o=t[a],i=o.start,s=e[a],s>n&&r>i&&(n>i?(l=d(n),u=!1):(l=i,u=!0),s>r?(c=d(r),f=!1):(c=s,f=!0),v.push({event:o,start:l,end:c,isStart:u,isEnd:f,msLength:c-l}));return v.sort(B)}function i(t){return t.end?d(t.end):u(d(t.start),y("defaultEventMinutes"))}function s(n,r){var a,o,i,s,l,u,d,v,h,g,p,m,b,w,M,C,S,E,k,H=n.length,z="",F=N();for(k=(E=y("isRTL"))?-1:1,a=0;H>a;a++)o=n[a],i=o.event,s=O(o.start,o.start),l=O(o.start,o.end),u=o.col,d=o.level,v=o.forward||0,h=_(u),g=q(u)-h,g=Math.min(g-6,.95*g),p=d?g/(d+v+1):v?2*(g/(v+1)-6):g,m=h+g/(d+v+1)*d*k+(E?g-p:0),o.top=s,o.left=m,o.outerWidth=p,o.outerHeight=l-s,z+=c(i,o);for(F[0].innerHTML=z,b=F.children(),a=0;H>a;a++)o=n[a],i=o.event,w=t(b[a]),M=D("eventRender",i,i,w),M===!1?w.remove():(M&&M!==!0&&(w.remove(),w=t(M).css({position:"absolute",top:o.top,left:o.left}).appendTo(F)),o.element=w,i._id===r?f(i,w,o):w[0]._fci=a,Z(i,w));for(T(F,n,f),a=0;H>a;a++)o=n[a],(w=o.element)&&(o.vsides=R(w,!0),o.hsides=x(w,!0),C=w.find(".fc-event-title"),C.length&&(o.contentTop=C[0].offsetTop));for(a=0;H>a;a++)o=n[a],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",S=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=S+"px",i=o.event,o.contentTop!==e&&10>S-o.contentTop&&(w.find("div.fc-event-time").text(ae(i.start,y("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),D("eventAfterRender",i,i,w))}function c(t,e){var n="<",r=t.url,a=J(t,y),o=["fc-event","fc-event-vert"];return b(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=r?"a href='"+P(t.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+P(se(t.start,t.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+P(t.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",e.isEnd&&w(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function f(t,e,n){var r=e.find("div.fc-event-time");b(t)&&g(t,e,r),n.isEnd&&w(t)&&p(t,e,r),H(t,e)}function v(t,e,n){function r(){c||(e.width(a).height("").draggable("option","grid",null),c=!0)}var a,o,i,s=n.isStart,c=!0,u=A(),f=Y(),v=V(),g=X(),p=L();e.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,p){D("eventDragStart",e,t,n,p),Q(t,e),a=e.width(),u.start(function(n,a){if(ee(),n){o=!1;var u=I(0,a.col),p=I(0,n.col);i=h(p,u),n.row?s?c&&(e.width(f-10),E(e,v*Math.round((t.end?(t.end-t.start)/xe:y("defaultEventMinutes"))/g)),e.draggable("option","grid",[f,1]),c=!1):o=!0:(te(l(d(t.start),i),l(M(t),i)),r()),o=o||c&&!i}else r(),o=!0;e.draggable("option","revert",o)},n,"drag")},stop:function(n,a){if(u.stop(),ee(),D("eventDragStop",e,t,n,a),o)r(),e.css("filter",""),$(t,e);else{var s=0;c||(s=Math.round((e.offset().top-U().offset().top)/v)*g+p-(60*t.start.getHours()+t.start.getMinutes())),G(this,t,i,s,c,n,a)}}})}function g(t,e,n){function r(e){var r,a=u(d(t.start),e);t.end&&(r=u(d(t.end),e)),n.text(se(a,r,y("timeFormat")))}function a(){f&&(n.css("display",""),e.draggable("option","grid",[p,m]),f=!1)}var o,i,s,c,f=!1,v=A(),g=j(),p=Y(),m=V(),b=X();e.draggable({zIndex:9,scroll:!1,grid:[p,m],axis:1==g?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(r,u){D("eventDragStart",e,t,r,u),Q(t,e),o=e.position(),s=c=0,v.start(function(r,o){if(e.draggable("option","revert",!r),ee(),r){var s=I(0,o.col),c=I(0,r.col);i=h(c,s),y("allDaySlot")&&!r.row?(f||(f=!0,n.hide(),e.draggable("option","grid",null)),te(l(d(t.start),i),l(M(t),i))):a()}},r,"drag")},drag:function(t,e){s=Math.round((e.position.top-o.top)/m)*b,s!=c&&(f||r(s),c=s)},stop:function(n,l){var c=v.stop();ee(),D("eventDragStop",e,t,n,l),c&&(i||s||f)?G(this,t,i,f?0:s,f,n,l):(a(),e.css("filter",""),e.css(o),r(0),$(t,e))}})}function p(t,e,n){var r,a,o=V(),i=X();e.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(n,o){r=a=0,Q(t,e),e.css("z-index",9),D("eventResizeStart",this,t,n,o)},resize:function(s,l){r=Math.round((Math.max(o,e.height())-l.originalSize.height)/o),r!=a&&(n.text(se(t.start,r||t.end?u(C(t),i*r):null,y("timeFormat"))),a=r)},stop:function(n,a){D("eventResizeStop",this,t,n,a),r?K(this,t,0,i*r,n,a):(e.css("z-index",8),$(t,e))}})}var m=this;m.renderEvents=n,m.clearEvents=r,m.slotSegHtml=c,ce.call(m);var y=m.opt,D=m.trigger,b=m.isEventDraggable,w=m.isEventResizable,C=m.eventEnd,S=m.reportEvents,k=m.reportEventClear,H=m.eventElementHandlers,z=m.setHeight,F=m.getDaySegmentContainer,N=m.getSlotSegmentContainer,A=m.getHoverListener,W=m.getMaxMinute,L=m.getMinMinute,O=m.timePosition,_=m.colContentLeft,q=m.colContentRight,I=m.cellToDate,B=m.segmentCompare,j=m.getColCnt,Y=m.getColWidth,V=m.getSnapHeight,X=m.getSnapMinutes,U=m.getSlotContainer,Z=m.reportEventElement,$=m.showEvents,Q=m.hideEvents,G=m.eventDrop,K=m.eventResize,te=m.renderDayOverlay,ee=m.clearOverlays,ne=m.renderDayEvents,re=m.calendar,ae=re.formatDate,se=re.formatDates;m.draggableDayEvent=v}function oe(t){var e,n,r,a,o,i=[],s=t.length;for(e=0;s>e;e++){for(n=t[e],r=0;;){if(a=!1,i[r])for(o=0;i[r].length>o;o++)if(se(i[r][o],n)){a=!0;break}if(!a)break;r++}i[r]?i[r].push(n):i[r]=[n]}return i}function ie(t){var e,n,r,a,o,i;for(e=t.length-1;e>0;e--)for(a=t[e],n=0;a.length>n;n++)for(o=a[n],r=0;t[e-1].length>r;r++)i=t[e-1][r],se(o,i)&&(i.forward=Math.max(i.forward||0,(o.forward||0)+1))}function se(t,e){return t.end>e.start&&t.start<e.end}function le(n,r,a){function o(e,n){var r=Z[e];return t.isPlainObject(r)?B(r,n||a):r}function i(t,e){return r.trigger.apply(r,[t,e||I].concat(Array.prototype.slice.call(arguments,2),[I]))}function s(t){return f(t)&&!o("disableDragging")}function c(t){return f(t)&&!o("disableResizing")}function f(t){return X(t.editable,(t.source||{}).editable,o("editable"))}function v(t){J={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],J[n._id]?J[n._id].push(n):J[n._id]=[n]}function g(t){return t.end?d(t.end):P(t)}function p(t,e){V.push(e),U[t._id]?U[t._id].push(e):U[t._id]=[e]}function m(){V=[],U={}}function y(t,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?e:i("eventClick",this,t,r)}).hover(function(e){i("eventMouseover",this,t,e)},function(e){i("eventMouseout",this,t,e)})}function D(t,e){w(t,e,"show")}function b(t,e){w(t,e,"hide")}function w(t,e,n){var r,a=U[t._id],o=a.length;for(r=0;o>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function M(t,e,n,r,a,o,s){var l=e.allDay,c=e._id;T(J[c],n,r,a),i("eventDrop",t,e,n,r,a,function(){T(J[c],-n,-r,l),Y(c)},o,s),Y(c)}function C(t,e,n,r,a,o){var s=e._id;S(J[s],n,r),i("eventResize",t,e,n,r,function(){S(J[s],-n,-r),Y(s)},a,o),Y(s)}function T(t,n,r,a){r=r||0;for(var o,i=t.length,s=0;i>s;s++)o=t[s],a!==e&&(o.allDay=a),u(l(o.start,n,!0),r),o.end&&(o.end=u(l(o.end,n,!0),r)),j(o,Z)}function S(t,e,n){n=n||0;for(var r,a=t.length,o=0;a>o;o++)r=t[o],r.end=u(l(g(r),e,!0),n),j(r,Z)}function E(t){return"object"==typeof t&&(t=t.getDay()),G[t]}function x(){return $}function k(t,e,n){for(e=e||1;G[(t.getDay()+(n?e:0)+7)%7];)l(t,e)}function H(){var t=z.apply(null,arguments),e=F(t),n=R(e);return n}function z(t,e){var n=I.getColCnt(),r=ee?-1:1,a=ee?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var o=t*n+(e*r+a);return o}function F(t){var e=I.visStart.getDay();return t+=K[e],7*Math.floor(t/$)+te[(t%$+$)%$]-e}function R(t){var e=d(I.visStart);return l(e,t),e}function N(t){var e=A(t),n=W(e),r=L(n);return r}function A(t){return h(t,I.visStart)}function W(t){var e=I.visStart.getDay();return t+=e,Math.floor(t/7)*$+K[(t%7+7)%7]-K[e]}function L(t){var e=I.getColCnt(),n=ee?-1:1,r=ee?e-1:0,a=Math.floor(t/e),o=(t%e+e)%e*n+r;return{row:a,col:o}}function O(t,e){for(var n=I.getRowCnt(),r=I.getColCnt(),a=[],o=A(t),i=A(e),s=W(o),l=W(i)-1,c=0;n>c;c++){var u=c*r,f=u+r-1,d=Math.max(s,u),v=Math.min(l,f);if(v>=d){var h=L(d),g=L(v),p=[h.col,g.col].sort(),m=F(d)==o,y=F(v)+1==i;a.push({row:c,leftCol:p[0],rightCol:p[1],isStart:m,isEnd:y})}}return a}function _(t,e){return q(t,e)||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function q(t,e){return"msLength"in t?e.msLength-t.msLength:e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay}var I=this;I.element=n,I.calendar=r,I.name=a,I.opt=o,I.trigger=i,I.isEventDraggable=s,I.isEventResizable=c,I.reportEvents=v,I.eventEnd=g,I.reportEventElement=p,I.reportEventClear=m,I.eventElementHandlers=y,I.showEvents=D,I.hideEvents=b,I.eventDrop=M,I.eventResize=C;var P=I.defaultEventEnd,j=r.normalizeEvent,Y=r.reportEventChange,J={},V=[],U={},Z=r.options;I.isHiddenDay=E,I.skipHiddenDays=k,I.getCellsPerWeek=x,I.dateToCell=N,I.dateToDayOffset=A,I.dayOffsetToCellOffset=W,I.cellOffsetToCell=L,I.cellToDate=H,I.cellToCellOffset=z,I.cellOffsetToDayOffset=F,I.dayOffsetToDate=R,I.rangeToSegments=O,I.segmentCompare=_;var $,Q=o("hiddenDays")||[],G=[],K=[],te=[],ee=o("isRTL");(function(){o("weekends")===!1&&Q.push(0,6);for(var e=0,n=0;7>e;e++)K[e]=n,G[e]=-1!=t.inArray(e,Q),G[e]||(te[n]=e,n++);if($=n,!$)throw"invalid hiddenDays"})()}function ce(){function e(t,e){var n=r(t,!1,!0);fe(n,function(t,e){R(t.event,e)}),D(n,e),fe(n,function(t,e){k("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var a=r([t],!0,!1),o=[];return fe(a,function(t,r){t.row===e&&r.css("top",n),o.push(r[0])}),o}function r(e,n,r){var o,l,c=Z(),d=n?t("<div/>"):c,v=a(e);return i(v),o=s(v),d[0].innerHTML=o,l=d.children(),n&&c.append(l),u(v,l),fe(v,function(t,e){t.hsides=x(e,!0)}),fe(v,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),fe(v,function(t,e){t.outerHeight=e.outerHeight(!0)}),f(v,r),v}function a(t){for(var e=[],n=0;t.length>n;n++){var r=o(t[n]);e.push.apply(e,r)}return e}function o(t){for(var e=t.start,n=M(t),r=ee(e,n),a=0;r.length>a;a++)r[a].event=t;return r}function i(t){for(var e=E("isRTL"),n=0;t.length>n;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?X:Y,o=(e?r.isStart:r.isEnd)?U:V,i=a(r.leftCol),s=o(r.rightCol);r.left=i,r.outerWidth=s-i}}function s(t){for(var e="",n=0;t.length>n;n++)e+=c(t[n]);return e}function c(t){var e="",n=E("isRTL"),r=t.event,a=r.url,o=["fc-event","fc-event-hori"];H(r)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=J(r,E);return e+=a?"<a href='"+P(a)+"'":"<div",e+=" class='"+o.join(" ")+"'"+" style="+"'"+"position:absolute;"+"z-index:8;"+"left:"+t.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+P($(r.start,r.end,E("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+P(r.title)+"</span>"+"</div>",t.isEnd&&z(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),e+="</"+(a?"a":"div")+">"}function u(e,n){for(var r=0;e.length>r;r++){var a=e[r],o=a.event,i=n.eq(r),s=k("eventRender",o,o,i);s===!1?i.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",zIndex:8,left:a.left}),i.replaceWith(s),i=s),a.element=i)}}function f(t,e){var n=v(t),r=y(),a=[];if(e)for(var o=0;r.length>o;o++)r[o].height(n[o]);for(var o=0;r.length>o;o++)a.push(r[o].position().top);fe(t,function(t,e){e.css("top",a[t.row]+t.top)})}function v(t){for(var e=_(),n=I(),r=[],a=g(t),o=0;e>o;o++){for(var i=a[o],s=[],l=0;n>l;l++)s.push(0);for(var c=0;i.length>c;c++){var u=i[c];u.top=q(s.slice(u.leftCol,u.rightCol+1));for(var l=u.leftCol;u.rightCol>=l;l++)s[l]=u.top+u.outerHeight}r.push(q(s))}return r}function g(t){var e,n,r,a=_(),o=[];for(e=0;t.length>e;e++)n=t[e],r=n.row,n.element&&(o[r]?o[r].push(n):o[r]=[n]);for(r=0;a>r;r++)o[r]=p(o[r]||[]);return o}function p(t){for(var e=[],n=m(t),r=0;n.length>r;r++)e.push.apply(e,n[r]);return e}function m(t){t.sort(ne);for(var e=[],n=0;t.length>n;n++){for(var r=t[n],a=0;e.length>a&&ue(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}function y(){var t,e=_(),n=[];for(t=0;e>t;t++)n[t]=B(t).find("div.fc-day-content > div");return n}function D(t,e){var n=Z();fe(t,function(t,n,r){var a=t.event;a._id===e?b(a,n,t):n[0]._fci=r}),T(n,t,b)}function b(t,e,n){H(t)&&S.draggableDayEvent(t,e,n),n.isEnd&&z(t)&&S.resizableDayEvent(t,e,n),N(t,e)}function w(t,e){var n,r=te();e.draggable({zIndex:9,delay:50,opacity:E("dragOpacity"),revertDuration:E("dragRevertDuration"),start:function(a,o){k("eventDragStart",e,t,a,o),W(t,e),r.start(function(r,a,o,i){if(e.draggable("option","revert",!r||!o&&!i),G(),r){var s=re(a),c=re(r);n=h(c,s),Q(l(d(t.start),n),l(M(t),n))}else n=0},a,"drag")},stop:function(a,o){r.stop(),G(),k("eventDragStop",e,t,a,o),n?L(this,t,n,0,t.allDay,a,o):(e.css("filter",""),A(t,e))}})}function C(e,r,a){var o=E("isRTL"),i=o?"w":"e",s=r.find(".ui-resizable-"+i),c=!1;j(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(o){function s(n){k("eventResizeStop",this,e,n),t("body").css("cursor",""),u.stop(),G(),f&&O(this,e,f,0,n),setTimeout(function(){c=!1},0)}if(1==o.which){c=!0;var u=te();_(),I();var f,d,v=r.css("top"),h=t.extend({},e),g=se(ie(e.start));K(),t("body").css("cursor",i+"-resize").one("mouseup",s),k("eventResizeStart",this,e,o),u.start(function(r,o){if(r){var s=ae(o),c=ae(r);if(c=Math.max(c,g),f=oe(c)-oe(s)){h.end=l(F(e),f,!0);var u=d;d=n(h,a.row,v),d=t(d),d.find("*").css("cursor",i+"-resize"),u&&u.remove(),W(e)}else d&&(A(e),d.remove(),d=null);G(),Q(e.start,l(M(e),f))}},o)}})}var S=this;S.renderDayEvents=e,S.draggableDayEvent=w,S.resizableDayEvent=C;var E=S.opt,k=S.trigger,H=S.isEventDraggable,z=S.isEventResizable,F=S.eventEnd,R=S.reportEventElement,N=S.eventElementHandlers,A=S.showEvents,W=S.hideEvents,L=S.eventDrop,O=S.eventResize,_=S.getRowCnt,I=S.getColCnt;S.getColWidth;var B=S.allDayRow,Y=S.colLeft,V=S.colRight,X=S.colContentLeft,U=S.colContentRight;S.dateToCell;var Z=S.getDaySegmentContainer,$=S.calendar.formatDates,Q=S.renderDayOverlay,G=S.clearOverlays,K=S.clearSelection,te=S.getHoverListener,ee=S.rangeToSegments,ne=S.segmentCompare,re=S.cellToDate,ae=S.cellToCellOffset,oe=S.cellOffsetToDayOffset,ie=S.dateToDayOffset,se=S.dayOffsetToCellOffset}function ue(t,e){for(var n=0;e.length>n;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function fe(t,e){for(var n=0;t.length>n;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function de(){function e(t,e,a){n(),e||(e=l(t,a)),c(t,e,a),r(t,e,a)}function n(t){f&&(f=!1,u(),s("unselect",null,t))}function r(t,e,n,r){f=!0,s("select",null,t,e,n,r)}function a(e){var a=o.cellToDate,s=o.getIsCellAllDay,l=o.getHoverListener(),f=o.reportDayClick;if(1==e.which&&i("selectable")){n(e);var d;l.start(function(t,e){u(),t&&s(t)?(d=[a(e),a(t)].sort(_),c(d[0],d[1],!0)):d=null},e),t(document).one("mouseup",function(t){l.stop(),d&&(+d[0]==+d[1]&&f(d[0],!0,t),r(d[0],d[1],!0,t))})}}var o=this;o.select=e,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.opt,s=o.trigger,l=o.defaultSelectionEnd,c=o.renderSelection,u=o.clearSelection,f=!1;i("selectable")&&i("unselectAuto")&&t(document).mousedown(function(e){var r=i("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function ve(){function e(e,n){var r=o.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)o.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],o=[]}function he(t){var e,n,r=this;r.build=function(){e=[],n=[],t(e,n)},r.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,l=-1;for(a=0;o>a;a++)if(r>=e[a][0]&&e[a][1]>r){s=a;break}for(a=0;i>a;a++)if(t>=n[a][0]&&n[a][1]>t){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},r.rect=function(t,r,a,o,i){var s=i.offset();return{top:e[t][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function ge(e){function n(t){pe(t);var n=e.cell(t.pageX,t.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,l,c){a=s,o=i=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},s.stop=function(){return t(document).unbind(r,n),i}}function pe(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function me(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},o={},i={};r.left=function(t){return o[t]=o[t]===e?n(t).position().left:o[t]},r.right=function(t){return i[t]=i[t]===e?r.left(t)+n(t).width():i[t]},r.clear=function(){a={},o={},i={}}}var ye={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},De={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},be=t.fullCalendar={version:"1.6.2"},we=be.views={};
t.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var i=r[n].apply(r,o);a===e&&(a=i),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}var i=n.eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=t.extend(!0,{},ye,n.isRTL||n.isRTL===e&&ye.isRTL?De:{},n),this.each(function(e,a){var o=t(a),s=new r(o,n,i);o.data("fullCalendar",s),s.render()}),this},be.sourceNormalizers=[],be.sourceFetchers=[];var Me={dataType:"json",cache:!1},Ce=1;be.addDays=l,be.cloneDate=d,be.parseDate=p,be.parseISO8601=m,be.parseTime=y,be.formatDate=D,be.formatDates=b;var Te=["sun","mon","tue","wed","thu","fri","sat"],Se=864e5,Ee=36e5,xe=6e4,ke={s:function(t){return t.getSeconds()},ss:function(t){return I(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return I(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return I(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return I(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return I(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return I(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return 12>t.getHours()?"a":"p"},tt:function(t){return 12>t.getHours()?"am":"pm"},T:function(t){return 12>t.getHours()?"A":"P"},TT:function(t){return 12>t.getHours()?"AM":"PM"},u:function(t){return D(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return w(t)}};be.dateFormatters=ke,be.applyAll=V,we.month=U,we.basicWeek=Z,we.basicDay=$,n({weekMode:"fixed"}),we.agendaWeek=K,we.agendaDay=te,we.agendaList=ee,ye.buttonText.agendaList="Agenda",ye.titleFormat.agendaList="MMMM yyyy",ye.agendaDisType=!0,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),function($){function transformOptions(sourceOptions,start,end){var success=sourceOptions.success,data=$.extend({},sourceOptions.data||{},{"start-min":formatDate(start,"u"),"start-max":formatDate(end,"u"),singleevents:!0,"max-results":9999}),ctz=sourceOptions.currentTimezone;return ctz&&(data.ctz=ctz=ctz.replace(" ","_")),$.extend({},sourceOptions,{url:sourceOptions.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:data,startParam:!1,endParam:!1,success:function(data){var events=[];data.feed.entry&&$.each(data.feed.entry,function(i,entry){var url,startStr=entry.gd$when[0].startTime,start=parseISO8601(startStr,!0),end=parseISO8601(entry.gd$when[0].endTime,!0),allDay=-1==startStr.indexOf("T");$.each(entry.link,function(i,link){"text/html"==link.type&&(url=link.href,ctz&&(url+=(-1==url.indexOf("?")?"?":"&")+"ctz="+ctz))}),allDay&&addDays(end,-1),events.push({id:entry.gCal$uid.value,title:entry.title.$t,url:url,start:start,end:end,allDay:allDay,location:entry.gd$where[0].valueString,description:entry.content.$t})});var args=[events].concat(Array.prototype.slice.call(arguments,1)),res=applyAll(success,this,args);return $.isArray(res)?res:events}})}var fc=$.fullCalendar,formatDate=fc.formatDate,parseISO8601=fc.parseISO8601,addDays=fc.addDays,applyAll=fc.applyAll;fc.sourceNormalizers.push(function(sourceOptions){("gcal"==sourceOptions.dataType||void 0===sourceOptions.dataType&&(sourceOptions.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(sourceOptions.dataType="gcal",void 0===sourceOptions.editable&&(sourceOptions.editable=!1))}),fc.sourceFetchers.push(function(sourceOptions,start,end){return"gcal"==sourceOptions.dataType?transformOptions(sourceOptions,start,end):void 0}),fc.gcalFeed=function(url,sourceOptions){return $.extend({},sourceOptions,{url:url,dataType:"gcal"})}}(jQuery),!jQuery)throw Error("Bootstrap requires jQuery");+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]}}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()})}(window.jQuery),+function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){function removeElement(){$parent.trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("alert")?$this:$this.parent()),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(window.jQuery),+function($){"use strict";var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options)};Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",data.resetText||$el.data("resetText",$el[val]()),$el[val](data[state]||this.options[state]),setTimeout(function(){"loadingText"==state?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)},Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===$input.prop("type")&&$parent.find(".active").removeClass("active")}this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})},$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),$btn.button("toggle"),e.preventDefault()})}(window.jQuery),+function($){"use strict";var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover"},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getActiveIndex();return pos>this.$items.length-1||0>pos?void 0:this.sliding?this.$element.one("slid",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition.end&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){return this.sliding?void 0:this.slide("next")},Carousel.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction="next"==type?"left":"right",fallback="next"==type?"first":"last",that=this;this.sliding=!0,isCycling&&this.pause(),$next=$next.length?$next:this.$element.find(".item")[fallback]();var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});if(!$next.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})),$.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(e),e.isDefaultPrevented())return;$next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(e),e.isDefaultPrevented())return;$active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})},$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this},$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),$target.carousel(options),(slideIndex=$this.attr("data-slide-to"))&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(window.jQuery),+function($){"use strict";var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var actives=this.$parent&&this.$parent.find("> .accordion-group > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("in")[dimension]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return $.support.transition?(this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350),void 0):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})},$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);data&&data.transitioning||($parent&&$parent.find("[data-toggle=collapse][data-parent="+parent+"]").not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")),$target.collapse(option)})}(window.jQuery),+function($){"use strict";function clearMenus(){$(backdrop).remove(),$(toggle).each(function(e){var $parent=getParent($(this));$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown")),e.isDefaultPrevented()||$parent.removeClass("open").trigger("hidden.bs.dropdown"))})}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var backdrop=".dropdown-backdrop",toggle="[data-toggle=dropdown]",Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){if("ontouchstart"in document.documentElement&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus),$parent.trigger(e=$.Event("show.bs.dropdown")),e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown")}return $this.focus(),!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&27==e.keyCode)return 27==e.which&&$parent.find(toggle).focus(),$this.click();var $items=$("[role=menu] li:not(.divider):visible a",$parent);if($items.length){var index=$items.index($items.filter(":focus"));38==e.keyCode&&index>0&&index--,40==e.keyCode&&$items.length-1>index&&index++,~index||(index=0),$items.eq(index).focus()}}}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("dropdown");data||$this.data("dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(window.jQuery),+function($){"use strict";var Modal=function(element,options){this.options=options,this.$element=$(element).on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(){return this[this.isShown?"hide":"show"]()},Modal.prototype.show=function(){var that=this,e=$.Event("show.bs.modal");this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(document.body),that.$element.show(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus(),transition?that.$element.one($.support.transition.end,function(){that.$element.focus().trigger("shown.bs.modal")}).emulateTransitionEnd(300):that.$element.focus().trigger("shown.bs.modal")}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.removeBackdrop(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body),this.$element.on("click",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()):callback&&callback()};var old=$.fn.modal;$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option]():options.show&&data.show()})},$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault(),$target.modal(option).one("hide",function(){$this.is(":visible")&&$this.focus()})}),$(function(){var $body=$(document.body).on("shown.bs.modal",".modal",function(){$body.addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$body.removeClass("modal-open")})})}(window.jQuery),+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focus",eventOut="hover"==trigger?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.enter=function(obj){var defaults=this.getDefaults(),options={};this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)});var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](options).data("bs."+this.type);return clearTimeout(self.timeout),self.options.delay&&self.options.delay.show?(self.hoverState="in",self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show),void 0):self.show()},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this._options).data("bs."+this.type);return clearTimeout(self.timeout),self.options.delay&&self.options.delay.hide?(self.hoverState="out",self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide),void 0):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var $tip=this.tip();this.setContent(),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent(),orgPlacement=placement,docScroll=document.documentElement.scrollTop||document.body.scrollTop,parentWidth="body"==this.options.container?window.innerWidth:$parent.outerWidth(),parentHeight="body"==this.options.container?window.innerHeight:$parent.outerHeight(),parentLeft="body"==this.options.container?0:$parent.offset().left;placement="bottom"==placement&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":"top"==placement&&0>pos.top-docScroll-actualHeight?"bottom":"right"==placement&&pos.right+actualWidth>parentWidth?"left":"left"==placement&&parentLeft>pos.left-actualWidth?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalcuatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement),this.$element.trigger("shown.bs."+this.type)}},Tooltip.prototype.applyPlacement=function(offset,placement){var replace,$tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$tip.offset(offset).addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if("top"==placement&&actualHeight!=height&&(replace=!0,offset.top=offset.top+height-actualHeight),/bottom|top/.test(placement)){var delta=0;0>offset.left&&(delta=-2*offset.left,offset.left=0,$tip.offset(offset),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight),this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else this.replaceArrow(actualHeight-height,actualHeight,"top");replace&&$tip.offset(offset)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){$tip.detach()}var $tip=this.tip(),e=$.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:($tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete(),this.$element.trigger("hidden.bs."+this.type),this)},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},Tooltip.prototype.getCalcuatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this._options).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(window.jQuery),+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content")[this.options.html?"html":"text"](content),$tip.removeClass("fade top bottom left right in"),""===$tip.find(".popover-title").html()&&$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]()})},$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(window.jQuery),+function($){"use strict";function ScrollSpy(element,options){var href,process=$.proxy(this.process,this);this.$element=$(element).is("body")?$(window):$(element),this.$body=$("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",process),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||(href=$(element).attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=$([]),this.targets=$([]),this.activeTarget=null,this.refresh(),this.process()}ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.refresh=function(){var offsetMethod=this.$element[0]==window?"offset":"position";this.offsets=$([]),this.targets=$([]);var self=this;this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#\w/.test(href)&&$(href);return $href&&$href.length&&[[$href[offsetMethod]().top+(!$.isWindow(self.$scrollElement.get(0))&&self.$scrollElement.scrollTop()),href]]||null
}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(scrollTop>=maxScroll)return activeTarget!=(i=targets.last()[0])&&this.activate(i);for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||offsets[i+1]>=scrollTop)&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,$(this.selector).parents(".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate")};var old=$.fn.scrollspy;$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})},$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);$spy.scrollspy($spy.data())})})}(window.jQuery),+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.attr("data-target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});if($this.trigger(e),!e.isDefaultPrevented()){var $target=$(selector);this.activate($this.parent("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})},$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),$(this).tab("show")})}(window.jQuery),+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$window=$(window).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=null,this.checkPosition()};Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var scrollHeight=$(document).height(),scrollTop=this.$window.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom;"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top()),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom());var affix=null!=this.unpin&&scrollTop+this.unpin<=position.top?!1:null!=offsetBottom&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":null!=offsetTop&&offsetTop>=scrollTop?"top":!1;this.affixed!==affix&&(this.unpin&&this.$element.css("top",""),this.affixed=affix,this.unpin="bottom"==affix?position.top-scrollTop:null,this.$element.removeClass(Affix.RESET).addClass("affix"+(affix?"-"+affix:"")),"bottom"==affix&&this.$element.offset({top:document.body.offsetHeight-offsetBottom-this.$element.height()}))}};var old=$.fn.affix;$.fn.affix=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})},$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},data.offsetBottom&&(data.offset.bottom=data.offsetBottom),data.offsetTop&&(data.offset.top=data.offsetTop),$spy.affix(data)})})}(window.jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.position","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/dialog/message.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/pane.html","template/tabs/tabs.html","template/typeahead/typeahead.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){var fixUpHeight=function(scope,element,height){element.removeClass("collapse"),element.css({height:height}),element[0].offsetWidth,element.addClass("collapse")};return{link:function(scope,element,attrs){var isCollapsed,initialAnimSkip=!0;scope.$watch(function(){return element[0].scrollHeight},function(){0!==element[0].scrollHeight&&(isCollapsed||(initialAnimSkip?fixUpHeight(scope,element,element[0].scrollHeight+"px"):fixUpHeight(scope,element,"auto")))}),scope.$watch(attrs.collapse,function(value){value?collapse():expand()});var currentTransition,doTransition=function(change){return currentTransition&&currentTransition.cancel(),currentTransition=$transition(element,change),currentTransition.then(function(){currentTransition=void 0},function(){currentTransition=void 0}),currentTransition},expand=function(){initialAnimSkip?(initialAnimSkip=!1,isCollapsed||fixUpHeight(scope,element,"auto")):doTransition({height:element[0].scrollHeight+"px"}).then(function(){isCollapsed||fixUpHeight(scope,element,"auto")}),isCollapsed=!1},collapse=function(){isCollapsed=!0,initialAnimSkip?(initialAnimSkip=!1,fixUpHeight(scope,element,0)):(fixUpHeight(scope,element,element[0].scrollHeight+"px"),doTransition({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(this.groups.indexOf(group),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function($parse){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(element){this.heading=element}}],link:function(scope,element,attrs,accordionCtrl){var getIsOpen,setIsOpen;accordionCtrl.addGroup(scope),scope.isOpen=!1,attrs.isOpen&&(getIsOpen=$parse(attrs.isOpen),setIsOpen=getIsOpen.assign,scope.$watch(function(){return getIsOpen(scope.$parent)},function(value){scope.isOpen=value}),scope.isOpen=getIsOpen?getIsOpen(scope.$parent):!1),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope),setIsOpen&&setIsOpen(scope.$parent,value)})}}}]).directive("accordionHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(element,attr,transclude){return function(scope,element,attr,accordionGroupCtrl){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(scope,iElement,iAttrs){scope.closeable="close"in iAttrs}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(buttonConfig){var activeClass=buttonConfig.activeClass||"active",toggleEvent=buttonConfig.toggleEvent||"click";return{require:"ngModel",link:function(scope,element,attrs,ngModelCtrl){var value=scope.$eval(attrs.btnRadio);scope.$watch(function(){return ngModelCtrl.$modelValue},function(modelValue){angular.equals(modelValue,value)?element.addClass(activeClass):element.removeClass(activeClass)}),element.bind(toggleEvent,function(){element.hasClass(activeClass)||scope.$apply(function(){ngModelCtrl.$setViewValue(value)})})}}}]).directive("btnCheckbox",["buttonConfig",function(buttonConfig){var activeClass=buttonConfig.activeClass||"active",toggleEvent=buttonConfig.toggleEvent||"click";return{require:"ngModel",link:function(scope,element,attrs,ngModelCtrl){var trueValue=scope.$eval(attrs.btnCheckboxTrue),falseValue=scope.$eval(attrs.btnCheckboxFalse);trueValue=angular.isDefined(trueValue)?trueValue:!0,falseValue=angular.isDefined(falseValue)?falseValue:!1,scope.$watch(function(){return ngModelCtrl.$modelValue},function(modelValue){angular.equals(modelValue,trueValue)?element.addClass(activeClass):element.removeClass(activeClass)}),element.bind(toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(activeClass)?falseValue:trueValue)})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function($scope,$timeout,$transition){function restartTimer(){function go(){isPlaying?($scope.next(),restartTimer()):$scope.pause()}currentTimeout&&$timeout.cancel(currentTimeout);var interval=+$scope.interval;!isNaN(interval)&&interval>=0&&(currentTimeout=$timeout(go,interval))}var currentTimeout,isPlaying,self=this,slides=self.slides=[],currentIndex=-1;self.currentSlide=null,self.select=function(nextSlide,direction){function goNext(){self.currentSlide&&angular.isString(direction)&&!$scope.noTransition&&nextSlide.$element?(nextSlide.$element.addClass(direction),nextSlide.$element[0].offsetWidth=nextSlide.$element[0].offsetWidth,angular.forEach(slides,function(slide){angular.extend(slide,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(nextSlide,{direction:direction,active:!0,entering:!0}),angular.extend(self.currentSlide||{},{direction:direction,leaving:!0}),$scope.$currentTransition=$transition(nextSlide.$element,{}),function(next,current){$scope.$currentTransition.then(function(){transitionDone(next,current)},function(){transitionDone(next,current)})}(nextSlide,self.currentSlide)):transitionDone(nextSlide,self.currentSlide),self.currentSlide=nextSlide,currentIndex=nextIndex,restartTimer()}function transitionDone(next,current){angular.extend(next,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(current||{},{direction:"",active:!1,leaving:!1,entering:!1}),$scope.$currentTransition=null}var nextIndex=slides.indexOf(nextSlide);void 0===direction&&(direction=nextIndex>currentIndex?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&($scope.$currentTransition?($scope.$currentTransition.cancel(),$timeout(goNext)):goNext())},self.indexOfSlide=function(slide){return slides.indexOf(slide)},$scope.next=function(){var newIndex=(currentIndex+1)%slides.length;return self.select(slides[newIndex],"next")},$scope.prev=function(){var newIndex=0>currentIndex-1?slides.length-1:currentIndex-1;return self.select(slides[newIndex],"prev")},$scope.select=function(slide){self.select(slide)},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.slides=function(){return slides},$scope.$watch("interval",restartTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){isPlaying=!1,currentTimeout&&$timeout.cancel(currentTimeout)},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active&&(index>=slides.length?self.select(slides[index-1]):self.select(slides[index]))}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"="}}}]).directive("slide",[function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"="},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function($scope,dialog,model){$scope.title=model.title,$scope.message=model.message,$scope.buttons=model.buttons,$scope.close=function(res){dialog.close(res)}}]),dialogModule.provider("$dialog",function(){var defaults={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},globalOptions={},activeBackdrops={value:0};this.options=function(value){globalOptions=value},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function($http,$document,$compile,$rootScope,$controller,$templateCache,$q,$transition,$injector){function createElement(clazz){var el=angular.element("<div>");return el.addClass(clazz),el}function Dialog(opts){var self=this,options=this.options=angular.extend({},defaults,globalOptions,opts);this._open=!1,this.backdropEl=createElement(options.backdropClass),options.backdropFade&&(this.backdropEl.addClass(options.transitionClass),this.backdropEl.removeClass(options.triggerClass)),this.modalEl=createElement(options.dialogClass),options.dialogFade&&(this.modalEl.addClass(options.transitionClass),this.modalEl.removeClass(options.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(self.close(),e.preventDefault(),self.$scope.$apply())},this.handleBackDropClick=function(e){self.close(),e.preventDefault(),self.$scope.$apply()},this.handleLocationChange=function(){self.close()}}var body=$document.find("body");return Dialog.prototype.isOpen=function(){return this._open},Dialog.prototype.open=function(templateUrl,controller){var self=this,options=this.options;if(templateUrl&&(options.templateUrl=templateUrl),controller&&(options.controller=controller),!options.template&&!options.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(locals){var $scope=locals.$scope=self.$scope=locals.$scope?locals.$scope:$rootScope.$new();if(self.modalEl.html(locals.$template),self.options.controller){var ctrl=$controller(self.options.controller,locals);self.modalEl.children().data("ngControllerController",ctrl)}$compile(self.modalEl)($scope),self._addElementsToDom(),body.addClass(self.options.dialogOpenClass),setTimeout(function(){self.options.dialogFade&&self.modalEl.addClass(self.options.triggerClass),self.options.backdropFade&&self.backdropEl.addClass(self.options.triggerClass)}),self._bindEvents()}),this.deferred=$q.defer(),this.deferred.promise},Dialog.prototype.close=function(result){function removeTriggerClass(el){el.removeClass(self.options.triggerClass)}function onCloseComplete(){self._open&&self._onCloseComplete(result)}var self=this,fadingElements=this._getFadingElements();if(body.removeClass(self.options.dialogOpenClass),fadingElements.length>0)for(var i=fadingElements.length-1;i>=0;i--)$transition(fadingElements[i],removeTriggerClass).then(onCloseComplete);else this._onCloseComplete(result)},Dialog.prototype._getFadingElements=function(){var elements=[];return this.options.dialogFade&&elements.push(this.modalEl),this.options.backdropFade&&elements.push(this.backdropEl),elements},Dialog.prototype._bindEvents=function(){this.options.keyboard&&body.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick),this.$scope.$on("$locationChangeSuccess",this.handleLocationChange)},Dialog.prototype._unbindEvents=function(){this.options.keyboard&&body.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},Dialog.prototype._onCloseComplete=function(result){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(result)},Dialog.prototype._addElementsToDom=function(){body.append(this.modalEl),this.options.backdrop&&(0===activeBackdrops.value&&body.append(this.backdropEl),activeBackdrops.value++),this._open=!0},Dialog.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(activeBackdrops.value--,0===activeBackdrops.value&&this.backdropEl.remove()),this._open=!1},Dialog.prototype._loadResolves=function(){var templatePromise,values=[],keys=[],self=this;return this.options.template?templatePromise=$q.when(this.options.template):this.options.templateUrl&&(templatePromise=$http.get(this.options.templateUrl,{cache:$templateCache}).then(function(response){return response.data})),angular.forEach(this.options.resolve||[],function(value,key){keys.push(key),values.push(angular.isString(value)?$injector.get(value):$injector.invoke(value))}),keys.push("$template"),values.push(templatePromise),$q.all(values).then(function(values){var locals={};return angular.forEach(values,function(value,index){locals[keys[index]]=value}),locals.dialog=self,locals})},{dialog:function(opts){return new Dialog(opts)},messageBox:function(title,message,buttons){return new Dialog({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:title,message:message,buttons:buttons}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location","$window",function($document){var openElement=null,closeMenu=angular.noop;return{restrict:"CA",link:function(scope,element){scope.$watch("$location.path",function(){closeMenu()}),element.parent().bind("click",function(){closeMenu()}),element.bind("click",function(event){event.preventDefault(),event.stopPropagation();var elementWasOpen=element===openElement;openElement&&closeMenu(),elementWasOpen||(element.parent().addClass("open"),openElement=element,closeMenu=function(event){event&&(event.preventDefault(),event.stopPropagation()),$document.unbind("click",closeMenu),element.parent().removeClass("open"),closeMenu=angular.noop,openElement=null},$document.bind("click",closeMenu))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function($parse,$dialog){return{restrict:"EA",terminal:!0,link:function(scope,elm,attrs){var setClosed,opts=angular.extend({},scope.$eval(attrs.uiOptions||attrs.bsOptions||attrs.options)),shownExpr=attrs.modal||attrs.show;opts=angular.extend(opts,{template:elm.html(),resolve:{$scope:function(){return scope}}});var dialog=$dialog.dialog(opts);elm.remove(),setClosed=attrs.close?function(){$parse(attrs.close)(scope)}:function(){angular.isFunction($parse(shownExpr).assign)&&$parse(shownExpr).assign(scope,!1)},scope.$watch(shownExpr,function(isShown){isShown?dialog.open().then(function(){setClosed()}):dialog.isOpen()&&dialog.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last"}).directive("pagination",["paginationConfig",function(paginationConfig){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs){function makePage(number,text,isActive,isDisabled){return{number:number,text:text,active:isActive,disabled:isDisabled}}var boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,directionLinks=angular.isDefined(attrs.directionLinks)?scope.$eval(attrs.directionLinks):paginationConfig.directionLinks,firstText=angular.isDefined(attrs.firstText)?attrs.firstText:paginationConfig.firstText,previousText=angular.isDefined(attrs.previousText)?attrs.previousText:paginationConfig.previousText,nextText=angular.isDefined(attrs.nextText)?attrs.nextText:paginationConfig.nextText,lastText=angular.isDefined(attrs.lastText)?attrs.lastText:paginationConfig.lastText;scope.$watch("numPages + currentPage + maxSize",function(){scope.pages=[];var startPage=1,endPage=scope.numPages;scope.maxSize&&scope.maxSize<scope.numPages&&(startPage=Math.max(scope.currentPage-Math.floor(scope.maxSize/2),1),endPage=startPage+scope.maxSize-1,endPage>scope.numPages&&(endPage=scope.numPages,startPage=endPage-scope.maxSize+1));for(var number=startPage;endPage>=number;number++){var page=makePage(number,number,scope.isActive(number),!1);scope.pages.push(page)}if(directionLinks){var previousPage=makePage(scope.currentPage-1,previousText,!1,scope.noPrevious());scope.pages.unshift(previousPage);var nextPage=makePage(scope.currentPage+1,nextText,!1,scope.noNext());scope.pages.push(nextPage)}if(boundaryLinks){var firstPage=makePage(1,firstText,!1,scope.noPrevious());scope.pages.unshift(firstPage);var lastPage=makePage(scope.numPages,lastText,!1,scope.noNext());scope.pages.push(lastPage)}scope.currentPage>scope.numPages&&scope.selectPage(scope.numPages)}),scope.noPrevious=function(){return 1===scope.currentPage},scope.noNext=function(){return scope.currentPage===scope.numPages},scope.isActive=function(page){return scope.currentPage===page},scope.selectPage=function(page){!scope.isActive(page)&&page>0&&scope.numPages>=page&&(scope.currentPage=page,scope.onSelectPage({page:page}))}}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);return offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop,offsetParentBCR.left+=offsetParentEl.clientLeft),{width:element.prop("offsetWidth"),height:element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:element.prop("offsetWidth"),height:element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].body.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].body.scrollLeft)}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.$get=["$window","$compile","$timeout","$parse","$document","$position",function($window,$compile,$timeout,$parse,$document,$position){return function(type,prefix,defaultTriggerShow){function setTriggers(trigger){var show,hide;return show=trigger||options.trigger||defaultTriggerShow,hide=angular.isDefined(options.trigger)?triggerMap[options.trigger]||show:triggerMap[show]||show,{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),triggers=setTriggers(void 0),template="<"+directiveName+"-popup "+'title="{{tt_title}}" '+'content="{{tt_content}}" '+'placement="{{tt_placement}}" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+directiveName+"-popup>";return{restrict:"EA",scope:!0,link:function(scope,element,attrs){function toggleTooltipBind(){scope.tt_isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){scope.tt_popupDelay?popupTimeout=$timeout(show,scope.tt_popupDelay):scope.$apply(show)}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){var position,ttWidth,ttHeight,ttPosition;if(scope.tt_content){switch(transitionTimeout&&$timeout.cancel(transitionTimeout),tooltip.css({top:0,left:0,display:"block"}),options.appendToBody?($body=$body||$document.find("body"),$body.append(tooltip)):element.after(tooltip),position=$position.position(element),ttWidth=tooltip.prop("offsetWidth"),ttHeight=tooltip.prop("offsetHeight"),scope.tt_placement){case"right":ttPosition={top:position.top+position.height/2-ttHeight/2+"px",left:position.left+position.width+"px"};break;case"bottom":ttPosition={top:position.top+position.height+"px",left:position.left+position.width/2-ttWidth/2+"px"};break;case"left":ttPosition={top:position.top+position.height/2-ttHeight/2+"px",left:position.left-ttWidth+"px"};break;default:ttPosition={top:position.top-ttHeight+"px",left:position.left+position.width/2-ttWidth/2+"px"}}tooltip.css(ttPosition),scope.tt_isOpen=!0}}function hide(){scope.tt_isOpen=!1,$timeout.cancel(popupTimeout),angular.isDefined(scope.tt_animation)&&scope.tt_animation()?transitionTimeout=$timeout(function(){tooltip.remove()},500):tooltip.remove()}var transitionTimeout,popupTimeout,$body,tooltip=$compile(template)(scope);scope.tt_isOpen=!1,attrs.$observe(type,function(val){scope.tt_content=val}),attrs.$observe(prefix+"Title",function(val){scope.tt_title=val}),attrs.$observe(prefix+"Placement",function(val){scope.tt_placement=angular.isDefined(val)?val:options.placement}),attrs.$observe(prefix+"Animation",function(val){scope.tt_animation=angular.isDefined(val)?$parse(val):function(){return options.animation}}),attrs.$observe(prefix+"PopupDelay",function(val){var delay=parseInt(val,10);scope.tt_popupDelay=isNaN(delay)?options.popupDelay:delay}),attrs.$observe(prefix+"Trigger",function(val){element.unbind(triggers.show),element.unbind(triggers.hide),triggers=setTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}
}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function($compile,$timeout,$parse,$window,$tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){function getStackedType(index){return stackedTypes[index]}var animate=angular.isDefined($attrs.animate)?$scope.$eval($attrs.animate):progressConfig.animate,autoType=angular.isDefined($attrs.autoType)?$scope.$eval($attrs.autoType):progressConfig.autoType,stackedTypes=angular.isDefined($attrs.stackedTypes)?$scope.$eval("["+$attrs.stackedTypes+"]"):progressConfig.stackedTypes;this.makeBar=function(newBar,oldBar,index){var newValue=angular.isObject(newBar)?newBar.value:newBar||0,oldValue=angular.isObject(oldBar)?oldBar.value:oldBar||0,type=angular.isObject(newBar)&&angular.isDefined(newBar.type)?newBar.type:autoType?getStackedType(index||0):null;return{from:oldValue,to:newValue,type:type,animate:animate}},this.addBar=function(bar){$scope.bars.push(bar),$scope.totalPercent+=bar.to},this.clearBars=function(){$scope.bars=[],$scope.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(scope,element,attrs,controller){scope.$watch("value",function(newValue,oldValue){if(controller.clearBars(),angular.isArray(newValue))for(var i=0,n=newValue.length;n>i;i++)controller.addBar(controller.makeBar(newValue[i],oldValue[i],i));else controller.addBar(controller.makeBar(newValue,oldValue))},!0),scope.$watch("totalPercent",function(value){value>=100?scope.onFull():0>=value&&scope.onEmpty()},!0)}}}).directive("progressbar",["$transition",function($transition){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(scope,element){scope.$watch("width",function(value){scope.animate?(element.css("width",scope.old+"%"),$transition(element,{width:value+"%"})):element.css("width",value+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5}).directive("rating",["ratingConfig","$parse",function(ratingConfig,$parse){return{restrict:"EA",scope:{value:"="},templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs){var maxRange=angular.isDefined(attrs.max)?scope.$eval(attrs.max):ratingConfig.max;scope.range=[];for(var i=1;maxRange>=i;i++)scope.range.push(i);scope.rate=function(value){scope.readonly||(scope.value=value)},scope.enter=function(value){scope.readonly||(scope.val=value)},scope.reset=function(){scope.val=angular.copy(scope.value)},scope.reset(),scope.$watch("value",function(value){scope.val=value}),scope.readonly=!1,attrs.readonly&&scope.$parent.$watch($parse(attrs.readonly),function(value){scope.readonly=!!value})}}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsController",["$scope","$element",function($scope){var panes=$scope.panes=[];this.select=$scope.select=function(pane){angular.forEach(panes,function(pane){pane.selected=!1}),pane.selected=!0},this.addPane=function(pane){panes.length||$scope.select(pane),panes.push(pane)},this.removePane=function(pane){var index=panes.indexOf(pane);panes.splice(index,1),pane.selected&&panes.length>0&&$scope.select(panes[panes.length>index?index:index-1])}}]).directive("tabs",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsController",templateUrl:"template/tabs/tabs.html",replace:!0}}).directive("pane",["$parse",function($parse){return{require:"^tabs",restrict:"EA",transclude:!0,scope:{heading:"@"},link:function(scope,element,attrs,tabsCtrl){var getSelected,setSelected;scope.selected=!1,attrs.active&&(getSelected=$parse(attrs.active),setSelected=getSelected.assign,scope.$watch(function(){return getSelected(scope.$parent)},function(value){scope.selected=value}),scope.selected=getSelected?getSelected(scope.$parent):!1),scope.$watch("selected",function(selected){selected&&tabsCtrl.select(scope),setSelected&&setSelected(scope.$parent,selected)}),tabsCtrl.addPane(scope),scope.$on("$destroy",function(){tabsCtrl.removePane(scope)})},templateUrl:"template/tabs/pane.html",replace:!0}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+input+"'.");return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$document","$position","typeaheadParser",function($compile,$parse,$q,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var selected,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,parserResult=typeaheadParser.parse(attrs.typeahead),isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,popUpEl=angular.element("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query' position='position'></typeahead-popup>"),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var resetMatches=function(){scope.matches=[],scope.activeIdx=-1},getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(scope,locals)).then(function(matches){if(inputValue===modelCtrl.$viewValue){if(matches.length>0){scope.activeIdx=0,scope.matches.length=0;for(var i=0;matches.length>i;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight")}else resetMatches();isLoadingSetter(originalScope,!1)}},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0,modelCtrl.$parsers.push(function(inputValue){return resetMatches(),selected?inputValue:(inputValue&&inputValue.length>=minSearch&&getMatchesAsync(inputValue),isEditable?inputValue:void 0)}),modelCtrl.$render=function(){var locals={};locals[parserResult.itemName]=selected||modelCtrl.$viewValue,element.val(parserResult.viewMapper(scope,locals)||modelCtrl.$viewValue),selected=void 0},scope.select=function(activeIdx){var locals={};locals[parserResult.itemName]=selected=scope.matches[activeIdx].model,modelCtrl.$setViewValue(parserResult.modelMapper(scope,locals)),modelCtrl.$render()},element.bind("keydown",function(evt){0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),$document.bind("click",function(){resetMatches(),scope.$digest()}),element.after($compile(popUpEl)(scope))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(scope){scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?matchItem.replace(RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):query}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/dialog/message.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/dialog/message.html",'<div class="modal-header">\n	<h1>{{ title }}</h1>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class=btn ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="number in range" ng-mouseenter="enter(number)" ng-click="rate(number)" ng-class="{\'icon-star\': number <= val, \'icon-star-empty\': number > val}"></i>\n</span>\n')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>\n')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabs.html",'<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n      <a ng-click="select(pane)">{{pane.heading}}</a>\n    </li>\n  </ul>\n  <div class="tab-content" ng-transclude></div>\n</div>\n')}]),angular.module("template/typeahead/match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/match.html",'<a tabindex="-1" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">\n        <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n    </li>\n</ul>')}]),function($,window,document,undefined){"use strict";var Timepicker=function(element,options){this.widget="",this.$element=$(element),this.defaultTime=options.defaultTime,this.disableFocus=options.disableFocus,this.isOpen=options.isOpen,this.minuteStep=options.minuteStep,this.modalBackdrop=options.modalBackdrop,this.secondStep=options.secondStep,this.showInputs=options.showInputs,this.showMeridian=options.showMeridian,this.showSeconds=options.showSeconds,this.template=options.template,this.appendWidgetTo=options.appendWidgetTo,this._init()};Timepicker.prototype={constructor:Timepicker,_init:function(){var self=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":$.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":$.proxy(this.highlightUnit,this),"click.timepicker":$.proxy(this.highlightUnit,this),"keydown.timepicker":$.proxy(this.elementKeydown,this),"blur.timepicker":$.proxy(this.blurElement,this)})):this.template?this.$element.on({"focus.timepicker":$.proxy(this.showWidget,this),"click.timepicker":$.proxy(this.showWidget,this),"blur.timepicker":$.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":$.proxy(this.highlightUnit,this),"click.timepicker":$.proxy(this.highlightUnit,this),"keydown.timepicker":$.proxy(this.elementKeydown,this),"blur.timepicker":$.proxy(this.blurElement,this)}),this.$widget=this.template!==!1?$(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",$.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){$(this).on({"click.timepicker":function(){$(this).select()},"keydown.timepicker":$.proxy(self.widgetKeydown,self)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=undefined,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(step){var newVal;newVal=step?this.minute-step:this.minute-this.minuteStep,0>newVal?(this.decrementHour(),this.minute=newVal+60):this.minute=newVal,this.update()},decrementSecond:function(){var newVal=this.second-this.secondStep;0>newVal?(this.decrementMinute(!0),this.second=newVal+60):this.second=newVal,this.update()},elementKeydown:function(e){switch(e.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":e.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(e.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(e.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:e.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(hour,minute,second,meridian){return hour=10>hour?"0"+hour:hour,minute=10>minute?"0"+minute:minute,second=10>second?"0"+second:second,hour+":"+minute+(this.showSeconds?":"+second:"")+(this.showMeridian?" "+meridian:"")},getCursorPosition:function(){var input=this.$element.get(0);if("selectionStart"in input)return input.selectionStart;if(document.selection){input.focus();var sel=document.selection.createRange(),selLen=document.selection.createRange().text.length;return sel.moveStart("character",-input.value.length),sel.text.length-selLen}},getTemplate:function(){var template,hourTemplate,minuteTemplate,secondTemplate,meridianTemplate,templateContent;switch(this.showInputs?(hourTemplate='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',minuteTemplate='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',secondTemplate='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',meridianTemplate='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(hourTemplate='<span class="bootstrap-timepicker-hour"></span>',minuteTemplate='<span class="bootstrap-timepicker-minute"></span>',secondTemplate='<span class="bootstrap-timepicker-second"></span>',meridianTemplate='<span class="bootstrap-timepicker-meridian"></span>'),templateContent='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+minuteTemplate+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+secondTemplate+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+meridianTemplate+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>",this.template){case"modal":template='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+templateContent+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":template='<div class="bootstrap-timepicker-widget dropdown-menu">'+templateContent+"</div>"}return template},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){this.isOpen!==!1&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),$(document).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&2>=this.position?this.highlightHour():this.position>=3&&5>=this.position?this.highlightMinute():this.position>=6&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var $element=this.$element.get(0);this.highlightedUnit="hour",$element.setSelectionRange&&setTimeout(function(){$element.setSelectionRange(0,2)},0)},highlightMinute:function(){var $element=this.$element.get(0);this.highlightedUnit="minute",$element.setSelectionRange&&setTimeout(function(){$element.setSelectionRange(3,5)},0)},highlightSecond:function(){var $element=this.$element.get(0);this.highlightedUnit="second",$element.setSelectionRange&&setTimeout(function(){$element.setSelectionRange(6,8)},0)},highlightMeridian:function(){var $element=this.$element.get(0);this.highlightedUnit="meridian",$element.setSelectionRange&&(this.showSeconds?setTimeout(function(){$element.setSelectionRange(9,11)},0):setTimeout(function(){$element.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?(this.hour=0,undefined):(this.hour++,this.update(),undefined)},incrementMinute:function(step){var newVal;newVal=step?this.minute+step:this.minute+this.minuteStep-this.minute%this.minuteStep,newVal>59?(this.incrementHour(),this.minute=newVal-60):this.minute=newVal,this.update()},incrementSecond:function(){var newVal=this.second+this.secondStep-this.second%this.secondStep;newVal>59?(this.incrementMinute(!0),this.second=newVal-60):this.second=newVal,this.update()},remove:function(){$("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(defaultTime){if(this.$element.val())this.updateFromElementVal();else if("current"===defaultTime){var dTime=new Date,hours=dTime.getHours(),minutes=Math.floor(dTime.getMinutes()/this.minuteStep)*this.minuteStep,seconds=Math.floor(dTime.getSeconds()/this.secondStep)*this.secondStep,meridian="AM";this.showMeridian&&(0===hours?hours=12:hours>=12?(hours>12&&(hours-=12),meridian="PM"):meridian="AM"),this.hour=hours,this.minute=minutes,this.second=seconds,this.meridian=meridian,this.update()}else defaultTime===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(defaultTime)},setTime:function(time){var arr,timeArray;this.showMeridian?(arr=time.split(" "),timeArray=arr[0].split(":"),this.meridian=arr[1]):timeArray=time.split(":"),this.hour=parseInt(timeArray[0],10),this.minute=parseInt(timeArray[1],10),this.second=parseInt(timeArray[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:1>this.hour&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":("pm"===this.meridian||"p"===this.meridian)&&(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:0>this.hour&&(this.hour=0),0>this.minute?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:0>this.second?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var self=this;$(document).on("mousedown.timepicker",function(e){0===$(e.target).closest(".bootstrap-timepicker-widget").length&&self.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",$.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var val=this.$element.val();val&&this.setTime(val)},updateWidget:function(){if(this.$widget!==!1){var hour=10>this.hour?"0"+this.hour:this.hour,minute=10>this.minute?"0"+this.minute:this.minute,second=10>this.second?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(hour),this.$widget.find("input.bootstrap-timepicker-minute").val(minute),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(second),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(hour),this.$widget.find("span.bootstrap-timepicker-minute").text(minute),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(second),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var time=$("input.bootstrap-timepicker-hour",this.$widget).val()+":"+$("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+$("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+$("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(time)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var action=$(e.target).closest("a").data("action");action&&this[action]()},widgetKeydown:function(e){var $input=$(e.target).closest("input"),name=$input.attr("name");switch(e.keyCode){case 9:if(this.showMeridian){if("meridian"===name)return this.hideWidget()}else if(this.showSeconds){if("second"===name)return this.hideWidget()}else if("minute"===name)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),name){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(e.preventDefault(),name){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},$.fn.timepicker=function(option){var args=Array.apply(null,arguments);return args.shift(),this.each(function(){var $this=$(this),data=$this.data("timepicker"),options="object"==typeof option&&option;data||$this.data("timepicker",data=new Timepicker(this,$.extend({},$.fn.timepicker.defaults,options,$(this).data()))),"string"==typeof option&&data[option].apply(data,args)})},$.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker"},$.fn.timepicker.Constructor=Timepicker}(jQuery,window,document),function(window,$,undefined){function paletteTemplate(p,color,className){for(var html=[],i=0;p.length>i;i++){var tiny=tinycolor(p[i]),c=.5>tiny.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(color,p[i])?" sp-thumb-active":"";var swatchStyle=rgbaSupport?"background-color:"+tiny.toRgbString():"filter:"+tiny.toFilter();html.push('<span title="'+tiny.toRgbString()+'" data-color="'+tiny.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+swatchStyle+';" /></span>')}return"<div class='sp-cf "+className+"'>"+html.join("")+"</div>"}function hideAll(){for(var i=0;spectrums.length>i;i++)spectrums[i]&&spectrums[i].hide()}function instanceOptions(o,callbackContext){var opts=$.extend({},defaultOpts,o);return opts.callbacks={move:bind(opts.move,callbackContext),change:bind(opts.change,callbackContext),show:bind(opts.show,callbackContext),hide:bind(opts.hide,callbackContext),beforeShow:bind(opts.beforeShow,callbackContext)},opts}function spectrum(element,o){function applyOptions(){container.toggleClass("sp-flat",flat),container.toggleClass("sp-input-disabled",!opts.showInput),container.toggleClass("sp-alpha-enabled",opts.showAlpha),container.toggleClass("sp-buttons-disabled",!opts.showButtons||flat),container.toggleClass("sp-palette-disabled",!opts.showPalette),container.toggleClass("sp-palette-only",opts.showPaletteOnly),container.toggleClass("sp-initial-disabled",!opts.showInitial),container.addClass(opts.className),reflow()}function initialize(){function palletElementClick(e){return e.data&&e.data.ignore?(set($(this).data("color")),move()):(set($(this).data("color")),updateOriginalInput(!0),move(),hide()),!1}if(IE&&container.find("*:not(input)").attr("unselectable","on"),applyOptions(),shouldReplace&&boundElement.after(replacer).hide(),flat)boundElement.after(container).hide();
else{var appendTo="parent"===opts.appendTo?boundElement.parent():$(opts.appendTo);1!==appendTo.length&&(appendTo=$("body")),appendTo.append(container)}if(localStorageKey&&window.localStorage){try{var oldPalette=window.localStorage[localStorageKey].split(",#");oldPalette.length>1&&(delete window.localStorage[localStorageKey],$.each(oldPalette,function(i,c){addColorToSelectionPalette(c)}))}catch(e){}try{selectionPalette=window.localStorage[localStorageKey].split(";")}catch(e){}}offsetElement.bind("click.spectrum touchstart.spectrum",function(e){disabled||toggle(),e.stopPropagation(),$(e.target).is("input")||e.preventDefault()}),(boundElement.is(":disabled")||opts.disabled===!0)&&disable(),container.click(stopPropagation),textInput.change(setFromTextInput),textInput.bind("paste",function(){setTimeout(setFromTextInput,1)}),textInput.keydown(function(e){13==e.keyCode&&setFromTextInput()}),cancelButton.text(opts.cancelText),cancelButton.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),hide("cancel")}),chooseButton.text(opts.chooseText),chooseButton.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),isValid()&&(updateOriginalInput(!0),hide())}),draggable(alphaSlider,function(dragX,dragY,e){currentAlpha=dragX/alphaWidth,e.shiftKey&&(currentAlpha=Math.round(10*currentAlpha)/10),move()}),draggable(slider,function(dragX,dragY){currentHue=parseFloat(dragY/slideHeight),move()},dragStart,dragStop),draggable(dragger,function(dragX,dragY){currentSaturation=parseFloat(dragX/dragWidth),currentValue=parseFloat((dragHeight-dragY)/dragHeight),move()},dragStart,dragStop),initialColor?(set(initialColor),updateUI(),currentPreferredFormat=preferredFormat||tinycolor(initialColor).format,addColorToSelectionPalette(initialColor)):updateUI(),flat&&show();var paletteEvent=IE?"mousedown.spectrum":"click.spectrum touchstart.spectrum";paletteContainer.delegate(".sp-thumb-el",paletteEvent,palletElementClick),initialColorContainer.delegate(".sp-thumb-el:nth-child(1)",paletteEvent,{ignore:!0},palletElementClick)}function addColorToSelectionPalette(color){if(showSelectionPalette){var colorRgb=tinycolor(color).toRgbString();if(-1===$.inArray(colorRgb,selectionPalette))for(selectionPalette.push(colorRgb);selectionPalette.length>maxSelectionSize;)selectionPalette.shift();if(localStorageKey&&window.localStorage)try{window.localStorage[localStorageKey]=selectionPalette.join(";")}catch(e){}}}function getUniqueSelectionPalette(){var rgb,unique=[],p=selectionPalette,paletteLookup={};if(opts.showPalette){for(var i=0;paletteArray.length>i;i++)for(var j=0;paletteArray[i].length>j;j++)rgb=tinycolor(paletteArray[i][j]).toRgbString(),paletteLookup[rgb]=!0;for(i=0;p.length>i;i++)rgb=tinycolor(p[i]).toRgbString(),paletteLookup.hasOwnProperty(rgb)||(unique.push(p[i]),paletteLookup[rgb]=!0)}return unique.reverse().slice(0,opts.maxSelectionSize)}function drawPalette(){var currentColor=get(),html=$.map(paletteArray,function(palette,i){return paletteTemplate(palette,currentColor,"sp-palette-row sp-palette-row-"+i)});selectionPalette&&html.push(paletteTemplate(getUniqueSelectionPalette(),currentColor,"sp-palette-row sp-palette-row-selection")),paletteContainer.html(html.join(""))}function drawInitial(){if(opts.showInitial){var initial=colorOnShow,current=get();initialColorContainer.html(paletteTemplate([initial,current],current,"sp-palette-row-initial"))}}function dragStart(){(0>=dragHeight||0>=dragWidth||0>=slideHeight)&&reflow(),container.addClass(draggingClass)}function dragStop(){container.removeClass(draggingClass)}function setFromTextInput(){var tiny=tinycolor(textInput.val());tiny.ok?set(tiny):textInput.addClass("sp-validation-error")}function toggle(){visible?hide():show()}function show(){var event=$.Event("beforeShow.spectrum");return visible?(reflow(),undefined):(boundElement.trigger(event,[get()]),callbacks.beforeShow(get())===!1||event.isDefaultPrevented()||(hideAll(),visible=!0,$(doc).bind("click.spectrum",hide),$(window).bind("resize.spectrum",resize),replacer.addClass("sp-active"),container.removeClass("sp-hidden"),opts.showPalette&&drawPalette(),reflow(),updateUI(),colorOnShow=get(),drawInitial(),callbacks.show(colorOnShow),boundElement.trigger("show.spectrum",[colorOnShow])),undefined)}function hide(e){if((!e||"click"!=e.type||2!=e.button)&&visible&&!flat){visible=!1,$(doc).unbind("click.spectrum",hide),$(window).unbind("resize.spectrum",resize),replacer.removeClass("sp-active"),container.addClass("sp-hidden");var colorHasChanged=!tinycolor.equals(get(),colorOnShow);colorHasChanged&&(clickoutFiresChange&&"cancel"!==e?updateOriginalInput(!0):revert()),callbacks.hide(get()),boundElement.trigger("hide.spectrum",[get()])}}function revert(){set(colorOnShow,!0)}function set(color,ignoreFormatChange){if(!tinycolor.equals(color,get())){var newColor=tinycolor(color),newHsv=newColor.toHsv();currentHue=newHsv.h,currentSaturation=newHsv.s,currentValue=newHsv.v,currentAlpha=newHsv.a,updateUI(),newColor.ok&&!ignoreFormatChange&&(currentPreferredFormat=preferredFormat||newColor.format)}}function get(opts){return opts=opts||{},tinycolor.fromRatio({h:currentHue,s:currentSaturation,v:currentValue,a:Math.round(100*currentAlpha)/100},{format:opts.format||currentPreferredFormat})}function isValid(){return!textInput.hasClass("sp-validation-error")}function move(){updateUI(),callbacks.move(get()),boundElement.trigger("move.spectrum",[get()])}function updateUI(){textInput.removeClass("sp-validation-error"),updateHelperLocations();var flatColor=tinycolor.fromRatio({h:currentHue,s:1,v:1});dragger.css("background-color",flatColor.toHexString());var format=currentPreferredFormat;1>currentAlpha&&("hex"===format||"hex3"===format||"hex6"===format||"name"===format)&&(format="rgb");var realColor=get({format:format}),realHex=realColor.toHexString(),realRgb=realColor.toRgbString();if(rgbaSupport||1===realColor.alpha?previewElement.css("background-color",realRgb):(previewElement.css("background-color","transparent"),previewElement.css("filter",realColor.toFilter())),opts.showAlpha){var rgb=realColor.toRgb();rgb.a=0;var realAlpha=tinycolor(rgb).toRgbString(),gradient="linear-gradient(left, "+realAlpha+", "+realHex+")";IE?alphaSliderInner.css("filter",tinycolor(realAlpha).toFilter({gradientType:1},realHex)):(alphaSliderInner.css("background","-webkit-"+gradient),alphaSliderInner.css("background","-moz-"+gradient),alphaSliderInner.css("background","-ms-"+gradient),alphaSliderInner.css("background",gradient))}opts.showInput&&textInput.val(realColor.toString(format)),opts.showPalette&&drawPalette(),drawInitial()}function updateHelperLocations(){var s=currentSaturation,v=currentValue,dragX=s*dragWidth,dragY=dragHeight-v*dragHeight;dragX=Math.max(-dragHelperHeight,Math.min(dragWidth-dragHelperHeight,dragX-dragHelperHeight)),dragY=Math.max(-dragHelperHeight,Math.min(dragHeight-dragHelperHeight,dragY-dragHelperHeight)),dragHelper.css({top:dragY,left:dragX});var alphaX=currentAlpha*alphaWidth;alphaSlideHelper.css({left:alphaX-alphaSlideHelperWidth/2});var slideY=currentHue*slideHeight;slideHelper.css({top:slideY-slideHelperHeight})}function updateOriginalInput(fireCallback){var color=get();isInput&&boundElement.val(color.toString(currentPreferredFormat)).change();var hasChanged=!tinycolor.equals(color,colorOnShow);colorOnShow=color,addColorToSelectionPalette(color),fireCallback&&hasChanged&&(callbacks.change(color),boundElement.trigger("change.spectrum",[color]))}function reflow(){dragWidth=dragger.width(),dragHeight=dragger.height(),dragHelperHeight=dragHelper.height(),slideWidth=slider.width(),slideHeight=slider.height(),slideHelperHeight=slideHelper.height(),alphaWidth=alphaSlider.width(),alphaSlideHelperWidth=alphaSlideHelper.width(),flat||(container.css("position","absolute"),container.offset(getOffset(container,offsetElement))),updateHelperLocations()}function destroy(){boundElement.show(),offsetElement.unbind("click.spectrum touchstart.spectrum"),container.remove(),replacer.remove(),spectrums[spect.id]=null}function option(optionName,optionValue){return optionName===undefined?$.extend({},opts):optionValue===undefined?opts[optionName]:(opts[optionName]=optionValue,applyOptions(),undefined)}function enable(){disabled=!1,boundElement.attr("disabled",!1),offsetElement.removeClass("sp-disabled")}function disable(){hide(),disabled=!0,boundElement.attr("disabled",!0),offsetElement.addClass("sp-disabled")}var opts=instanceOptions(o,element),flat=opts.flat,showSelectionPalette=opts.showSelectionPalette,localStorageKey=opts.localStorageKey,theme=opts.theme,callbacks=opts.callbacks,resize=throttle(reflow,10),visible=!1,dragWidth=0,dragHeight=0,dragHelperHeight=0,slideHeight=0,slideWidth=0,alphaWidth=0,alphaSlideHelperWidth=0,slideHelperHeight=0,currentHue=0,currentSaturation=0,currentValue=0,currentAlpha=1,palette=opts.palette.slice(0),paletteArray=$.isArray(palette[0])?palette:[palette],selectionPalette=opts.selectionPalette.slice(0),maxSelectionSize=opts.maxSelectionSize,draggingClass="sp-dragging",doc=element.ownerDocument,boundElement=(doc.body,$(element)),disabled=!1,container=$(markup,doc).addClass(theme),dragger=container.find(".sp-color"),dragHelper=container.find(".sp-dragger"),slider=container.find(".sp-hue"),slideHelper=container.find(".sp-slider"),alphaSliderInner=container.find(".sp-alpha-inner"),alphaSlider=container.find(".sp-alpha"),alphaSlideHelper=container.find(".sp-alpha-handle"),textInput=container.find(".sp-input"),paletteContainer=container.find(".sp-palette"),initialColorContainer=container.find(".sp-initial"),cancelButton=container.find(".sp-cancel"),chooseButton=container.find(".sp-choose"),isInput=boundElement.is("input"),shouldReplace=isInput&&!flat,replacer=shouldReplace?$(replaceInput).addClass(theme).addClass(opts.className):$([]),offsetElement=shouldReplace?replacer:boundElement,previewElement=replacer.find(".sp-preview-inner"),initialColor=opts.color||isInput&&boundElement.val(),colorOnShow=!1,preferredFormat=opts.preferredFormat,currentPreferredFormat=preferredFormat,clickoutFiresChange=!opts.showButtons||opts.clickoutFiresChange;initialize();var spect={show:show,hide:hide,toggle:toggle,reflow:reflow,option:option,enable:enable,disable:disable,set:function(c){set(c),updateOriginalInput()},get:get,destroy:destroy,container:container};return spect.id=spectrums.push(spect)-1,spect}function getOffset(picker,input){var extraY=0,dpWidth=picker.outerWidth(),dpHeight=picker.outerHeight(),inputHeight=input.outerHeight(),doc=picker[0].ownerDocument,docElem=doc.documentElement,viewWidth=docElem.clientWidth+$(doc).scrollLeft(),viewHeight=docElem.clientHeight+$(doc).scrollTop(),offset=input.offset();return offset.top+=inputHeight,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight-extraY):extraY),offset}function noop(){}function stopPropagation(e){e.stopPropagation()}function bind(func,obj){var slice=Array.prototype.slice,args=slice.call(arguments,2);return function(){return func.apply(obj,args.concat(slice.call(arguments)))}}function draggable(element,onmove,onstart,onstop){function prevent(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function move(e){if(dragging){if(IE&&9>document.documentMode&&!e.button)return stop();var touches=e.originalEvent.touches,pageX=touches?touches[0].pageX:e.pageX,pageY=touches?touches[0].pageY:e.pageY,dragX=Math.max(0,Math.min(pageX-offset.left,maxWidth)),dragY=Math.max(0,Math.min(pageY-offset.top,maxHeight));hasTouch&&prevent(e),onmove.apply(element,[dragX,dragY,e])}}function start(e){var rightclick=e.which?3==e.which:2==e.button;e.originalEvent.touches,rightclick||dragging||onstart.apply(element,arguments)!==!1&&(dragging=!0,maxHeight=$(element).height(),maxWidth=$(element).width(),offset=$(element).offset(),$(doc).bind(duringDragEvents),$(doc.body).addClass("sp-dragging"),hasTouch||move(e),prevent(e))}function stop(){dragging&&($(doc).unbind(duringDragEvents),$(doc.body).removeClass("sp-dragging"),onstop.apply(element,arguments)),dragging=!1}onmove=onmove||function(){},onstart=onstart||function(){},onstop=onstop||function(){};var doc=element.ownerDocument||document,dragging=!1,offset={},maxHeight=0,maxWidth=0,hasTouch="ontouchstart"in window,duringDragEvents={};duringDragEvents.selectstart=prevent,duringDragEvents.dragstart=prevent,duringDragEvents[hasTouch?"touchmove":"mousemove"]=move,duringDragEvents[hasTouch?"touchend":"mouseup"]=stop,$(element).bind(hasTouch?"touchstart":"mousedown",start)}function throttle(func,wait,debounce){var timeout;return function(){var context=this,args=arguments,throttler=function(){timeout=null,func.apply(context,args)};debounce&&clearTimeout(timeout),(debounce||!timeout)&&(timeout=setTimeout(throttler,wait))}}var defaultOpts={beforeShow:noop,move:noop,change:noop,show:noop,hide:noop,color:!1,flat:!1,showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},spectrums=[],IE=!!/msie/i.exec(window.navigator.userAgent),rgbaSupport=function(){function contains(str,substr){return!!~(""+str).indexOf(substr)}var elem=document.createElement("div"),style=elem.style;return style.cssText="background-color:rgba(0,0,0,.5)",contains(style.backgroundColor,"rgba")||contains(style.backgroundColor,"hsla")}(),replaceInput=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),markup=function(){var gradientFix="";if(IE)for(var i=1;6>=i;i++)gradientFix+="<div class='sp-"+i+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",gradientFix,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),dataID="spectrum.id";$.fn.spectrum=function(opts){if("string"==typeof opts){var returnValue=this,args=Array.prototype.slice.call(arguments,1);return this.each(function(){var spect=spectrums[$(this).data(dataID)];if(spect){var method=spect[opts];if(!method)throw Error("Spectrum: no such method: '"+opts+"'");"get"==opts?returnValue=spect.get():"container"==opts?returnValue=spect.container:"option"==opts?returnValue=spect.option.apply(spect,args):"destroy"==opts?(spect.destroy(),$(this).removeData(dataID)):method.apply(spect,args)}}),returnValue}return this.spectrum("destroy").each(function(){var spect=spectrum(this,opts);$(this).data(dataID,spect.id)})},$.fn.spectrum.load=!0,$.fn.spectrum.loadOpts={},$.fn.spectrum.draggable=draggable,$.fn.spectrum.defaults=defaultOpts,$.spectrum={},$.spectrum.localization={},$.spectrum.palettes={},$.fn.spectrum.processNativeColorInputs=function(){var colorInput=$("<input type='color' value='!' />")[0],supportsColor="color"===colorInput.type&&"!"!=colorInput.value;supportsColor||$("input[type=color]").spectrum({preferredFormat:"hex6"})},function(root){function tinycolor(color,opts){if(color=color?color:"",opts=opts||{},"object"==typeof color&&color.hasOwnProperty("_tc_id"))return color;var rgb=inputToRGB(color),r=rgb.r,g=rgb.g,b=rgb.b,a=rgb.a,roundA=mathRound(100*a)/100,format=opts.format||rgb.format;return 1>r&&(r=mathRound(r)),1>g&&(g=mathRound(g)),1>b&&(b=mathRound(b)),{ok:rgb.ok,format:format,_tc_id:tinyCounter++,alpha:a,toHsv:function(){var hsv=rgbToHsv(r,g,b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:a}},toHsvString:function(){var hsv=rgbToHsv(r,g,b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+roundA+")"},toHsl:function(){var hsl=rgbToHsl(r,g,b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:a}},toHslString:function(){var hsl=rgbToHsl(r,g,b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+roundA+")"},toHex:function(allow3Char){return rgbToHex(r,g,b,allow3Char)},toHexString:function(allow3Char){return"#"+rgbToHex(r,g,b,allow3Char)},toRgb:function(){return{r:mathRound(r),g:mathRound(g),b:mathRound(b),a:a}},toRgbString:function(){return 1==a?"rgb("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+")":"rgba("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+", "+roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(r,255))+"%",g:mathRound(100*bound01(g,255))+"%",b:mathRound(100*bound01(b,255))+"%",a:a}},toPercentageRgbString:function(){return 1==a?"rgb("+mathRound(100*bound01(r,255))+"%, "+mathRound(100*bound01(g,255))+"%, "+mathRound(100*bound01(b,255))+"%)":"rgba("+mathRound(100*bound01(r,255))+"%, "+mathRound(100*bound01(g,255))+"%, "+mathRound(100*bound01(b,255))+"%, "+roundA+")"},toName:function(){return hexNames[rgbToHex(r,g,b,!0)]||!1},toFilter:function(secondColor){var hex=rgbToHex(r,g,b),secondHex=hex,alphaHex=Math.round(255*parseFloat(a)).toString(16),secondAlphaHex=alphaHex,gradientType=opts&&opts.gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex=s.toHex(),secondAlphaHex=Math.round(255*parseFloat(s.alpha)).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr=#"+pad2(alphaHex)+hex+",endColorstr=#"+pad2(secondAlphaHex)+secondHex+")"},toString:function(format){format=format||this.format;var formattedString=!1;return"rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),("hex"===format||"hex6"===format)&&(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString()}}}function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,ok=!1,format=!1;return"string"==typeof color&&(color=stringInputToObject(color)),"object"==typeof color&&(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")?(rgb=rgbToRgb(color.r,color.g,color.b),ok=!0,format="%"===(color.r+"").substr(-1)?"prgb":"rgb"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")?(color.s=convertToPercentage(color.s),color.v=convertToPercentage(color.v),rgb=hsvToRgb(color.h,color.s,color.v),ok=!0,format="hsv"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")&&(color.s=convertToPercentage(color.s),color.l=convertToPercentage(color.l),rgb=hslToRgb(color.h,color.s,color.l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a)),a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){function hue2rgb(p,q,t){return 0>t&&(t+=1),t>1&&(t-=1),1/6>t?p+6*(q-p)*t:.5>t?q:2/3>t?p+6*(q-p)*(2/3-t):p}var r,g,b;if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=.5>l?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),1e-6>math.abs(n-max)?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)}function isPercentage(n){return"string"==typeof n&&-1!=n.indexOf("%")}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return 1>=n&&(n=100*n+"%"),n}function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0};var match;return(match=matchers.rgb.exec(color))?{r:match[1],g:match[2],b:match[3]}:(match=matchers.rgba.exec(color))?{r:match[1],g:match[2],b:match[3],a:match[4]}:(match=matchers.hsl.exec(color))?{h:match[1],s:match[2],l:match[3]}:(match=matchers.hsla.exec(color))?{h:match[1],s:match[2],l:match[3],a:match[4]}:(match=matchers.hsv.exec(color))?{h:match[1],s:match[2],v:match[3]}:(match=matchers.hex6.exec(color))?{r:parseHex(match[1]),g:parseHex(match[2]),b:parseHex(match[3]),format:named?"name":"hex"}:(match=matchers.hex3.exec(color))?{r:parseHex(match[1]+""+match[1]),g:parseHex(match[2]+""+match[2]),b:parseHex(match[3]+""+match[3]),format:named?"name":"hex"}:!1}var trimLeft=/^[\s,#]+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return color1&&color2?tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString():!1},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.desaturate=function(color,amount){var hsl=tinycolor(color).toHsl();return hsl.s-=(amount||10)/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)},tinycolor.saturate=function(color,amount){var hsl=tinycolor(color).toHsl();return hsl.s+=(amount||10)/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)},tinycolor.greyscale=function(color){return tinycolor.desaturate(color,100)},tinycolor.lighten=function(color,amount){var hsl=tinycolor(color).toHsl();return hsl.l+=(amount||10)/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)},tinycolor.darken=function(color,amount){var hsl=tinycolor(color).toHsl();return hsl.l-=(amount||10)/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)},tinycolor.complement=function(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)},tinycolor.triad=function(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]},tinycolor.tetrad=function(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]},tinycolor.splitcomplement=function(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]},tinycolor.analogous=function(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret},tinycolor.monochromatic=function(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret},tinycolor.readability=function(color1,color2){var a=tinycolor(color1).toRgb(),b=tinycolor(color2).toRgb(),brightnessA=(299*a.r+587*a.g+114*a.b)/1e3,brightnessB=(299*b.r+587*b.g+114*b.b)/1e3,colorDiff=Math.max(a.r,b.r)-Math.min(a.r,b.r)+Math.max(a.g,b.g)-Math.min(a.g,b.g)+Math.max(a.b,b.b)-Math.min(a.b,b.b);return{brightness:Math.abs(brightnessA-brightnessB),color:colorDiff}},tinycolor.readable=function(color1,color2){var readability=tinycolor.readability(color1,color2);return readability.brightness>125&&readability.color>500},tinycolor.mostReadable=function(baseColor,colorList){for(var bestColor=null,bestScore=0,bestIsReadable=!1,i=0;colorList.length>i;i++){var readability=tinycolor.readability(baseColor,colorList[i]),readable=readability.brightness>125&&readability.color>500,score=3*(readability.brightness/125)+readability.color/500;(readable&&!bestIsReadable||readable&&bestIsReadable&&score>bestScore||!readable&&!bestIsReadable&&score>bestScore)&&(bestIsReadable=readable,bestScore=score,bestColor=tinycolor(colorList[i]))}return bestColor};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names),matchers=function(){var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{rgb:RegExp("rgb"+PERMISSIVE_MATCH3),rgba:RegExp("rgba"+PERMISSIVE_MATCH4),hsl:RegExp("hsl"+PERMISSIVE_MATCH3),hsla:RegExp("hsla"+PERMISSIVE_MATCH4),hsv:RegExp("hsv"+PERMISSIVE_MATCH3),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();root.tinycolor=tinycolor}(this),$(function(){$.fn.spectrum.load&&$.fn.spectrum.processNativeColorInputs()})}(window,jQuery),function($,setTimeout){function onWindowResize(){last=$.now(),timer=timer||setTimeout(checkTime,10)}function checkTime(){var now=$.now();$.resizestop.threshold>now-last?timer=setTimeout(checkTime,10):(clearTimeout(timer),timer=last=0,size.width=$window.width(),size.height=$window.height(),cache.trigger("resizestop"))}var $window=$(window),cache=$([]),last=0,timer=0,size={};$.resizestop={propagate:!1,threshold:500},$.event.special.resizestop={setup:function(){cache=cache.not(this),cache=cache.add(this),1===cache.length&&$window.bind("resize",onWindowResize)},teardown:function(){cache=cache.not(this),cache.length||$window.unbind("resize",onWindowResize)},add:function(handle){var oldHandler=handle.handler;handle.handler=function(e){return $.resizestop.propagate||e.stopPropagation(),e.data=e.data||{},e.data.size=e.data.size||{},$.extend(e.data.size,size),oldHandler.apply(this,arguments)}}}}(jQuery,setTimeout),angular.module("ui.directives").directive("bsTimepicker",["$timeout",function($timeout){"use strict";var TIME_REGEXP="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)";return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,controller){controller&&element.on("changeTime.timepicker",function(){$timeout(function(){controller.$setViewValue(element.val())})});var timeRegExp=RegExp("^"+TIME_REGEXP+"$",["i"]);controller.$parsers.unshift(function(viewValue){return!viewValue||timeRegExp.test(viewValue)?(controller.$setValidity("time",!0),viewValue):(controller.$setValidity("time",!1),void 0)}),element.attr("data-toggle","timepicker"),element.parent().addClass("bootstrap-timepicker"),element.timepicker()}}}]),angular.module("ui.directives").directive("colorPicker",function(){return{restrict:"A",require:"ngModel",scope:!1,replace:!0,template:"<span><input class='input-small' /></span>",link:function(scope,element,attrs,ngModel){var input=element.find("input"),options=angular.extend({color:ngModel.$viewValue,showPalette:!0,showInput:!0,preferredFormat:"hex",palette:[["rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)"],["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]],change:function(color){scope.$apply(function(){ngModel.$setViewValue(color.toHexString())
})}},scope.$eval(attrs.options));ngModel.$render=function(){input.spectrum("set",ngModel.$viewValue||"")},input.spectrum(options)}}}),angular.module("ui.directives").directive("feedback",function(){return{restrict:"C",link:function(scope,element){element.hide();var feedback=element.find("div.feedback-content > div");scope.$on("feedback:start",function(event,args){args=args||{},args.type=args.type||"alert",args.message=args.message||"",element.show(),feedback.removeClass().addClass(args.type).text(args.message)}),scope.$on("feedback:stop",function(event,args){args=args||{},args.type=args.type||"alert",args.message=args.message||"",element.hide(),feedback.removeClass().addClass(args.type).text(args.message)})}}}),angular.module("ui.directives").directive("ngRightClick",function($parse){return function(scope,element,attrs){var fn=$parse(attrs.ngRightClick);element.bind("contextmenu",function(event){scope.$apply(function(){event.preventDefault(),fn(scope,{$event:event})})})}}),function($){function safeApply(scope,fn){var phase=scope.$root.$$phase;"$apply"===phase||"$digest"===phase?scope.$eval(fn):scope.$apply(fn)}function randomHexColor(){function c(){return Math.floor(256*Math.random()).toString(16)}return"#"+c()+c()+c()}$("body").tooltip({selector:"*[data-toggle=tooltip]"}),$(document).on("click","div.mini-calendar tbody td",function(){$("div.mini-calendar tbody td").removeClass("on"),$(this).addClass("on")}),$(window).bind("resizestop",function(){1400>$(this).width()?($("#sidebar").removeClass("span2").addClass("span3"),$("#content").removeClass("span10").addClass("span9")):($("#sidebar").removeClass("span3").addClass("span2"),$("#content").removeClass("span9").addClass("span10"))});var saturnApp=angular.module("saturnApp",["ui","ui.bootstrap","ui.filters","ngResource","ngMockE2E"]);saturnApp.config(["$routeProvider",function($routeProvider){$routeProvider.when("/",{templateUrl:"partials/index.html"}).when("/login",{templateUrl:"partials/login.html"}).when("/settings/",{templateUrl:"partials/settings.html"}).when("/settings/emails",{templateUrl:"partials/settings-emails.html"}).when("/settings/calendars",{templateUrl:"partials/settings-calendars.html"}).when("/settings/profile",{templateUrl:"partials/settings-profile.html"}).when("/settings/account",{templateUrl:"partials/settings-account.html"}).when("/calendar/:calendarId/settings",{templateUrl:"partials/settings-calendar.html"}).when("/calendar/create",{templateUrl:"partials/create-calendar.html"}).when("/event/create",{templateUrl:"partials/create-event.html"}).when("/event/edit/:eventId",{templateUrl:"partials/edit-event.html"}).otherwise({redirectTo:"/"})}]).run(function($rootScope,$location,$httpBackend,Data){$rootScope.$on("$routeChangeStart",function(event,next){return Data.user.authorised!==!1&&$.cookie("saturn_access_token")?(Data.user.authorised===!0&&"partials/login.html"===next.templateUrl&&$location.path("/"),void 0):(Data.user.authorised=!1,$location.path("/login"),!1)}),$rootScope.$on("$routeChangeSuccess",function(){$.cookie("saturn_current_path",$location.path())}),$httpBackend.whenPOST("/login").respond(function(method,url,data){return data=$rootScope.$eval(data),[200,{login_hint:data.user,apiKey:"AIzaSyDBKGUfuXDiE_SSs8hUoVKC58v1zoii9Z0",clientId:"512508236814-shh88q7m8kmongk24vgnagsm5p7q5ghl.apps.googleusercontent.com",scopes:"https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile"}]}),$httpBackend.whenPOST("/logout").respond(function(){}),$httpBackend.whenPOST(/.*/).passThrough(),$httpBackend.whenGET(/.*/).passThrough(),$httpBackend.whenPUT(/.*/).passThrough(),$httpBackend.whenDELETE(/.*/).passThrough(),$httpBackend.whenPATCH(/.*/).passThrough()}),saturnApp.filter("encodeURIComponent",function(){return window.encodeURIComponent}),saturnApp.factory("Data",function(){var d=new Date;return{settings:{baseURL:"https://www.googleapis.com/calendar/v3",date:{dateFormat:"mm/dd/yy",minDate:d,changeMonth:!0,changeYear:!0,yearRange:d.getFullYear()+":"+(d.getFullYear()+5)},timePicker:{showMeridian:!0}}}}),saturnApp.factory("ACL",function($resource,Data){return $resource(Data.settings.baseURL+"/calendars/:calendarId/acl/:ruleId",{calendarId:"@calendarId",ruleId:"@ruleId"},{insert:{method:"POST"},list:{method:"GET"},update:{method:"PUT"},patch:{method:"patch"}})}),saturnApp.factory("CalendarList",function($resource,Data){return $resource(Data.settings.baseURL+"/users/:user/calendarList/:calendarId",{user:"me",calendarId:"@calendarId"},{insert:{method:"POST"},list:{method:"GET"},update:{method:"PUT"},patch:{method:"patch"}})}),saturnApp.factory("Calendars",function($resource,Data){return $resource(Data.settings.baseURL+"/calendars/:calendarId",{calendarId:"@calendarId"},{clear:{method:"POST",url:Data.settings.baseURL+"/calendars/:calendarId/clear"},insert:{method:"POST"},update:{method:"PUT"},patch:{method:"PATCH"},"delete":{method:"DELETE"}})}),saturnApp.factory("Colors",function($resource,Data){return $resource(Data.settings.baseURL,{get:{method:"GET",url:Data.settings.baseURL+"/colors"}})}),saturnApp.factory("Events",function($resource,Data){return $resource(Data.settings.baseURL,{calendarId:"@calendarId",eventId:"@eventId",access_token:"@access_token"},{"delete":{method:"DELETE",url:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId"},get:{method:"GET",url:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId"},"import":{method:"POST",url:Data.settings.baseURL+"/calendars/:calendarId/events/import"},insert:{method:"POST",url:Data.settings.baseURL+"/calendars/:calendarId/events"},instances:{method:"GET",url:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId/instances"},list:{method:"GET",url:Data.settings.baseURL+"/calendars/:calendarId/events"},move:{method:"POST",URL:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId/move"},quickAdd:{method:"POST",url:Data.settings.baseURL+"/calendars/:calendarId/events/quickAdd"},update:{method:"PUT",url:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId"},patch:{method:"PATCH",url:Data.settings.baseURL+"/calendars/:calendarId/events/:eventId"}})}),saturnApp.factory("Freebusy",function($resource,Data){return $resource(Data.settings.baseURL,{query:{method:"POST",url:Data.settings.baseURL+"/freeBusy"}})}),saturnApp.factory("Settings",function($resource,Data){return $resource(Data.settings.baseURL,{setting:"@setting"},{get:{method:"GET",url:Data.settings.baseURL+"/users/me/settings/:setting"},list:{method:"GET",url:Data.settings.baseURL+"/users/me/settings/"}})}),saturnApp.controller("EventController",["$scope","$rootScope","$filter","$location","$timeout","Events","Data",function($scope,$rootScope,$filter,$location,$timeout,Events,Data){$scope.data=Data;var i=0,fetching=!1;$scope.toggleMenu=function(){},$scope.events=function(start,end){i=0,$scope.getEvents($scope.data.calendars,start,end,function(){$scope.calendar.fullCalendar("refetchEvents")})},$scope.getEvents=function(sources,start,end,callback){if(!sources.length)return!1;if(i===sources.length)return $rootScope.$broadcast("feedback:stop"),i=0,!1;var timestamp=start.getTime()+end.getTime(),startTime=$filter("date")(start,"yyyy-MM-ddTHH:mm:ssZ"),endTime=$filter("date")(end,"yyyy-MM-ddTHH:mm:ssZ");sources[i].selected!==!0||-1!==sources[i].dateRange.indexOf(timestamp)||fetching?(i++,$scope.getEvents(sources,start,end,callback)):($rootScope.$broadcast("feedback:start",{type:"alert",message:"Loading events ..."}),fetching=!0,safeApply($scope,function(){Events.list({calendarId:sources[i].id,access_token:$.cookie("saturn_access_token"),timeMin:startTime,timeMax:endTime},function(response){sources[i].dateRange.push(timestamp),sources[i].events.push.apply(sources[i].events,response.items),sources[i].events=$filter("unique")(sources[i].events),fetching=!1,i++,callback(),$scope.getEvents(sources,start,end,callback)},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})}))},$scope.createEvent=function(){var d=new Date;$scope.data.currentEvent.created=$.fullCalendar.formatDate(d,"u"),$scope.data.currentEvent.updated=$.fullCalendar.formatDate(d,"u"),angular.forEach($scope.data.calendars,function(value){value.id===$scope.data.currentEvent.source.id&&value.events.push($scope.data.currentEvent)}),$rootScope.$broadcast("feedback:start",{type:"alert",message:"Saving event ..."}),Events.insert({calendarId:$scope.data.currentEvent.source.id,start:{dateTime:$.fullCalendar.formatDate($scope.data.currentEvent.start,"u")},end:{dateTime:$.fullCalendar.formatDate($scope.data.currentEvent.start,"u")},summary:$scope.data.currentEvent.title,description:$scope.data.currentEvent.description,location:$scope.data.currentEvent.location},function(){$scope.setCurrentEvent(),$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Event saved"}),$timeout(function(){$rootScope.$broadcast("feedback:stop"),$location.path("/")},1e3)},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})},$scope.updateEvent=function(successCallback,errorCallback){var d=new Date;safeApply($scope,function(){$rootScope.$broadcast("feedback:start",{type:"alert",message:"Updating event ..."}),$scope.data.currentEvent.updated=$.fullCalendar.formatDate(d,"u"),Events.update({calendarId:$scope.data.currentEvent.source.id,eventId:$scope.data.currentEvent.id,start:{dateTime:$.fullCalendar.formatDate($scope.data.currentEvent.start,"u")},end:{dateTime:$.fullCalendar.formatDate($scope.data.currentEvent.end,"u")},summary:$scope.data.currentEvent.title,description:$scope.data.currentEvent.description,location:$scope.data.currentEvent.location,sequence:$scope.data.currentEvent.sequence},function(){$scope.data.currentEvent.sequence++,$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Event updated"}),$timeout(function(){$rootScope.$broadcast("feedback:stop"),$location.path("/")},1e3),"function"==typeof successCallback&&successCallback()},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3),"function"==typeof errorCallback&&errorCallback()})})},$scope.deleteEvent=function(){confirm("Are you sure you want to delete this event ?")&&($rootScope.$broadcast("feedback:start",{type:"alert",message:"Deleting event ..."}),safeApply($scope,function(){Events.delete({calendarId:$scope.data.currentEvent.source.id,eventId:$scope.data.currentEvent.id,sendNotifications:!0},function(){$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Event deleted."}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})}))},$scope.checkEventDates=function(){($scope.data.currentEvent.start.getTime()>$scope.data.currentEvent.end.getTime()||!$scope.data.currentEvent.end)&&($scope.data.currentEvent.end=$scope.data.currentEvent.start)},$scope.setCurrentEvent=function(start,end,allDay){var startDate=start||new Date,endDate=end||new Date,startTime=$.fullCalendar.formatDate(startDate,"hh:mm TT"),endTime=$.fullCalendar.formatDate(endDate,"hh:mm TT");$scope.data.currentEvent={title:"New event",id:Math.random().toString(36).slice(2),start:startDate,end:endDate,startDate:startDate,endDate:endDate,startTime:startTime,endTime:endTime,allDay:allDay||!1,organizer:{displayName:$scope.data.user.firstName+" "+$scope.data.user.lastName,email:$scope.data.user.email,self:!0},creator:{displayName:$scope.data.user.firstName+" "+$scope.data.user.lastName,email:$scope.data.user.email,self:!0},created:"",updated:"",editable:!0,source:{editable:!0}}},$scope.data.currentEvent||$scope.setCurrentEvent(),$scope.eventClick=function(event){if(event.editable===!0||event.source.editable===!0){$scope.data.currentEvent={},$.extend($scope.data.currentEvent,event);var endTime,startDate=event.start,endDate=event.end,startTime=$.fullCalendar.formatDate(startDate,"hh:mm TT");endDate&&(endTime=$.fullCalendar.formatDate(endDate,"hh:mm TT")),$scope.data.currentEvent.startDate=startDate,$scope.data.currentEvent.endDate=endDate,$scope.data.currentEvent.startTime=startTime,$scope.data.currentEvent.endTime=endTime,$scope.data.currentEvent.allDay=event.end&&864e5===event.end.getTime()-event.start.getTime()?!0:!1,safeApply($scope,function(){$location.path("/event/edit/"+event.id)})}},$scope.select=function(start,end,allDay){$scope.setCurrentEvent(start,end,allDay),safeApply($scope,function(){$location.path("/event/create")})},$scope.eventDrop=function(event,dayDelta,minuteDelta,allDay,revertFunc){$scope.data.currentEvent=event,$scope.updateEvent(function(){},function(){revertFunc()})},$scope.eventResize=function(event,dayDelta,minuteDelta,revertFunc){$scope.data.currentEvent=event,$scope.updateEvent(function(){},function(){revertFunc()})},$scope.eventSources=[],$scope.updateEventSources=function(){$scope.eventSources.push.apply($scope.eventSources,$scope.data.calendars)},$scope.data.calendars&&$scope.data.calendars.length&&$scope.updateEventSources(),$scope.$on("calendarsLoaded",function(){$scope.updateEventSources()}),$scope.masterCalendarOptions={header:{left:"month agendaWeek agendaDay agendaList",center:"title",right:"today prev,next"},allDayDefault:!1,selectable:!0,defaultView:"agendaWeek",slotMinutes:15,defaultEventMinutes:$scope.data.settings.defaultEventLength,eventClick:$scope.eventClick,eventDrop:$scope.eventDrop,eventResize:$scope.eventResize,viewDisplay:function(view){$scope.getEvents($scope.data.calendars,view.start,view.end,function(){$scope.calendar.fullCalendar("refetchEvents")})},eventDataTransform:function(eventData){var endDate,eventClass,d=new Date;return eventData.end&&(eventData.end instanceof Date&&(endDate=eventData.end),eventData.end.date&&(endDate=$.fullCalendar.parseDate(eventData.end.date)),eventData.end.dateTime&&(endDate=$.fullCalendar.parseDate(eventData.end.dateTime)),d>endDate&&(eventClass="past-event")),{id:eventData.id,title:eventData.title||eventData.summary,description:eventData.description,kind:eventData.kind,etag:eventData.etag,status:eventData.status,htmlLink:eventData.htmlLink,created:eventData.created,updated:eventData.updated,summary:eventData.summary,creator:eventData.creator,organizer:eventData.organizer,visibility:eventData.visibility,sequence:eventData.sequence,iCalUID:eventData.iCalUID,gadget:eventData.gadget,location:eventData.location,className:eventClass,start:eventData.start.date||eventData.start.dateTime||eventData.start,end:eventData.end?eventData.end.date||eventData.end.dateTime||eventData.end:eventData.start.date||eventData.start.dateTime||eventData.start}},eventRender:function(event,element){event.gadget&&(element.html('<img title="'+event.gadget.title+'" src="'+event.gadget.iconLink+'" width="16" height="16" />'),element.css({background:"none",border:0}))},eventAfterAllRender:function(){},select:$scope.select},$scope.miniCalendarOptions={header:{left:"",center:"title",right:"today prev,next"},editable:!1,selectable:!1,columnFormat:{day:"D"},eventRender:function(){return!1},viewDisplay:function(view){$scope.calendar.fullCalendar("gotoDate",view.start)},dayClick:function(date){$scope.calendar.fullCalendar("gotoDate",date)}}}]),saturnApp.controller("CalendarController",["$scope","$rootScope","$location","$timeout","CalendarList","Calendars","Data",function($scope,$rootScope,$location,$timeout,CalendarList,Calendars,Data){function loadCalendarList(){$rootScope.$broadcast("feedback:start",{type:"alert",message:"Loading calendars ..."}),CalendarList.list({access_token:$.cookie("saturn_access_token")},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendars loaded"}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3),angular.forEach(response.items,function(value){value.editable="owner"===value.accessRole?!0:!1,value.events=[],value.color=value.borderColor=value.backgroundColor,value.textColor=value.foregroundColor,value.dateRange=[],$scope.data.calendars.push(value)}),$scope.$emit("calendarsLoaded")},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})}$scope.data=Data,$scope.data.calendars||($scope.data.calendars=[]);var bgColor=randomHexColor();"#000000"===bgColor&&(bgColor=randomHexColor()),$scope.calendar={color:bgColor,textColor:"#000"},$scope.data.currentCalendar&&$.extend($scope.calendar,$scope.data.currentCalendar),$scope.$watch("data.user.authorised",function(newValue){newValue===!0&&0===$scope.data.calendars.length&&loadCalendarList()}),$scope.createCalendar=function(){$rootScope.$broadcast("feedback:start",{type:"alert",message:"Saving calendar ..."}),Calendars.insert({summary:$scope.calendar.summary,description:$scope.calendar.description,location:$scope.calendar.location,timeZone:$scope.calendar.timeZone},function(response){CalendarList.insert({id:response.id,kind:response.kind,etag:response.etag,hidden:!1,selected:!0,foregroundColor:$scope.calendar.foregroundColor,backgroundColor:$scope.calendar.backgroundColor,defaultReminders:[{method:"email",minutes:10}]},function(resp){var calendar={id:resp.id,kind:resp.kind,etag:resp.etag,hidden:resp.hidden,selected:resp.selected,foregroundColor:resp.foregroundColor,backgroundColor:resp.backgroundColor,colorId:resp.colorId,defaultReminders:resp.defaultReminders,locaton:resp.defaultReminders,summary:resp.summary,title:resp.summary,accessRole:resp.accessRole};calendar.data.color=resp.backgroundColor,$scope.data.calendars.push(calendar),$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendar saved"}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3),$location.path("/")},function(resp){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:resp.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})},$scope.updateCalendar=function(){$rootScope.$broadcast("feedback:start",{type:"alert",message:"Updating calendar ..."}),$.extend($scope.data.currentCalendar,$scope.calendar),$scope.data.currentCalendar.backgroundColor=$scope.data.currentCalendar.color,$scope.data.currentCalendar.borderColor=$scope.data.currentCalendar.color,Calendars.update({calendarId:$scope.calendar.id,summary:$scope.calendar.summary,description:$scope.calendar.description,location:$scope.calendar.location,timeZone:$scope.calendar.timeZone},function(){$rootScope.$broadcast("feedback:start",{type:"alert alert-success",message:"Calendar updated"}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3),$scope.calendar=null,$location.path("/")},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})},$scope.setCurrentCalendarID=function(){$scope.data.currentEvent.source.id=this.calendar.id},$scope.setCalendar=function(){$scope.data.currentCalendar=this.calendar},$scope.resetCalendar=function(){$.extend($scope.calendar,$scope.data.currentCalendar)},$scope.deleteCalendar=function(){var self=this;confirm("Are you sure you want to delete this calendar ?")&&(Calendars.delete({calendarId:self.calendar.id}),angular.forEach($scope.data.calendars,function(value,key){value.id===self.calendar.id&&$scope.data.calendars.splice(key,1)}))},$scope.unsubscribe=function(){confirm('Are you sure you want to unsubscribe from "'+this.calendar.summary+'" ?')},$scope.displayCalendar=function(){var self=this;angular.forEach($scope.data.calendars,function(value){value.selected=value.id===self.calendar.id?!0:!1})}}]),saturnApp.controller("SettingsController",["$scope","Data",function($scope,Data){$scope.data=Data,$scope.data.settings.emails||($scope.data.settings.emails=[]),$scope.addEmail=function(){-1===$scope.data.settings.emails.indexOf($scope.data.settings.newEmail)&&$scope.data.settings.emails.push($scope.data.settings.newEmail),$scope.data.settings.newEmail=null},$scope.deleteEmail=function(){confirm("Are you sure you want to remove this email from your list ?")&&$scope.data.settings.emails.splice(this.$index,1)}}]),saturnApp.controller("UserController",["$scope","$rootScope","$location","$http","$timeout","Data","Settings",function($scope,$rootScope,$location,$http,$timeout,Data,Settings){function handleAuthResult(response){if(response&&!response.error){var d=new Date;d.setTime(d.getTime()+1e3*parseInt(response.expires_in)),$.cookie("saturn_access_token",response.access_token,{expires:d}),$http.defaults.headers.common.Authorization="Bearer "+$.cookie("saturn_access_token"),$scope.data.user.authorised=!0,$location.path("/"),$scope.getUserData(),Settings.list({access_token:$.cookie("saturn_access_token")},function(response){angular.forEach(response.items,function(value){$scope.data.settings[value.id]=value.value})},function(response){$rootScope.$broadcast("feedback:start",{type:"alert alert-error",message:response.data.error.message}),$timeout(function(){$rootScope.$broadcast("feedback:stop")},1e3)})}}$scope.data=Data,$scope.data.user||($scope.data.user={firstName:"User",authorised:!1}),$scope.login=function(){$http.post("/login",{user:$scope.loginData.user,password:$scope.loginData.password}).success(function(data){$scope.data.apiKey=data.apiKey,gapi.client.setApiKey(data.apiKey),window.setTimeout(function(){gapi.auth.authorize({client_id:data.clientId,scope:data.scopes,response_type:"token",immediate:!1,login_hint:data.login_hint,approval_prompt:"auto"},handleAuthResult)},200)}).error(function(){})},$scope.logout=function(){$.cookie("saturn_access_token",null,{expires:-1}),$.cookie("saturn_current_path",null,{expires:-1}),$scope.data.user.authorised=!1,$scope.data.calendars=[],$rootScope.$broadcast("feedback:stop"),$location.path("/login")},$scope.getUserData=function(){safeApply($scope,function(){$http({method:"GET",url:"https://www.googleapis.com/oauth2/v3/userinfo",params:{access_token:$.cookie("saturn_access_token")}}).success(function(data){$scope.data.user.firstName=data.given_name,$scope.data.user.lastName=data.family_name,$scope.data.user.email=data.email,$scope.data.user.gender=data.gender,$scope.data.user.picture=data.picture,$scope.data.user.profile=data.profile})})},$.cookie("saturn_access_token")&&($scope.data.user.authorised=!0,$http.defaults.headers.common.Authorization="Bearer "+$.cookie("saturn_access_token"),$.cookie("saturn_current_path")?$location.path($.cookie("saturn_current_path")):$location.path("/"),$scope.getUserData())}])}(jQuery);